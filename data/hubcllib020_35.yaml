- en: Utilities
  id: totrans-0
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 实用工具
- en: 'Original text: [https://huggingface.co/docs/huggingface_hub/package_reference/utilities](https://huggingface.co/docs/huggingface_hub/package_reference/utilities)'
  id: totrans-1
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
  zh: 原文：[https://huggingface.co/docs/huggingface_hub/package_reference/utilities](https://huggingface.co/docs/huggingface_hub/package_reference/utilities)
- en: null
  id: totrans-2
  prefs: []
  type: TYPE_NORMAL
- en: Configure logging
  id: totrans-3
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 配置日志记录
- en: 'The `huggingface_hub` package exposes a `logging` utility to control the logging
    level of the package itself. You can import it as such:'
  id: totrans-4
  prefs: []
  type: TYPE_NORMAL
  zh: '`huggingface_hub`包提供了一个`logging`工具，用于控制包本身的日志级别。您可以这样导入它：'
- en: '[PRE0]'
  id: totrans-5
  prefs: []
  type: TYPE_PRE
  zh: '[PRE0]'
- en: 'Then, you may define the verbosity in order to update the amount of logs you’ll
    see:'
  id: totrans-6
  prefs: []
  type: TYPE_NORMAL
  zh: 然后，您可以定义详细程度以更新您将看到的日志量：
- en: '[PRE1]'
  id: totrans-7
  prefs: []
  type: TYPE_PRE
  zh: '[PRE1]'
- en: 'The levels should be understood as follows:'
  id: totrans-8
  prefs: []
  type: TYPE_NORMAL
  zh: 这些级别应该理解如下：
- en: '`error`: only show critical logs about usage which may result in an error or
    unexpected behavior.'
  id: totrans-9
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`error`：仅显示关于使用的关键日志，可能会导致错误或意外行为。'
- en: '`warning`: show logs that aren’t critical but usage may result in unintended
    behavior. Additionally, important informative logs may be shown.'
  id: totrans-10
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`warning`：显示不是关键的日志，但使用可能导致意外行为。此外，可能会显示重要的信息性日志。'
- en: '`info`: show most logs, including some verbose logging regarding what is happening
    under the hood. If something is behaving in an unexpected manner, we recommend
    switching the verbosity level to this in order to get more information.'
  id: totrans-11
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`info`：显示大多数日志，包括一些关于底层发生情况的冗长日志。如果某些行为表现出意外行为，我们建议将详细程度级别切换到此级别以获取更多信息。'
- en: '`debug`: show all logs, including some internal logs which may be used to track
    exactly what’s happening under the hood.'
  id: totrans-12
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`debug`：显示所有日志，包括一些内部日志，可用于跟踪底层发生的情况。'
- en: '#### `huggingface_hub.utils.logging.get_verbosity`'
  id: totrans-13
  prefs: []
  type: TYPE_NORMAL
  zh: '#### `huggingface_hub.utils.logging.get_verbosity`'
- en: '[< source >](https://github.com/huggingface/huggingface_hub/blob/v0.20.3/src/huggingface_hub/utils/logging.py#L103)'
  id: totrans-14
  prefs: []
  type: TYPE_NORMAL
  zh: '[<来源>](https://github.com/huggingface/huggingface_hub/blob/v0.20.3/src/huggingface_hub/utils/logging.py#L103)'
- en: '[PRE2]'
  id: totrans-15
  prefs: []
  type: TYPE_PRE
  zh: '[PRE2]'
- en: Return the current level for the HuggingFace Hub’s root logger.
  id: totrans-16
  prefs: []
  type: TYPE_NORMAL
  zh: 返回HuggingFace Hub的根记录器的当前级别。
- en: 'HuggingFace Hub has following logging levels:'
  id: totrans-17
  prefs: []
  type: TYPE_NORMAL
  zh: HuggingFace Hub具有以下日志级别：
- en: '`huggingface_hub.logging.CRITICAL`, `huggingface_hub.logging.FATAL`'
  id: totrans-18
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`huggingface_hub.logging.CRITICAL`，`huggingface_hub.logging.FATAL`'
- en: '`huggingface_hub.logging.ERROR`'
  id: totrans-19
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`huggingface_hub.logging.ERROR`'
- en: '`huggingface_hub.logging.WARNING`, `huggingface_hub.logging.WARN`'
  id: totrans-20
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`huggingface_hub.logging.WARNING`，`huggingface_hub.logging.WARN`'
- en: '`huggingface_hub.logging.INFO`'
  id: totrans-21
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`huggingface_hub.logging.INFO`'
- en: '`huggingface_hub.logging.DEBUG`'
  id: totrans-22
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`huggingface_hub.logging.DEBUG`'
- en: '#### `huggingface_hub.utils.logging.set_verbosity`'
  id: totrans-23
  prefs: []
  type: TYPE_NORMAL
  zh: '#### `huggingface_hub.utils.logging.set_verbosity`'
- en: '[< source >](https://github.com/huggingface/huggingface_hub/blob/v0.20.3/src/huggingface_hub/utils/logging.py#L125)'
  id: totrans-24
  prefs: []
  type: TYPE_NORMAL
  zh: '[<来源>](https://github.com/huggingface/huggingface_hub/blob/v0.20.3/src/huggingface_hub/utils/logging.py#L125)'
- en: '[PRE3]'
  id: totrans-25
  prefs: []
  type: TYPE_PRE
  zh: '[PRE3]'
- en: Parameters
  id: totrans-26
  prefs: []
  type: TYPE_NORMAL
  zh: 参数
- en: '`verbosity` (`int`) — Logging level, e.g., `huggingface_hub.logging.DEBUG`
    and `huggingface_hub.logging.INFO`.'
  id: totrans-27
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`verbosity`（`int`）— 日志级别，例如，`huggingface_hub.logging.DEBUG`和`huggingface_hub.logging.INFO`。'
- en: Sets the level for the HuggingFace Hub’s root logger.
  id: totrans-28
  prefs: []
  type: TYPE_NORMAL
  zh: 设置HuggingFace Hub的根记录器级别。
- en: '#### `huggingface_hub.utils.logging.set_verbosity_info`'
  id: totrans-29
  prefs: []
  type: TYPE_NORMAL
  zh: '#### `huggingface_hub.utils.logging.set_verbosity_info`'
- en: '[< source >](https://github.com/huggingface/huggingface_hub/blob/v0.20.3/src/huggingface_hub/utils/logging.py#L137)'
  id: totrans-30
  prefs: []
  type: TYPE_NORMAL
  zh: '[<来源>](https://github.com/huggingface/huggingface_hub/blob/v0.20.3/src/huggingface_hub/utils/logging.py#L137)'
- en: '[PRE4]'
  id: totrans-31
  prefs: []
  type: TYPE_PRE
  zh: '[PRE4]'
- en: Sets the verbosity to `logging.INFO`.
  id: totrans-32
  prefs: []
  type: TYPE_NORMAL
  zh: 将详细程度设置为`logging.INFO`。
- en: '#### `huggingface_hub.utils.logging.set_verbosity_debug`'
  id: totrans-33
  prefs: []
  type: TYPE_NORMAL
  zh: '#### `huggingface_hub.utils.logging.set_verbosity_debug`'
- en: '[< source >](https://github.com/huggingface/huggingface_hub/blob/v0.20.3/src/huggingface_hub/utils/logging.py#L151)'
  id: totrans-34
  prefs: []
  type: TYPE_NORMAL
  zh: '[<来源>](https://github.com/huggingface/huggingface_hub/blob/v0.20.3/src/huggingface_hub/utils/logging.py#L151)'
- en: '[PRE5]'
  id: totrans-35
  prefs: []
  type: TYPE_PRE
  zh: '[PRE5]'
- en: Sets the verbosity to `logging.DEBUG`.
  id: totrans-36
  prefs: []
  type: TYPE_NORMAL
  zh: 将详细程度设置为`logging.DEBUG`。
- en: '#### `huggingface_hub.utils.logging.set_verbosity_warning`'
  id: totrans-37
  prefs: []
  type: TYPE_NORMAL
  zh: '#### `huggingface_hub.utils.logging.set_verbosity_warning`'
- en: '[< source >](https://github.com/huggingface/huggingface_hub/blob/v0.20.3/src/huggingface_hub/utils/logging.py#L144)'
  id: totrans-38
  prefs: []
  type: TYPE_NORMAL
  zh: '[<来源>](https://github.com/huggingface/huggingface_hub/blob/v0.20.3/src/huggingface_hub/utils/logging.py#L144)'
- en: '[PRE6]'
  id: totrans-39
  prefs: []
  type: TYPE_PRE
  zh: '[PRE6]'
- en: Sets the verbosity to `logging.WARNING`.
  id: totrans-40
  prefs: []
  type: TYPE_NORMAL
  zh: 将详细程度设置为`logging.WARNING`。
- en: '#### `huggingface_hub.utils.logging.set_verbosity_error`'
  id: totrans-41
  prefs: []
  type: TYPE_NORMAL
  zh: '#### `huggingface_hub.utils.logging.set_verbosity_error`'
- en: '[< source >](https://github.com/huggingface/huggingface_hub/blob/v0.20.3/src/huggingface_hub/utils/logging.py#L158)'
  id: totrans-42
  prefs: []
  type: TYPE_NORMAL
  zh: '[<来源>](https://github.com/huggingface/huggingface_hub/blob/v0.20.3/src/huggingface_hub/utils/logging.py#L158)'
- en: '[PRE7]'
  id: totrans-43
  prefs: []
  type: TYPE_PRE
  zh: '[PRE7]'
- en: Sets the verbosity to `logging.ERROR`.
  id: totrans-44
  prefs: []
  type: TYPE_NORMAL
  zh: 将详细程度设置为`logging.ERROR`。
- en: '#### `huggingface_hub.utils.logging.disable_propagation`'
  id: totrans-45
  prefs: []
  type: TYPE_NORMAL
  zh: '#### `huggingface_hub.utils.logging.disable_propagation`'
- en: '[< source >](https://github.com/huggingface/huggingface_hub/blob/v0.20.3/src/huggingface_hub/utils/logging.py#L165)'
  id: totrans-46
  prefs: []
  type: TYPE_NORMAL
  zh: '[<来源>](https://github.com/huggingface/huggingface_hub/blob/v0.20.3/src/huggingface_hub/utils/logging.py#L165)'
- en: '[PRE8]'
  id: totrans-47
  prefs: []
  type: TYPE_PRE
  zh: '[PRE8]'
- en: Disable propagation of the library log outputs. Note that log propagation is
    disabled by default.
  id: totrans-48
  prefs: []
  type: TYPE_NORMAL
  zh: 禁用库日志输出的传播。请注意，默认情况下已禁用日志传播。
- en: '#### `huggingface_hub.utils.logging.enable_propagation`'
  id: totrans-49
  prefs: []
  type: TYPE_NORMAL
  zh: '#### `huggingface_hub.utils.logging.enable_propagation`'
- en: '[< source >](https://github.com/huggingface/huggingface_hub/blob/v0.20.3/src/huggingface_hub/utils/logging.py#L173)'
  id: totrans-50
  prefs: []
  type: TYPE_NORMAL
  zh: '[<来源>](https://github.com/huggingface/huggingface_hub/blob/v0.20.3/src/huggingface_hub/utils/logging.py#L173)'
- en: '[PRE9]'
  id: totrans-51
  prefs: []
  type: TYPE_PRE
  zh: '[PRE9]'
- en: Enable propagation of the library log outputs. Please disable the HuggingFace
    Hub’s default handler to prevent double logging if the root logger has been configured.
  id: totrans-52
  prefs: []
  type: TYPE_NORMAL
  zh: 启用库日志输出的传播。如果根记录器已配置，请禁用HuggingFace Hub的默认处理程序以防止双重记录。
- en: Repo-specific helper methods
  id: totrans-53
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 特定于存储库的辅助方法
- en: The methods exposed below are relevant when modifying modules from the `huggingface_hub`
    library itself. Using these shouldn’t be necessary if you use `huggingface_hub`
    and you don’t modify them.
  id: totrans-54
  prefs: []
  type: TYPE_NORMAL
  zh: 下面公开的方法在修改`huggingface_hub`库本身的模块时是相关的。如果您使用`huggingface_hub`并且不修改它们，则不应该使用这些方法。
- en: '#### `huggingface_hub.utils.logging.get_logger`'
  id: totrans-55
  prefs: []
  type: TYPE_NORMAL
  zh: '#### `huggingface_hub.utils.logging.get_logger`'
- en: '[< source >](https://github.com/huggingface/huggingface_hub/blob/v0.20.3/src/huggingface_hub/utils/logging.py#L78)'
  id: totrans-56
  prefs: []
  type: TYPE_NORMAL
  zh: '[<来源>](https://github.com/huggingface/huggingface_hub/blob/v0.20.3/src/huggingface_hub/utils/logging.py#L78)'
- en: '[PRE10]'
  id: totrans-57
  prefs: []
  type: TYPE_PRE
  zh: '[PRE10]'
- en: Parameters
  id: totrans-58
  prefs: []
  type: TYPE_NORMAL
  zh: 参数
- en: '`name` (`str`, *optional*) — The name of the logger to get, usually the filename'
  id: totrans-59
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`name`（`str`，*可选*）— 要获取的记录器的名称，通常是文件名'
- en: Returns a logger with the specified name. This function is not supposed to be
    directly accessed by library users.
  id: totrans-60
  prefs: []
  type: TYPE_NORMAL
  zh: 返回具有指定名称的记录器。此函数不应直接由库用户访问。
- en: 'Example:'
  id: totrans-61
  prefs: []
  type: TYPE_NORMAL
  zh: 示例：
- en: '[PRE11]'
  id: totrans-62
  prefs: []
  type: TYPE_PRE
  zh: '[PRE11]'
- en: Configure progress bars
  id: totrans-63
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 配置进度条
- en: Progress bars are a useful tool to display information to the user while a long-running
    task is being executed (e.g. when downloading or uploading files). `huggingface_hub`
    exposes a `tqdm` wrapper to display progress bars in a consistent way across the
    library.
  id: totrans-64
  prefs: []
  type: TYPE_NORMAL
  zh: 进度条是一种有用的工具，用于在执行长时间任务时向用户显示信息（例如下载或上传文件时）。`huggingface_hub`提供了一个`tqdm`包装器，以一致的方式在整个库中显示进度条。
- en: By default, progress bars are enabled. You can disable them globally by setting
    `HF_HUB_DISABLE_PROGRESS_BARS` environment variable. You can also enable/disable
    them using [enable_progress_bars()](/docs/huggingface_hub/v0.20.3/en/package_reference/utilities#huggingface_hub.utils.enable_progress_bars)
    and [disable_progress_bars()](/docs/huggingface_hub/v0.20.3/en/package_reference/utilities#huggingface_hub.utils.disable_progress_bars).
    If set, the environment variable has priority on the helpers.
  id: totrans-65
  prefs: []
  type: TYPE_NORMAL
  zh: 默认情况下，进度条是启用的。您可以通过设置`HF_HUB_DISABLE_PROGRESS_BARS`环境变量来全局禁用它们。您还可以使用[enable_progress_bars()](/docs/huggingface_hub/v0.20.3/en/package_reference/utilities#huggingface_hub.utils.enable_progress_bars)和[disable_progress_bars()](/docs/huggingface_hub/v0.20.3/en/package_reference/utilities#huggingface_hub.utils.disable_progress_bars)来启用/禁用它们。如果设置了环境变量，则优先考虑助手。
- en: '[PRE12]'
  id: totrans-66
  prefs: []
  type: TYPE_PRE
  zh: '[PRE12]'
- en: are_progress_bars_disabled
  id: totrans-67
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: are_progress_bars_disabled
- en: '#### `huggingface_hub.utils.are_progress_bars_disabled`'
  id: totrans-68
  prefs: []
  type: TYPE_NORMAL
  zh: '`huggingface_hub.utils.are_progress_bars_disabled`'
- en: '[< source >](https://github.com/huggingface/huggingface_hub/blob/v0.20.3/src/huggingface_hub/utils/tqdm.py#L112)'
  id: totrans-69
  prefs: []
  type: TYPE_NORMAL
  zh: '[<来源>](https://github.com/huggingface/huggingface_hub/blob/v0.20.3/src/huggingface_hub/utils/tqdm.py#L112)'
- en: '[PRE13]'
  id: totrans-70
  prefs: []
  type: TYPE_PRE
  zh: '[PRE13]'
- en: Return whether progress bars are globally disabled or not.
  id: totrans-71
  prefs: []
  type: TYPE_NORMAL
  zh: 返回全局进度条是否已禁用。
- en: Progress bars used in `huggingface_hub` can be enable or disabled globally using
    [enable_progress_bars()](/docs/huggingface_hub/v0.20.3/en/package_reference/utilities#huggingface_hub.utils.enable_progress_bars)
    and [disable_progress_bars()](/docs/huggingface_hub/v0.20.3/en/package_reference/utilities#huggingface_hub.utils.disable_progress_bars)
    or by setting `HF_HUB_DISABLE_PROGRESS_BARS` as environment variable.
  id: totrans-72
  prefs: []
  type: TYPE_NORMAL
  zh: '`huggingface_hub`中使用的进度条可以通过[enable_progress_bars()](/docs/huggingface_hub/v0.20.3/en/package_reference/utilities#huggingface_hub.utils.enable_progress_bars)和[disable_progress_bars()](/docs/huggingface_hub/v0.20.3/en/package_reference/utilities#huggingface_hub.utils.disable_progress_bars)全局启用或禁用，或者通过将`HF_HUB_DISABLE_PROGRESS_BARS`设置为环境变量。'
- en: disable_progress_bars
  id: totrans-73
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: disable_progress_bars
- en: '#### `huggingface_hub.utils.disable_progress_bars`'
  id: totrans-74
  prefs: []
  type: TYPE_NORMAL
  zh: '`huggingface_hub.utils.disable_progress_bars`'
- en: '[< source >](https://github.com/huggingface/huggingface_hub/blob/v0.20.3/src/huggingface_hub/utils/tqdm.py#L78)'
  id: totrans-75
  prefs: []
  type: TYPE_NORMAL
  zh: '[<来源>](https://github.com/huggingface/huggingface_hub/blob/v0.20.3/src/huggingface_hub/utils/tqdm.py#L78)'
- en: '[PRE14]'
  id: totrans-76
  prefs: []
  type: TYPE_PRE
  zh: '[PRE14]'
- en: Disable globally progress bars used in `huggingface_hub` except if `HF_HUB_DISABLE_PROGRESS_BARS`
    environment variable has been set.
  id: totrans-77
  prefs: []
  type: TYPE_NORMAL
  zh: 除非设置了`HF_HUB_DISABLE_PROGRESS_BARS`环境变量，否则禁用`huggingface_hub`中使用的全局进度条。
- en: Use [enable_progress_bars()](/docs/huggingface_hub/v0.20.3/en/package_reference/utilities#huggingface_hub.utils.enable_progress_bars)
    to re-enable them.
  id: totrans-78
  prefs: []
  type: TYPE_NORMAL
  zh: 使用[enable_progress_bars()](/docs/huggingface_hub/v0.20.3/en/package_reference/utilities#huggingface_hub.utils.enable_progress_bars)重新启用它们。
- en: enable_progress_bars
  id: totrans-79
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: enable_progress_bars
- en: '#### `huggingface_hub.utils.enable_progress_bars`'
  id: totrans-80
  prefs: []
  type: TYPE_NORMAL
  zh: '`huggingface_hub.utils.enable_progress_bars`'
- en: '[< source >](https://github.com/huggingface/huggingface_hub/blob/v0.20.3/src/huggingface_hub/utils/tqdm.py#L95)'
  id: totrans-81
  prefs: []
  type: TYPE_NORMAL
  zh: '[<来源>](https://github.com/huggingface/huggingface_hub/blob/v0.20.3/src/huggingface_hub/utils/tqdm.py#L95)'
- en: '[PRE15]'
  id: totrans-82
  prefs: []
  type: TYPE_PRE
  zh: '[PRE15]'
- en: Enable globally progress bars used in `huggingface_hub` except if `HF_HUB_DISABLE_PROGRESS_BARS`
    environment variable has been set.
  id: totrans-83
  prefs: []
  type: TYPE_NORMAL
  zh: 在`huggingface_hub`中全局启用进度条，除非设置了`HF_HUB_DISABLE_PROGRESS_BARS`环境变量。
- en: Use [disable_progress_bars()](/docs/huggingface_hub/v0.20.3/en/package_reference/utilities#huggingface_hub.utils.disable_progress_bars)
    to disable them.
  id: totrans-84
  prefs: []
  type: TYPE_NORMAL
  zh: 使用[disable_progress_bars()](/docs/huggingface_hub/v0.20.3/en/package_reference/utilities#huggingface_hub.utils.disable_progress_bars)来禁用它们。
- en: Configure HTTP backend
  id: totrans-85
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 配置HTTP后端
- en: In some environments, you might want to configure how HTTP calls are made, for
    example if you are using a proxy. `huggingface_hub` let you configure this globally
    using [configure_http_backend()](/docs/huggingface_hub/v0.20.3/en/package_reference/utilities#huggingface_hub.configure_http_backend).
    All requests made to the Hub will then use your settings. Under the hood, `huggingface_hub`
    uses `requests.Session` so you might want to refer to the [`requests` documentation](https://requests.readthedocs.io/en/latest/user/advanced)
    to learn more about the available parameters.
  id: totrans-86
  prefs: []
  type: TYPE_NORMAL
  zh: 在某些环境中，您可能希望配置如何进行HTTP调用，例如如果您使用代理。`huggingface_hub`允许您使用[configure_http_backend()](/docs/huggingface_hub/v0.20.3/en/package_reference/utilities#huggingface_hub.configure_http_backend)在全局范围内进行配置。然后，所有发送到Hub的请求将使用您的设置。在幕后，`huggingface_hub`使用`requests.Session`，因此您可能希望参考[`requests`文档](https://requests.readthedocs.io/en/latest/user/advanced)以了解更多可用参数。
- en: Since `requests.Session` is not guaranteed to be thread-safe, `huggingface_hub`
    creates one session instance per thread. Using sessions allows us to keep the
    connection open between HTTP calls and ultimately save time. If you are integrating
    `huggingface_hub` in a third-party library and wants to make a custom call to
    the Hub, use [get_session()](/docs/huggingface_hub/v0.20.3/en/package_reference/utilities#huggingface_hub.get_session)
    to get a Session configured by your users (i.e. replace any `requests.get(...)`
    call by `get_session().get(...)`).
  id: totrans-87
  prefs: []
  type: TYPE_NORMAL
  zh: 由于`requests.Session`不能保证是线程安全的，`huggingface_hub`为每个线程创建一个会话实例。使用会话允许我们在HTTP调用之间保持连接打开，并最终节省时间。如果您正在将`huggingface_hub`集成到第三方库中，并希望对Hub进行自定义调用，请使用[get_session()](/docs/huggingface_hub/v0.20.3/en/package_reference/utilities#huggingface_hub.get_session)获取由用户配置的会话（即用`get_session().get(...)`替换任何`requests.get(...)`调用）。
- en: '#### `huggingface_hub.configure_http_backend`'
  id: totrans-88
  prefs: []
  type: TYPE_NORMAL
  zh: '`huggingface_hub.configure_http_backend`'
- en: '[< source >](https://github.com/huggingface/huggingface_hub/blob/v0.20.3/src/huggingface_hub/utils/_http.py#L98)'
  id: totrans-89
  prefs: []
  type: TYPE_NORMAL
  zh: '[<来源>](https://github.com/huggingface/huggingface_hub/blob/v0.20.3/src/huggingface_hub/utils/_http.py#L98)'
- en: '[PRE16]'
  id: totrans-90
  prefs: []
  type: TYPE_PRE
  zh: '[PRE16]'
- en: Configure the HTTP backend by providing a `backend_factory`. Any HTTP calls
    made by `huggingface_hub` will use a Session object instantiated by this factory.
    This can be useful if you are running your scripts in a specific environment requiring
    custom configuration (e.g. custom proxy or certifications).
  id: totrans-91
  prefs: []
  type: TYPE_NORMAL
  zh: 通过提供`backend_factory`来配置HTTP后端。`huggingface_hub`发出的任何HTTP调用都将使用此工厂实例化的会话对象。如果您在特定环境中运行脚本需要自定义配置（例如自定义代理或证书），这可能很有用。
- en: Use [get_session()](/docs/huggingface_hub/v0.20.3/en/package_reference/utilities#huggingface_hub.get_session)
    to get a configured Session. Since `requests.Session` is not guaranteed to be
    thread-safe, `huggingface_hub` creates 1 Session instance per thread. They are
    all instantiated using the same `backend_factory` set in [configure_http_backend()](/docs/huggingface_hub/v0.20.3/en/package_reference/utilities#huggingface_hub.configure_http_backend).
    A LRU cache is used to cache the created sessions (and connections) between calls.
    Max size is 128 to avoid memory leaks if thousands of threads are spawned.
  id: totrans-92
  prefs: []
  type: TYPE_NORMAL
  zh: 使用[get_session()](/docs/huggingface_hub/v0.20.3/en/package_reference/utilities#huggingface_hub.get_session)获取配置的Session。由于`requests.Session`不能保证是线程安全的，`huggingface_hub`为每个线程创建一个Session实例。它们都是使用[configure_http_backend()](/docs/huggingface_hub/v0.20.3/en/package_reference/utilities#huggingface_hub.configure_http_backend)中设置的相同的`backend_factory`实例化的。LRU缓存用于在调用之间缓存创建的会话（和连接）。最大大小为128，以避免内存泄漏，如果生成了成千上万个线程。
- en: See [this issue](https://github.com/psf/requests/issues/2766) to know more about
    thread-safety in `requests`.
  id: totrans-93
  prefs: []
  type: TYPE_NORMAL
  zh: 查看[此问题](https://github.com/psf/requests/issues/2766)以了解更多关于`requests`中线程安全性的信息。
- en: 'Example:'
  id: totrans-94
  prefs: []
  type: TYPE_NORMAL
  zh: 示例：
- en: '[PRE17]'
  id: totrans-95
  prefs: []
  type: TYPE_PRE
  zh: '[PRE17]'
- en: '#### `huggingface_hub.get_session`'
  id: totrans-96
  prefs: []
  type: TYPE_NORMAL
  zh: '#### `huggingface_hub.get_session`'
- en: '[< source >](https://github.com/huggingface/huggingface_hub/blob/v0.20.3/src/huggingface_hub/utils/_http.py#L134)'
  id: totrans-97
  prefs: []
  type: TYPE_NORMAL
  zh: '[< source >](https://github.com/huggingface/huggingface_hub/blob/v0.20.3/src/huggingface_hub/utils/_http.py#L134)'
- en: '[PRE18]'
  id: totrans-98
  prefs: []
  type: TYPE_PRE
  zh: '[PRE18]'
- en: Get a `requests.Session` object, using the session factory from the user.
  id: totrans-99
  prefs: []
  type: TYPE_NORMAL
  zh: 获取一个`requests.Session`对象，使用用户的会话工厂。
- en: Use [get_session()](/docs/huggingface_hub/v0.20.3/en/package_reference/utilities#huggingface_hub.get_session)
    to get a configured Session. Since `requests.Session` is not guaranteed to be
    thread-safe, `huggingface_hub` creates 1 Session instance per thread. They are
    all instantiated using the same `backend_factory` set in [configure_http_backend()](/docs/huggingface_hub/v0.20.3/en/package_reference/utilities#huggingface_hub.configure_http_backend).
    A LRU cache is used to cache the created sessions (and connections) between calls.
    Max size is 128 to avoid memory leaks if thousands of threads are spawned.
  id: totrans-100
  prefs: []
  type: TYPE_NORMAL
  zh: 使用[get_session()](/docs/huggingface_hub/v0.20.3/en/package_reference/utilities#huggingface_hub.get_session)获取配置的Session。由于`requests.Session`不能保证是线程安全的，`huggingface_hub`为每个线程创建一个Session实例。它们都是使用[configure_http_backend()](/docs/huggingface_hub/v0.20.3/en/package_reference/utilities#huggingface_hub.configure_http_backend)中设置的相同的`backend_factory`实例化的。LRU缓存用于在调用之间缓存创建的会话（和连接）。最大大小为128，以避免内存泄漏，如果生成了成千上万个线程。
- en: See [this issue](https://github.com/psf/requests/issues/2766) to know more about
    thread-safety in `requests`.
  id: totrans-101
  prefs: []
  type: TYPE_NORMAL
  zh: 查看[此问题](https://github.com/psf/requests/issues/2766)以了解更多关于`requests`中线程安全性的信息。
- en: 'Example:'
  id: totrans-102
  prefs: []
  type: TYPE_NORMAL
  zh: 示例：
- en: '[PRE19]'
  id: totrans-103
  prefs: []
  type: TYPE_PRE
  zh: '[PRE19]'
- en: Handle HTTP errors
  id: totrans-104
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 处理HTTP错误
- en: '`huggingface_hub` defines its own HTTP errors to refine the `HTTPError` raised
    by `requests` with additional information sent back by the server.'
  id: totrans-105
  prefs: []
  type: TYPE_NORMAL
  zh: '`huggingface_hub`定义了自己的HTTP错误，以细化`requests`引发的`HTTPError`，并附加服务器返回的额外信息。'
- en: Raise for status
  id: totrans-106
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 提升状态
- en: '[hf_raise_for_status()](/docs/huggingface_hub/v0.20.3/en/package_reference/utilities#huggingface_hub.utils.hf_raise_for_status)
    is meant to be the central method to “raise for status” from any request made
    to the Hub. It wraps the base `requests.raise_for_status` to provide additional
    information. Any `HTTPError` thrown is converted into a `HfHubHTTPError`.'
  id: totrans-107
  prefs: []
  type: TYPE_NORMAL
  zh: '[hf_raise_for_status()](/docs/huggingface_hub/v0.20.3/en/package_reference/utilities#huggingface_hub.utils.hf_raise_for_status)旨在成为从Hub发出的任何请求的“raise
    for status”的中心方法。它包装了基本的`requests.raise_for_status`以提供额外信息。抛出的任何`HTTPError`都会转换为`HfHubHTTPError`。'
- en: '[PRE20]'
  id: totrans-108
  prefs: []
  type: TYPE_PRE
  zh: '[PRE20]'
- en: '#### `huggingface_hub.utils.hf_raise_for_status`'
  id: totrans-109
  prefs: []
  type: TYPE_NORMAL
  zh: '#### `huggingface_hub.utils.hf_raise_for_status`'
- en: '[< source >](https://github.com/huggingface/huggingface_hub/blob/v0.20.3/src/huggingface_hub/utils/_errors.py#L230)'
  id: totrans-110
  prefs: []
  type: TYPE_NORMAL
  zh: '[< source >](https://github.com/huggingface/huggingface_hub/blob/v0.20.3/src/huggingface_hub/utils/_errors.py#L230)'
- en: '[PRE21]'
  id: totrans-111
  prefs: []
  type: TYPE_PRE
  zh: '[PRE21]'
- en: Parameters
  id: totrans-112
  prefs: []
  type: TYPE_NORMAL
  zh: 参数
- en: '`response` (`Response`) — Response from the server.'
  id: totrans-113
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`response`（`Response`）— 服务器返回的响应。'
- en: '`endpoint_name` (`str`, *optional*) — Name of the endpoint that has been called.
    If provided, the error message will be more complete.'
  id: totrans-114
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`endpoint_name`（`str`，*可选*）— 被调用的端点的名称。如果提供，错误消息将更完整。'
- en: Internal version of `response.raise_for_status()` that will refine a potential
    HTTPError. Raised exception will be an instance of `HfHubHTTPError`.
  id: totrans-115
  prefs: []
  type: TYPE_NORMAL
  zh: '`response.raise_for_status()`的内部版本，将细化潜在的HTTPError。引发的异常将是`HfHubHTTPError`的实例。'
- en: This helper is meant to be the unique method to raise_for_status when making
    a call to the Hugging Face Hub.
  id: totrans-116
  prefs: []
  type: TYPE_NORMAL
  zh: 这个辅助程序旨在成为调用Hugging Face Hub时唯一的`raise_for_status`方法。
- en: 'Example:'
  id: totrans-117
  prefs: []
  type: TYPE_NORMAL
  zh: 示例：
- en: '[PRE22]'
  id: totrans-118
  prefs: []
  type: TYPE_PRE
  zh: '[PRE22]'
- en: 'Raises when the request has failed:'
  id: totrans-119
  prefs: []
  type: TYPE_NORMAL
  zh: 请求失败时引发：
- en: '[RepositoryNotFoundError](/docs/huggingface_hub/v0.20.3/en/package_reference/utilities#huggingface_hub.utils.RepositoryNotFoundError)
    If the repository to download from cannot be found. This may be because it doesn’t
    exist, because `repo_type` is not set correctly, or because the repo is `private`
    and you do not have access.'
  id: totrans-120
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[RepositoryNotFoundError](/docs/huggingface_hub/v0.20.3/en/package_reference/utilities#huggingface_hub.utils.RepositoryNotFoundError)
    如果无法找到要下载的仓库。这可能是因为它不存在，因为`repo_type`没有正确设置，或者因为仓库是`private`，而您没有访问权限。'
- en: '[GatedRepoError](/docs/huggingface_hub/v0.20.3/en/package_reference/utilities#huggingface_hub.utils.GatedRepoError)
    If the repository exists but is gated and the user is not on the authorized list.'
  id: totrans-121
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[GatedRepoError](/docs/huggingface_hub/v0.20.3/en/package_reference/utilities#huggingface_hub.utils.GatedRepoError)
    如果仓库存在但是被限制，用户不在授权列表中。'
- en: '[RevisionNotFoundError](/docs/huggingface_hub/v0.20.3/en/package_reference/utilities#huggingface_hub.utils.RevisionNotFoundError)
    If the repository exists but the revision couldn’t be find.'
  id: totrans-122
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[RevisionNotFoundError](/docs/huggingface_hub/v0.20.3/en/package_reference/utilities#huggingface_hub.utils.RevisionNotFoundError)
    如果仓库存在但是找不到修订版本。'
- en: '[EntryNotFoundError](/docs/huggingface_hub/v0.20.3/en/package_reference/utilities#huggingface_hub.utils.EntryNotFoundError)
    If the repository exists but the entry (e.g. the requested file) couldn’t be find.'
  id: totrans-123
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[EntryNotFoundError](/docs/huggingface_hub/v0.20.3/en/package_reference/utilities#huggingface_hub.utils.EntryNotFoundError)
    如果仓库存在但是条目（例如请求的文件）找不到。'
- en: '[BadRequestError](/docs/huggingface_hub/v0.20.3/en/package_reference/utilities#huggingface_hub.utils.BadRequestError)
    If request failed with a HTTP 400 BadRequest error.'
  id: totrans-124
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[BadRequestError](/docs/huggingface_hub/v0.20.3/en/package_reference/utilities#huggingface_hub.utils.BadRequestError)
    如果请求失败并出现HTTP 400 BadRequest错误。'
- en: '[HfHubHTTPError](/docs/huggingface_hub/v0.20.3/en/package_reference/utilities#huggingface_hub.utils.HfHubHTTPError)
    If request failed for a reason not listed above.'
  id: totrans-125
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[HfHubHTTPError](/docs/huggingface_hub/v0.20.3/en/package_reference/utilities#huggingface_hub.utils.HfHubHTTPError)
    如果请求失败原因未列出。'
- en: HTTP errors
  id: totrans-126
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: HTTP错误
- en: Here is a list of HTTP errors thrown in `huggingface_hub`.
  id: totrans-127
  prefs: []
  type: TYPE_NORMAL
  zh: 这是在`huggingface_hub`中抛出的HTTP错误列表。
- en: HfHubHTTPError
  id: totrans-128
  prefs:
  - PREF_H4
  type: TYPE_NORMAL
  zh: HfHubHTTPError
- en: '`HfHubHTTPError` is the parent class for any HF Hub HTTP error. It takes care
    of parsing the server response and format the error message to provide as much
    information to the user as possible.'
  id: totrans-129
  prefs: []
  type: TYPE_NORMAL
  zh: '`HfHubHTTPError`是任何HF Hub HTTP错误的父类。它负责解析服务器响应并格式化错误消息，以尽可能向用户提供尽可能多的信息。'
- en: '### `class huggingface_hub.utils.HfHubHTTPError`'
  id: totrans-130
  prefs: []
  type: TYPE_NORMAL
  zh: '### `class huggingface_hub.utils.HfHubHTTPError`'
- en: '[< source >](https://github.com/huggingface/huggingface_hub/blob/v0.20.3/src/huggingface_hub/utils/_errors.py#L32)'
  id: totrans-131
  prefs: []
  type: TYPE_NORMAL
  zh: '[<来源>](https://github.com/huggingface/huggingface_hub/blob/v0.20.3/src/huggingface_hub/utils/_errors.py#L32)'
- en: '[PRE23]'
  id: totrans-132
  prefs: []
  type: TYPE_PRE
  zh: '[PRE23]'
- en: HTTPError to inherit from for any custom HTTP Error raised in HF Hub.
  id: totrans-133
  prefs: []
  type: TYPE_NORMAL
  zh: 用于在HF Hub中引发任何自定义HTTP错误的HTTPError继承。
- en: Any HTTPError is converted at least into a `HfHubHTTPError`. If some information
    is sent back by the server, it will be added to the error message.
  id: totrans-134
  prefs: []
  type: TYPE_NORMAL
  zh: 任何HTTP错误至少转换为`HfHubHTTPError`。如果服务器发送了一些信息，它将被添加到错误消息中。
- en: 'Added details:'
  id: totrans-135
  prefs: []
  type: TYPE_NORMAL
  zh: 添加细节：
- en: Request id from “X-Request-Id” header if exists.
  id: totrans-136
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 如果存在，则从“X-Request-Id”标题中获取请求ID。
- en: Server error message from the header “X-Error-Message”.
  id: totrans-137
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 来自标题“X-Error-Message”的服务器错误消息。
- en: Server error message if we can found one in the response body.
  id: totrans-138
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 如果在响应正文中找到错误消息，则显示服务器错误消息。
- en: 'Example:'
  id: totrans-139
  prefs: []
  type: TYPE_NORMAL
  zh: 示例：
- en: '[PRE24]'
  id: totrans-140
  prefs: []
  type: TYPE_PRE
  zh: '[PRE24]'
- en: '#### `append_to_message`'
  id: totrans-141
  prefs: []
  type: TYPE_NORMAL
  zh: '#### `append_to_message`'
- en: '[< source >](https://github.com/huggingface/huggingface_hub/blob/v0.20.3/src/huggingface_hub/utils/_errors.py#L109)'
  id: totrans-142
  prefs: []
  type: TYPE_NORMAL
  zh: '[<来源>](https://github.com/huggingface/huggingface_hub/blob/v0.20.3/src/huggingface_hub/utils/_errors.py#L109)'
- en: '[PRE25]'
  id: totrans-143
  prefs: []
  type: TYPE_PRE
  zh: '[PRE25]'
- en: Append additional information to the `HfHubHTTPError` initial message.
  id: totrans-144
  prefs: []
  type: TYPE_NORMAL
  zh: 将附加信息添加到`HfHubHTTPError`初始消息中。
- en: RepositoryNotFoundError
  id: totrans-145
  prefs:
  - PREF_H4
  type: TYPE_NORMAL
  zh: RepositoryNotFoundError
- en: '### `class huggingface_hub.utils.RepositoryNotFoundError`'
  id: totrans-146
  prefs: []
  type: TYPE_NORMAL
  zh: '### `class huggingface_hub.utils.RepositoryNotFoundError`'
- en: '[< source >](https://github.com/huggingface/huggingface_hub/blob/v0.20.3/src/huggingface_hub/utils/_errors.py#L114)'
  id: totrans-147
  prefs: []
  type: TYPE_NORMAL
  zh: '[<来源>](https://github.com/huggingface/huggingface_hub/blob/v0.20.3/src/huggingface_hub/utils/_errors.py#L114)'
- en: '[PRE26]'
  id: totrans-148
  prefs: []
  type: TYPE_PRE
  zh: '[PRE26]'
- en: Raised when trying to access a hf.co URL with an invalid repository name, or
    with a private repo name the user does not have access to.
  id: totrans-149
  prefs: []
  type: TYPE_NORMAL
  zh: 尝试访问具有无效存储库名称或用户无权访问的私有存储库名称的hf.co URL时引发。
- en: 'Example:'
  id: totrans-150
  prefs: []
  type: TYPE_NORMAL
  zh: 示例：
- en: '[PRE27]'
  id: totrans-151
  prefs: []
  type: TYPE_PRE
  zh: '[PRE27]'
- en: GatedRepoError
  id: totrans-152
  prefs:
  - PREF_H4
  type: TYPE_NORMAL
  zh: GatedRepoError
- en: '### `class huggingface_hub.utils.GatedRepoError`'
  id: totrans-153
  prefs: []
  type: TYPE_NORMAL
  zh: '### `class huggingface_hub.utils.GatedRepoError`'
- en: '[< source >](https://github.com/huggingface/huggingface_hub/blob/v0.20.3/src/huggingface_hub/utils/_errors.py#L135)'
  id: totrans-154
  prefs: []
  type: TYPE_NORMAL
  zh: '[<来源>](https://github.com/huggingface/huggingface_hub/blob/v0.20.3/src/huggingface_hub/utils/_errors.py#L135)'
- en: '[PRE28]'
  id: totrans-155
  prefs: []
  type: TYPE_PRE
  zh: '[PRE28]'
- en: Raised when trying to access a gated repository for which the user is not on
    the authorized list.
  id: totrans-156
  prefs: []
  type: TYPE_NORMAL
  zh: 尝试访问未授权用户的受限存储库时引发。
- en: 'Note: derives from `RepositoryNotFoundError` to ensure backward compatibility.'
  id: totrans-157
  prefs: []
  type: TYPE_NORMAL
  zh: 注意：派生自`RepositoryNotFoundError`以确保向后兼容性。
- en: 'Example:'
  id: totrans-158
  prefs: []
  type: TYPE_NORMAL
  zh: 示例：
- en: '[PRE29]'
  id: totrans-159
  prefs: []
  type: TYPE_PRE
  zh: '[PRE29]'
- en: RevisionNotFoundError
  id: totrans-160
  prefs:
  - PREF_H4
  type: TYPE_NORMAL
  zh: RevisionNotFoundError
- en: '### `class huggingface_hub.utils.RevisionNotFoundError`'
  id: totrans-161
  prefs: []
  type: TYPE_NORMAL
  zh: '### `class huggingface_hub.utils.RevisionNotFoundError`'
- en: '[< source >](https://github.com/huggingface/huggingface_hub/blob/v0.20.3/src/huggingface_hub/utils/_errors.py#L157)'
  id: totrans-162
  prefs: []
  type: TYPE_NORMAL
  zh: '[<来源>](https://github.com/huggingface/huggingface_hub/blob/v0.20.3/src/huggingface_hub/utils/_errors.py#L157)'
- en: '[PRE30]'
  id: totrans-163
  prefs: []
  type: TYPE_PRE
  zh: '[PRE30]'
- en: Raised when trying to access a hf.co URL with a valid repository but an invalid
    revision.
  id: totrans-164
  prefs: []
  type: TYPE_NORMAL
  zh: 尝试访问具有有效存储库但无效修订版本的hf.co URL时引发。
- en: 'Example:'
  id: totrans-165
  prefs: []
  type: TYPE_NORMAL
  zh: 示例：
- en: '[PRE31]'
  id: totrans-166
  prefs: []
  type: TYPE_PRE
  zh: '[PRE31]'
- en: EntryNotFoundError
  id: totrans-167
  prefs:
  - PREF_H4
  type: TYPE_NORMAL
  zh: EntryNotFoundError
- en: '### `class huggingface_hub.utils.EntryNotFoundError`'
  id: totrans-168
  prefs: []
  type: TYPE_NORMAL
  zh: '### `class huggingface_hub.utils.EntryNotFoundError`'
- en: '[< source >](https://github.com/huggingface/huggingface_hub/blob/v0.20.3/src/huggingface_hub/utils/_errors.py#L175)'
  id: totrans-169
  prefs: []
  type: TYPE_NORMAL
  zh: '[<来源>](https://github.com/huggingface/huggingface_hub/blob/v0.20.3/src/huggingface_hub/utils/_errors.py#L175)'
- en: '[PRE32]'
  id: totrans-170
  prefs: []
  type: TYPE_PRE
  zh: '[PRE32]'
- en: Raised when trying to access a hf.co URL with a valid repository and revision
    but an invalid filename.
  id: totrans-171
  prefs: []
  type: TYPE_NORMAL
  zh: 尝试访问具有有效存储库和修订版本但无效文件名的hf.co URL时引发。
- en: 'Example:'
  id: totrans-172
  prefs: []
  type: TYPE_NORMAL
  zh: 示例：
- en: '[PRE33]'
  id: totrans-173
  prefs: []
  type: TYPE_PRE
  zh: '[PRE33]'
- en: BadRequestError
  id: totrans-174
  prefs:
  - PREF_H4
  type: TYPE_NORMAL
  zh: BadRequestError
- en: '### `class huggingface_hub.utils.BadRequestError`'
  id: totrans-175
  prefs: []
  type: TYPE_NORMAL
  zh: '### `class huggingface_hub.utils.BadRequestError`'
- en: '[< source >](https://github.com/huggingface/huggingface_hub/blob/v0.20.3/src/huggingface_hub/utils/_errors.py#L216)'
  id: totrans-176
  prefs: []
  type: TYPE_NORMAL
  zh: '[<来源>](https://github.com/huggingface/huggingface_hub/blob/v0.20.3/src/huggingface_hub/utils/_errors.py#L216)'
- en: '[PRE34]'
  id: totrans-177
  prefs: []
  type: TYPE_PRE
  zh: '[PRE34]'
- en: Raised by `hf_raise_for_status` when the server returns a HTTP 400 error.
  id: totrans-178
  prefs: []
  type: TYPE_NORMAL
  zh: 当服务器返回HTTP 400错误时，由`hf_raise_for_status`引发。
- en: 'Example:'
  id: totrans-179
  prefs: []
  type: TYPE_NORMAL
  zh: 示例：
- en: '[PRE35]'
  id: totrans-180
  prefs: []
  type: TYPE_PRE
  zh: '[PRE35]'
- en: LocalEntryNotFoundError
  id: totrans-181
  prefs:
  - PREF_H4
  type: TYPE_NORMAL
  zh: LocalEntryNotFoundError
- en: '### `class huggingface_hub.utils.LocalEntryNotFoundError`'
  id: totrans-182
  prefs: []
  type: TYPE_NORMAL
  zh: '### `class huggingface_hub.utils.LocalEntryNotFoundError`'
- en: '[< source >](https://github.com/huggingface/huggingface_hub/blob/v0.20.3/src/huggingface_hub/utils/_errors.py#L193)'
  id: totrans-183
  prefs: []
  type: TYPE_NORMAL
  zh: '[<来源>](https://github.com/huggingface/huggingface_hub/blob/v0.20.3/src/huggingface_hub/utils/_errors.py#L193)'
- en: '[PRE36]'
  id: totrans-184
  prefs: []
  type: TYPE_PRE
  zh: '[PRE36]'
- en: Raised when trying to access a file or snapshot that is not on the disk when
    network is disabled or unavailable (connection issue). The entry may exist on
    the Hub.
  id: totrans-185
  prefs: []
  type: TYPE_NORMAL
  zh: 尝试在网络不可用或不可用时（连接问题）访问未在磁盘上的文件或快照时引发。该条目可能存在于Hub上。
- en: 'Note: `ValueError` type is to ensure backward compatibility. Note: `LocalEntryNotFoundError`
    derives from `HTTPError` because of `EntryNotFoundError` even when it is not a
    network issue.'
  id: totrans-186
  prefs: []
  type: TYPE_NORMAL
  zh: 注意：`ValueError`类型用于确保向后兼容性。注意：`LocalEntryNotFoundError`派生自`HTTPError`，因为`EntryNotFoundError`即使不是网络问题也是如此。
- en: 'Example:'
  id: totrans-187
  prefs: []
  type: TYPE_NORMAL
  zh: 示例：
- en: '[PRE37]'
  id: totrans-188
  prefs: []
  type: TYPE_PRE
  zh: '[PRE37]'
- en: OfflineModeIsEnabled
  id: totrans-189
  prefs:
  - PREF_H4
  type: TYPE_NORMAL
  zh: OfflineModeIsEnabled
- en: '### `class huggingface_hub.utils.OfflineModeIsEnabled`'
  id: totrans-190
  prefs: []
  type: TYPE_NORMAL
  zh: '### `class huggingface_hub.utils.OfflineModeIsEnabled`'
- en: '[< source >](https://github.com/huggingface/huggingface_hub/blob/v0.20.3/src/huggingface_hub/utils/_http.py#L44)'
  id: totrans-191
  prefs: []
  type: TYPE_NORMAL
  zh: '[<来源>](https://github.com/huggingface/huggingface_hub/blob/v0.20.3/src/huggingface_hub/utils/_http.py#L44)'
- en: '[PRE38]'
  id: totrans-192
  prefs: []
  type: TYPE_PRE
  zh: '[PRE38]'
- en: Raised when a request is made but `HF_HUB_OFFLINE=1` is set as environment variable.
  id: totrans-193
  prefs: []
  type: TYPE_NORMAL
  zh: 当设置`HF_HUB_OFFLINE=1`作为环境变量时发出请求时引发。
- en: Telemetry
  id: totrans-194
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 遥测
- en: '`huggingface_hub` includes an helper to send telemetry data. This information
    helps us debug issues and prioritize new features. Users can disable telemetry
    collection at any time by setting the `HF_HUB_DISABLE_TELEMETRY=1` environment
    variable. Telemetry is also disabled in offline mode (i.e. when setting HF_HUB_OFFLINE=1).'
  id: totrans-195
  prefs: []
  type: TYPE_NORMAL
  zh: '`huggingface_hub`包括一个帮助程序来发送遥测数据。这些信息帮助我们调试问题并优先考虑新功能。用户可以通过设置`HF_HUB_DISABLE_TELEMETRY=1`环境变量随时禁用遥测收集。在离线模式下（即设置HF_HUB_OFFLINE=1时），遥测也会被禁用。'
- en: If you are maintainer of a third-party library, sending telemetry data is as
    simple as making a call to `send_telemetry`. Data is sent in a separate thread
    to reduce as much as possible the impact for users.
  id: totrans-196
  prefs: []
  type: TYPE_NORMAL
  zh: 如果您是第三方库的维护者，发送遥测数据就像调用 `send_telemetry` 一样简单。数据将在单独的线程中发送，以尽可能减少对用户的影响。
- en: '#### `huggingface_hub.utils.send_telemetry`'
  id: totrans-197
  prefs: []
  type: TYPE_NORMAL
  zh: '#### `huggingface_hub.utils.send_telemetry`'
- en: '[< source >](https://github.com/huggingface/huggingface_hub/blob/v0.20.3/src/huggingface_hub/utils/_telemetry.py#L20)'
  id: totrans-198
  prefs: []
  type: TYPE_NORMAL
  zh: '[<来源>](https://github.com/huggingface/huggingface_hub/blob/v0.20.3/src/huggingface_hub/utils/_telemetry.py#L20)'
- en: '[PRE39]'
  id: totrans-199
  prefs: []
  type: TYPE_PRE
  zh: '[PRE39]'
- en: Parameters
  id: totrans-200
  prefs: []
  type: TYPE_NORMAL
  zh: 参数
- en: '`topic` (`str`) — Name of the topic that is monitored. The topic is directly
    used to build the URL. If you want to monitor subtopics, just use ”/” separation.
    Examples: “gradio”, “transformers/examples”,…'
  id: totrans-201
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`topic` (`str`) — 要监视的主题名称。主题直接用于构建 URL。如果要监视子主题，只需使用“/”分隔。示例：“gradio”, “transformers/examples”,…'
- en: '`library_name` (`str`, *optional*) — The name of the library that is making
    the HTTP request. Will be added to the user-agent header.'
  id: totrans-202
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`library_name` (`str`, *可选*) — 发起 HTTP 请求的库的名称。将添加到用户代理标头中。'
- en: '`library_version` (`str`, *optional*) — The version of the library that is
    making the HTTP request. Will be added to the user-agent header.'
  id: totrans-203
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`library_version` (`str`, *可选*) — 发起 HTTP 请求的库的版本。将添加到用户代理标头中。'
- en: '`user_agent` (`str`, `dict`, *optional*) — The user agent info in the form
    of a dictionary or a single string. It will be completed with information about
    the installed packages.'
  id: totrans-204
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`user_agent` (`str`, `dict`, *可选*) — 用户代理信息，可以是字典或单个字符串形式。它将包含有关已安装包的信息。'
- en: Sends telemetry that helps tracking usage of different HF libraries.
  id: totrans-205
  prefs: []
  type: TYPE_NORMAL
  zh: 发送有助于跟踪不同 HF 库使用情况的遥测数据。
- en: This usage data helps us debug issues and prioritize new features. However,
    we understand that not everyone wants to share additional information, and we
    respect your privacy. You can disable telemetry collection by setting the `HF_HUB_DISABLE_TELEMETRY=1`
    as environment variable. Telemetry is also disabled in offline mode (i.e. when
    setting `HF_HUB_OFFLINE=1`).
  id: totrans-206
  prefs: []
  type: TYPE_NORMAL
  zh: 这些使用数据帮助我们调试问题并优先考虑新功能。但是，我们理解并尊重不希望分享额外信息的每个人的隐私。您可以通过将环境变量 `HF_HUB_DISABLE_TELEMETRY=1`
    设置为禁用遥测收集。在离线模式下（即设置 `HF_HUB_OFFLINE=1` 时），遥测也会被禁用。
- en: Telemetry collection is run in a separate thread to minimize impact for the
    user.
  id: totrans-207
  prefs: []
  type: TYPE_NORMAL
  zh: 遥测收集在单独的线程中运行，以最小化对用户的影响。
- en: 'Example:'
  id: totrans-208
  prefs: []
  type: TYPE_NORMAL
  zh: 示例：
- en: '[PRE40]'
  id: totrans-209
  prefs: []
  type: TYPE_PRE
  zh: '[PRE40]'
- en: Validators
  id: totrans-210
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 验证器
- en: '`huggingface_hub` includes custom validators to validate method arguments automatically.
    Validation is inspired by the work done in [Pydantic](https://pydantic-docs.helpmanual.io/)
    to validate type hints but with more limited features.'
  id: totrans-211
  prefs: []
  type: TYPE_NORMAL
  zh: '`huggingface_hub` 包含自定义验证器，可以自动验证方法参数。验证受到 [Pydantic](https://pydantic-docs.helpmanual.io/)
    中对类型提示进行验证的启发，但功能更有限。'
- en: Generic decorator
  id: totrans-212
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 通用装饰器
- en: '[validate_hf_hub_args()](/docs/huggingface_hub/v0.20.3/en/package_reference/utilities#huggingface_hub.utils.validate_hf_hub_args)
    is a generic decorator to encapsulate methods that have arguments following `huggingface_hub`’s
    naming. By default, all arguments that has a validator implemented will be validated.'
  id: totrans-213
  prefs: []
  type: TYPE_NORMAL
  zh: '[validate_hf_hub_args()](/docs/huggingface_hub/v0.20.3/en/package_reference/utilities#huggingface_hub.utils.validate_hf_hub_args)
    是一个通用装饰器，用于封装遵循 `huggingface_hub` 命名规范的方法的参数。默认情况下，所有实现了验证器的参数都将被验证。'
- en: If an input is not valid, a [HFValidationError](/docs/huggingface_hub/v0.20.3/en/package_reference/utilities#huggingface_hub.utils.HFValidationError)
    is thrown. Only the first non-valid value throws an error and stops the validation
    process.
  id: totrans-214
  prefs: []
  type: TYPE_NORMAL
  zh: 如果输入无效，将抛出 [HFValidationError](/docs/huggingface_hub/v0.20.3/en/package_reference/utilities#huggingface_hub.utils.HFValidationError)。只有第一个无效值会抛出错误并停止验证过程。
- en: 'Usage:'
  id: totrans-215
  prefs: []
  type: TYPE_NORMAL
  zh: 用法：
- en: '[PRE41]'
  id: totrans-216
  prefs: []
  type: TYPE_PRE
  zh: '[PRE41]'
- en: validate_hf_hub_args
  id: totrans-217
  prefs:
  - PREF_H4
  type: TYPE_NORMAL
  zh: validate_hf_hub_args
- en: '#### `huggingface_hub.utils.validate_hf_hub_args`'
  id: totrans-218
  prefs: []
  type: TYPE_NORMAL
  zh: '#### `huggingface_hub.utils.validate_hf_hub_args`'
- en: '[< source >](https://github.com/huggingface/huggingface_hub/blob/v0.20.3/src/huggingface_hub/utils/_validators.py#L46)'
  id: totrans-219
  prefs: []
  type: TYPE_NORMAL
  zh: '[<来源>](https://github.com/huggingface/huggingface_hub/blob/v0.20.3/src/huggingface_hub/utils/_validators.py#L46)'
- en: '[PRE42]'
  id: totrans-220
  prefs: []
  type: TYPE_PRE
  zh: '[PRE42]'
- en: Raises
  id: totrans-221
  prefs: []
  type: TYPE_NORMAL
  zh: 抛出
- en: '[HFValidationError](/docs/huggingface_hub/v0.20.3/en/package_reference/utilities#huggingface_hub.utils.HFValidationError)'
  id: totrans-222
  prefs: []
  type: TYPE_NORMAL
  zh: '[HFValidationError](/docs/huggingface_hub/v0.20.3/en/package_reference/utilities#huggingface_hub.utils.HFValidationError)'
- en: '[HFValidationError](/docs/huggingface_hub/v0.20.3/en/package_reference/utilities#huggingface_hub.utils.HFValidationError)
    — If an input is not valid.'
  id: totrans-223
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[HFValidationError](/docs/huggingface_hub/v0.20.3/en/package_reference/utilities#huggingface_hub.utils.HFValidationError)
    — 如果输入无效。'
- en: Validate values received as argument for any public method of `huggingface_hub`.
  id: totrans-224
  prefs: []
  type: TYPE_NORMAL
  zh: 验证 `huggingface_hub` 的任何公共方法接收的参数值。
- en: The goal of this decorator is to harmonize validation of arguments reused everywhere.
    By default, all defined validators are tested.
  id: totrans-225
  prefs: []
  type: TYPE_NORMAL
  zh: 此装饰器的目标是在各处重复使用的参数验证。默认情况下，所有定义的验证器都会被测试。
- en: 'Validators:'
  id: totrans-226
  prefs: []
  type: TYPE_NORMAL
  zh: 验证器：
- en: '[validate_repo_id()](/docs/huggingface_hub/v0.20.3/en/package_reference/utilities#huggingface_hub.utils.validate_repo_id):
    `repo_id` must be `"repo_name"` or `"namespace/repo_name"`. Namespace is a username
    or an organization.'
  id: totrans-227
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[validate_repo_id()](/docs/huggingface_hub/v0.20.3/en/package_reference/utilities#huggingface_hub.utils.validate_repo_id):
    `repo_id` 必须是 `"repo_name"` 或 `"namespace/repo_name"`。命名空间是用户名或组织。'
- en: '[smoothly_deprecate_use_auth_token()](/docs/huggingface_hub/v0.20.3/en/package_reference/utilities#huggingface_hub.utils.smoothly_deprecate_use_auth_token):
    Use `token` instead of `use_auth_token` (only if `use_auth_token` is not expected
    by the decorated function - in practice, always the case in `huggingface_hub`).'
  id: totrans-228
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[smoothly_deprecate_use_auth_token()](/docs/huggingface_hub/v0.20.3/en/package_reference/utilities#huggingface_hub.utils.smoothly_deprecate_use_auth_token):
    使用 `token` 替代 `use_auth_token`（仅当装饰函数不需要 `use_auth_token` 时 - 实际上，在 `huggingface_hub`
    中始终如此）。'
- en: 'Example:'
  id: totrans-229
  prefs: []
  type: TYPE_NORMAL
  zh: '示例:'
- en: '[PRE43]'
  id: totrans-230
  prefs: []
  type: TYPE_PRE
  zh: '[PRE43]'
- en: HFValidationError
  id: totrans-231
  prefs:
  - PREF_H4
  type: TYPE_NORMAL
  zh: HFValidationError
- en: '### `class huggingface_hub.utils.HFValidationError`'
  id: totrans-232
  prefs: []
  type: TYPE_NORMAL
  zh: '### `class huggingface_hub.utils.HFValidationError`'
- en: '[< source >](https://github.com/huggingface/huggingface_hub/blob/v0.20.3/src/huggingface_hub/utils/_validators.py#L39)'
  id: totrans-233
  prefs: []
  type: TYPE_NORMAL
  zh: '[<来源>](https://github.com/huggingface/huggingface_hub/blob/v0.20.3/src/huggingface_hub/utils/_validators.py#L39)'
- en: '[PRE44]'
  id: totrans-234
  prefs: []
  type: TYPE_PRE
  zh: '[PRE44]'
- en: Generic exception thrown by `huggingface_hub` validators.
  id: totrans-235
  prefs: []
  type: TYPE_NORMAL
  zh: '`huggingface_hub` 验证器抛出的通用异常。'
- en: Inherits from [`ValueError`](https://docs.python.org/3/library/exceptions.html#ValueError).
  id: totrans-236
  prefs: []
  type: TYPE_NORMAL
  zh: 继承自 [`ValueError`](https://docs.python.org/3/library/exceptions.html#ValueError)。
- en: Argument validators
  id: totrans-237
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 参数验证器
- en: Validators can also be used individually. Here is a list of all arguments that
    can be validated.
  id: totrans-238
  prefs: []
  type: TYPE_NORMAL
  zh: 验证器也可以单独使用。以下是可以验证的所有参数列表。
- en: repo_id
  id: totrans-239
  prefs:
  - PREF_H4
  type: TYPE_NORMAL
  zh: repo_id
- en: '#### `huggingface_hub.utils.validate_repo_id`'
  id: totrans-240
  prefs: []
  type: TYPE_NORMAL
  zh: '#### `huggingface_hub.utils.validate_repo_id`'
- en: '[< source >](https://github.com/huggingface/huggingface_hub/blob/v0.20.3/src/huggingface_hub/utils/_validators.py#L123)'
  id: totrans-241
  prefs: []
  type: TYPE_NORMAL
  zh: '[< source >](https://github.com/huggingface/huggingface_hub/blob/v0.20.3/src/huggingface_hub/utils/_validators.py#L123)'
- en: '[PRE45]'
  id: totrans-242
  prefs: []
  type: TYPE_PRE
  zh: '[PRE45]'
- en: Validate `repo_id` is valid.
  id: totrans-243
  prefs: []
  type: TYPE_NORMAL
  zh: 验证`repo_id`是否有效。
- en: 'This is not meant to replace the proper validation made on the Hub but rather
    to avoid local inconsistencies whenever possible (example: passing `repo_type`
    in the `repo_id` is forbidden).'
  id: totrans-244
  prefs: []
  type: TYPE_NORMAL
  zh: 这并不意味着取代Hub上进行的适当验证，而是尽可能避免本地不一致（例如：在`repo_id`中传递`repo_type`是被禁止的）。
- en: 'Rules:'
  id: totrans-245
  prefs: []
  type: TYPE_NORMAL
  zh: 规则：
- en: Between 1 and 96 characters.
  id: totrans-246
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 1到96个字符之间。
- en: Either “repo_name” or “namespace/repo_name”
  id: totrans-247
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 要么“repo_name”，要么“namespace/repo_name”
- en: '[a-zA-Z0-9] or ”-”, ”_”, ”.”'
  id: totrans-248
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[a-zA-Z0-9]或"-","_","."'
- en: ”—” and ”..” are forbidden
  id: totrans-249
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '"-"和".."是被禁止的'
- en: 'Valid: `"foo"`, `"foo/bar"`, `"123"`, `"Foo-BAR_foo.bar123"`'
  id: totrans-250
  prefs: []
  type: TYPE_NORMAL
  zh: 有效的："foo"，"foo/bar"，"123"，"Foo-BAR_foo.bar123"
- en: 'Not valid: `"datasets/foo/bar"`, `".repo_id"`, `"foo--bar"`, `"foo.git"`'
  id: totrans-251
  prefs: []
  type: TYPE_NORMAL
  zh: 无效的："datasets/foo/bar"，".repo_id"，"foo--bar"，"foo.git"
- en: 'Example:'
  id: totrans-252
  prefs: []
  type: TYPE_NORMAL
  zh: 示例：
- en: '[PRE46]'
  id: totrans-253
  prefs: []
  type: TYPE_PRE
  zh: '[PRE46]'
- en: 'Discussed in [https://github.com/huggingface/huggingface_hub/issues/1008](https://github.com/huggingface/huggingface_hub/issues/1008).
    In moon-landing (internal repository):'
  id: totrans-254
  prefs: []
  type: TYPE_NORMAL
  zh: 在[https://github.com/huggingface/huggingface_hub/issues/1008](https://github.com/huggingface/huggingface_hub/issues/1008)中讨论。在moon-landing（内部存储库）：
- en: '[https://github.com/huggingface/moon-landing/blob/main/server/lib/Names.ts#L27](https://github.com/huggingface/moon-landing/blob/main/server/lib/Names.ts#L27)'
  id: totrans-255
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[https://github.com/huggingface/moon-landing/blob/main/server/lib/Names.ts#L27](https://github.com/huggingface/moon-landing/blob/main/server/lib/Names.ts#L27)'
- en: '[https://github.com/huggingface/moon-landing/blob/main/server/views/components/NewRepoForm/NewRepoForm.svelte#L138](https://github.com/huggingface/moon-landing/blob/main/server/views/components/NewRepoForm/NewRepoForm.svelte#L138)'
  id: totrans-256
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[https://github.com/huggingface/moon-landing/blob/main/server/views/components/NewRepoForm/NewRepoForm.svelte#L138](https://github.com/huggingface/moon-landing/blob/main/server/views/components/NewRepoForm/NewRepoForm.svelte#L138)'
- en: smoothly_deprecate_use_auth_token
  id: totrans-257
  prefs:
  - PREF_H4
  type: TYPE_NORMAL
  zh: smoothly_deprecate_use_auth_token
- en: Not exactly a validator, but ran as well.
  id: totrans-258
  prefs: []
  type: TYPE_NORMAL
  zh: 并不是一个验证器，但也可以运行。
- en: '#### `huggingface_hub.utils.smoothly_deprecate_use_auth_token`'
  id: totrans-259
  prefs: []
  type: TYPE_NORMAL
  zh: '#### `huggingface_hub.utils.smoothly_deprecate_use_auth_token`'
- en: '[< source >](https://github.com/huggingface/huggingface_hub/blob/v0.20.3/src/huggingface_hub/utils/_validators.py#L177)'
  id: totrans-260
  prefs: []
  type: TYPE_NORMAL
  zh: '[< source >](https://github.com/huggingface/huggingface_hub/blob/v0.20.3/src/huggingface_hub/utils/_validators.py#L177)'
- en: '[PRE47]'
  id: totrans-261
  prefs: []
  type: TYPE_PRE
  zh: '[PRE47]'
- en: Smoothly deprecate `use_auth_token` in the `huggingface_hub` codebase.
  id: totrans-262
  prefs: []
  type: TYPE_NORMAL
  zh: 在`huggingface_hub`代码库中平滑弃用`use_auth_token`。
- en: 'The long-term goal is to remove any mention of `use_auth_token` in the codebase
    in favor of a unique and less verbose `token` argument. This will be done a few
    steps:'
  id: totrans-263
  prefs: []
  type: TYPE_NORMAL
  zh: 长期目标是在代码库中删除对`use_auth_token`的任何提及，而是使用唯一且不那么冗长的`token`参数。这将通过几个步骤完成：
- en: 'Step 0: methods that require a read-access to the Hub use the `use_auth_token`
    argument (`str`, `bool` or `None`). Methods requiring write-access have a `token`
    argument (`str`, `None`). This implicit rule exists to be able to not send the
    token when not necessary (`use_auth_token=False`) even if logged in.'
  id: totrans-264
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 步骤0：需要对Hub进行读访问的方法使用`use_auth_token`参数（`str`，`bool`或`None`）。需要写访问权限的方法具有`token`参数（`str`，`None`）。这个隐式规则存在是为了在不必要时不发送令牌（`use_auth_token=False`）即使已登录。
- en: 'Step 1: we want to harmonize everything and use `token` everywhere (supporting
    `token=False` for read-only methods). In order not to break existing code, if
    `use_auth_token` is passed to a function, the `use_auth_token` value is passed
    as `token` instead, without any warning. a. Corner case: if both `use_auth_token`
    and `token` values are passed, a warning is thrown and the `use_auth_token` value
    is ignored.'
  id: totrans-265
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 步骤1：我们希望使一切和使用`token`（支持`token=False`用于只读方法）。为了不破坏现有代码，如果将`use_auth_token`传递给函数，则`use_auth_token`值将作为`token`传递，而不会有任何警告。a.
    特殊情况：如果同时传递了`use_auth_token`和`token`值，则会发出警告，并且将忽略`use_auth_token`值。
- en: 'Step 2: Once it is release, we should push downstream libraries to switch from
    `use_auth_token` to `token` as much as possible, but without throwing a warning
    (e.g. manually create issues on the corresponding repos).'
  id: totrans-266
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 步骤2：一旦发布，我们应该尽可能推动下游库从`use_auth_token`切换到`token`，但不会发出警告（例如：在相应的存储库上手动创建问题）。
- en: 'Step 3: After a transitional period (6 months e.g. until April 2023?), we update
    `huggingface_hub` to throw a warning on `use_auth_token`. Hopefully, very few
    users will be impacted as it would have already been fixed. In addition, unit
    tests in `huggingface_hub` must be adapted to expect warnings to be thrown (but
    still use `use_auth_token` as before).'
  id: totrans-267
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 步骤3：经过过渡期（例如6个月，直到2023年4月？），我们更新`huggingface_hub`以在`use_auth_token`上发出警告。希望很少有用户会受到影响，因为问题已经被解决。此外，`huggingface_hub`中的单元测试必须适应预期会发出警告（但仍然像以前一样使用`use_auth_token`）。
- en: 'Step 4: After a normal deprecation cycle (3 releases ?), remove this validator.
    `use_auth_token` will definitely not be supported. In addition, we update unit
    tests in `huggingface_hub` to use `token` everywhere.'
  id: totrans-268
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 步骤4：经过正常的弃用周期（3个发布？），删除此验证器。`use_auth_token`绝对不会得到支持。此外，我们在`huggingface_hub`中更新单元测试，以在所有地方使用`token`。
- en: 'This has been discussed in:'
  id: totrans-269
  prefs: []
  type: TYPE_NORMAL
  zh: 这已经在讨论中：
- en: '[https://github.com/huggingface/huggingface_hub/issues/1094](https://github.com/huggingface/huggingface_hub/issues/1094).'
  id: totrans-270
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[https://github.com/huggingface/huggingface_hub/issues/1094](https://github.com/huggingface/huggingface_hub/issues/1094)。'
- en: '[https://github.com/huggingface/huggingface_hub/pull/928](https://github.com/huggingface/huggingface_hub/pull/928)'
  id: totrans-271
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[https://github.com/huggingface/huggingface_hub/pull/928](https://github.com/huggingface/huggingface_hub/pull/928)'
- en: (related) [https://github.com/huggingface/huggingface_hub/pull/1064](https://github.com/huggingface/huggingface_hub/pull/1064)
  id: totrans-272
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: (相关) [https://github.com/huggingface/huggingface_hub/pull/1064](https://github.com/huggingface/huggingface_hub/pull/1064)
