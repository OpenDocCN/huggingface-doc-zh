- en: DDPM
  id: totrans-0
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: DDPM
- en: 'Original text: [https://huggingface.co/docs/diffusers/api/pipelines/ddpm](https://huggingface.co/docs/diffusers/api/pipelines/ddpm)'
  id: totrans-1
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
  zh: åŸå§‹æ–‡æœ¬ï¼š[https://huggingface.co/docs/diffusers/api/pipelines/ddpm](https://huggingface.co/docs/diffusers/api/pipelines/ddpm)
- en: null
  id: totrans-2
  prefs: []
  type: TYPE_NORMAL
- en: '[Denoising Diffusion Probabilistic Models](https://huggingface.co/papers/2006.11239)
    (DDPM) by Jonathan Ho, Ajay Jain and Pieter Abbeel proposes a diffusion based
    model of the same name. In the ğŸ¤— Diffusers library, DDPM refers to the *discrete
    denoising scheduler* from the paper as well as the pipeline.'
  id: totrans-3
  prefs: []
  type: TYPE_NORMAL
  zh: ç”±Jonathan Hoã€Ajay Jainå’ŒPieter Abbeelæå‡ºçš„[Denoising Diffusion Probabilistic Models](https://huggingface.co/papers/2006.11239)ï¼ˆDDPMï¼‰æå‡ºäº†åŒåçš„æ‰©æ•£æ¨¡å‹ã€‚åœ¨ğŸ¤—
    Diffusersåº“ä¸­ï¼ŒDDPMæŒ‡çš„æ˜¯è®ºæ–‡ä¸­çš„*ç¦»æ•£å»å™ªè°ƒåº¦å™¨*ä»¥åŠç®¡é“ã€‚
- en: 'The abstract from the paper is:'
  id: totrans-4
  prefs: []
  type: TYPE_NORMAL
  zh: è®ºæ–‡æ‘˜è¦ä¸ºï¼š
- en: '*We present high quality image synthesis results using diffusion probabilistic
    models, a class of latent variable models inspired by considerations from nonequilibrium
    thermodynamics. Our best results are obtained by training on a weighted variational
    bound designed according to a novel connection between diffusion probabilistic
    models and denoising score matching with Langevin dynamics, and our models naturally
    admit a progressive lossy decompression scheme that can be interpreted as a generalization
    of autoregressive decoding. On the unconditional CIFAR10 dataset, we obtain an
    Inception score of 9.46 and a state-of-the-art FID score of 3.17\. On 256x256
    LSUN, we obtain sample quality similar to ProgressiveGAN.*'
  id: totrans-5
  prefs: []
  type: TYPE_NORMAL
  zh: '*æˆ‘ä»¬ä½¿ç”¨æ‰©æ•£æ¦‚ç‡æ¨¡å‹å‘ˆç°é«˜è´¨é‡çš„å›¾åƒåˆæˆç»“æœï¼Œè¿™æ˜¯ä¸€ç±»å—éå¹³è¡¡çƒ­åŠ›å­¦è€ƒè™‘å¯å‘çš„æ½œå˜é‡æ¨¡å‹ã€‚æˆ‘ä»¬çš„æœ€ä½³ç»“æœæ˜¯é€šè¿‡æ ¹æ®æ‰©æ•£æ¦‚ç‡æ¨¡å‹å’ŒLangevinåŠ¨åŠ›å­¦çš„å»å™ªå¾—åˆ†åŒ¹é…ä¹‹é—´çš„æ–°é¢–è¿æ¥è®¾è®¡çš„åŠ æƒå˜åˆ†ç•Œé™è¿›è¡Œè®­ç»ƒè·å¾—çš„ï¼Œæˆ‘ä»¬çš„æ¨¡å‹è‡ªç„¶åœ°é‡‡ç”¨äº†ä¸€ç§æ¸è¿›çš„æœ‰æŸè§£å‹ç¼©æ–¹æ¡ˆï¼Œå¯ä»¥è§£é‡Šä¸ºè‡ªå›å½’è§£ç çš„ä¸€èˆ¬åŒ–ã€‚åœ¨æ— æ¡ä»¶çš„CIFAR10æ•°æ®é›†ä¸Šï¼Œæˆ‘ä»¬è·å¾—äº†9.46çš„Inceptionåˆ†æ•°å’Œ3.17çš„æœ€å…ˆè¿›çš„FIDåˆ†æ•°ã€‚åœ¨256x256çš„LSUNä¸Šï¼Œæˆ‘ä»¬è·å¾—äº†ç±»ä¼¼äºProgressiveGANçš„æ ·æœ¬è´¨é‡ã€‚*'
- en: The original codebase can be found at [hohonathanho/diffusion](https://github.com/hojonathanho/diffusion).
  id: totrans-6
  prefs: []
  type: TYPE_NORMAL
  zh: åŸå§‹ä»£ç åº“å¯ä»¥åœ¨[hohonathanho/diffusion](https://github.com/hojonathanho/diffusion)æ‰¾åˆ°ã€‚
- en: Make sure to check out the Schedulers [guide](../../using-diffusers/schedulers)
    to learn how to explore the tradeoff between scheduler speed and quality, and
    see the [reuse components across pipelines](../../using-diffusers/loading#reuse-components-across-pipelines)
    section to learn how to efficiently load the same components into multiple pipelines.
  id: totrans-7
  prefs: []
  type: TYPE_NORMAL
  zh: ç¡®ä¿æŸ¥çœ‹è°ƒåº¦å™¨[æŒ‡å—](../../using-diffusers/schedulers)ä»¥äº†è§£å¦‚ä½•æ¢ç´¢è°ƒåº¦å™¨é€Ÿåº¦å’Œè´¨é‡ä¹‹é—´çš„æƒè¡¡ï¼Œå¹¶æŸ¥çœ‹[è·¨ç®¡é“é‡ç”¨ç»„ä»¶](../../using-diffusers/loading#reuse-components-across-pipelines)éƒ¨åˆ†ä»¥äº†è§£å¦‚ä½•æœ‰æ•ˆåœ°å°†ç›¸åŒç»„ä»¶åŠ è½½åˆ°å¤šä¸ªç®¡é“ä¸­ã€‚
- en: DDPMPipeline
  id: totrans-8
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: DDPMPipeline
- en: '### `class diffusers.DDPMPipeline`'
  id: totrans-9
  prefs: []
  type: TYPE_NORMAL
  zh: '### `class diffusers.DDPMPipeline`'
- en: '[< source >](https://github.com/huggingface/diffusers/blob/v0.26.3/src/diffusers/pipelines/ddpm/pipeline_ddpm.py#L24)'
  id: totrans-10
  prefs: []
  type: TYPE_NORMAL
  zh: '[<æ¥æº>](https://github.com/huggingface/diffusers/blob/v0.26.3/src/diffusers/pipelines/ddpm/pipeline_ddpm.py#L24)'
- en: '[PRE0]'
  id: totrans-11
  prefs: []
  type: TYPE_PRE
  zh: '[PRE0]'
- en: Parameters
  id: totrans-12
  prefs: []
  type: TYPE_NORMAL
  zh: å‚æ•°
- en: '`unet` ([UNet2DModel](/docs/diffusers/v0.26.3/en/api/models/unet2d#diffusers.UNet2DModel))
    â€” A `UNet2DModel` to denoise the encoded image latents.'
  id: totrans-13
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`unet`ï¼ˆ[UNet2DModel](/docs/diffusers/v0.26.3/en/api/models/unet2d#diffusers.UNet2DModel)ï¼‰â€”
    ç”¨äºå»å™ªç¼–ç å›¾åƒæ½œå˜é‡çš„`UNet2DModel`ã€‚'
- en: '`scheduler` ([SchedulerMixin](/docs/diffusers/v0.26.3/en/api/schedulers/overview#diffusers.SchedulerMixin))
    â€” A scheduler to be used in combination with `unet` to denoise the encoded image.
    Can be one of [DDPMScheduler](/docs/diffusers/v0.26.3/en/api/schedulers/ddpm#diffusers.DDPMScheduler),
    or [DDIMScheduler](/docs/diffusers/v0.26.3/en/api/schedulers/ddim#diffusers.DDIMScheduler).'
  id: totrans-14
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`scheduler`ï¼ˆ[SchedulerMixin](/docs/diffusers/v0.26.3/en/api/schedulers/overview#diffusers.SchedulerMixin)ï¼‰â€”
    ç”¨äºä¸`unet`ç»“åˆä½¿ç”¨çš„è°ƒåº¦å™¨ä»¥å»å™ªç¼–ç å›¾åƒã€‚å¯ä»¥æ˜¯[DDPMScheduler](/docs/diffusers/v0.26.3/en/api/schedulers/ddpm#diffusers.DDPMScheduler)æˆ–[DDIMScheduler](/docs/diffusers/v0.26.3/en/api/schedulers/ddim#diffusers.DDIMScheduler)ä¹‹ä¸€ã€‚'
- en: Pipeline for image generation.
  id: totrans-15
  prefs: []
  type: TYPE_NORMAL
  zh: ç”¨äºå›¾åƒç”Ÿæˆçš„ç®¡é“ã€‚
- en: This model inherits from [DiffusionPipeline](/docs/diffusers/v0.26.3/en/api/pipelines/overview#diffusers.DiffusionPipeline).
    Check the superclass documentation for the generic methods implemented for all
    pipelines (downloading, saving, running on a particular device, etc.).
  id: totrans-16
  prefs: []
  type: TYPE_NORMAL
  zh: è¿™ä¸ªæ¨¡å‹ç»§æ‰¿è‡ª[DiffusionPipeline](/docs/diffusers/v0.26.3/en/api/pipelines/overview#diffusers.DiffusionPipeline)ã€‚æ£€æŸ¥è¶…ç±»æ–‡æ¡£ä»¥äº†è§£ä¸ºæ‰€æœ‰ç®¡é“å®ç°çš„é€šç”¨æ–¹æ³•ï¼ˆä¸‹è½½ã€ä¿å­˜ã€åœ¨ç‰¹å®šè®¾å¤‡ä¸Šè¿è¡Œç­‰ï¼‰ã€‚
- en: '#### `__call__`'
  id: totrans-17
  prefs: []
  type: TYPE_NORMAL
  zh: '#### `__call__`'
- en: '[< source >](https://github.com/huggingface/diffusers/blob/v0.26.3/src/diffusers/pipelines/ddpm/pipeline_ddpm.py#L45)'
  id: totrans-18
  prefs: []
  type: TYPE_NORMAL
  zh: '[<æ¥æº>](https://github.com/huggingface/diffusers/blob/v0.26.3/src/diffusers/pipelines/ddpm/pipeline_ddpm.py#L45)'
- en: '[PRE1]'
  id: totrans-19
  prefs: []
  type: TYPE_PRE
  zh: '[PRE1]'
- en: Parameters
  id: totrans-20
  prefs: []
  type: TYPE_NORMAL
  zh: å‚æ•°
- en: '`batch_size` (`int`, *optional*, defaults to 1) â€” The number of images to generate.'
  id: totrans-21
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`batch_size`ï¼ˆ`int`ï¼Œ*å¯é€‰*ï¼Œé»˜è®¤ä¸º1ï¼‰â€” è¦ç”Ÿæˆçš„å›¾åƒæ•°é‡ã€‚'
- en: '`generator` (`torch.Generator`, *optional*) â€” A [`torch.Generator`](https://pytorch.org/docs/stable/generated/torch.Generator.html)
    to make generation deterministic.'
  id: totrans-22
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`generator`ï¼ˆ`torch.Generator`ï¼Œ*å¯é€‰*ï¼‰â€” ç”¨äºä½¿ç”Ÿæˆå…·æœ‰ç¡®å®šæ€§çš„[`torch.Generator`](https://pytorch.org/docs/stable/generated/torch.Generator.html)ã€‚'
- en: '`num_inference_steps` (`int`, *optional*, defaults to 1000) â€” The number of
    denoising steps. More denoising steps usually lead to a higher quality image at
    the expense of slower inference.'
  id: totrans-23
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`num_inference_steps`ï¼ˆ`int`ï¼Œ*å¯é€‰*ï¼Œé»˜è®¤ä¸º1000ï¼‰â€” å»å™ªæ­¥éª¤çš„æ•°é‡ã€‚æ›´å¤šçš„å»å™ªæ­¥éª¤é€šå¸¸ä¼šå¯¼è‡´æ›´é«˜è´¨é‡çš„å›¾åƒï¼Œä½†ä¼šé™ä½æ¨ç†é€Ÿåº¦ã€‚'
- en: '`output_type` (`str`, *optional*, defaults to `"pil"`) â€” The output format
    of the generated image. Choose between `PIL.Image` or `np.array`.'
  id: totrans-24
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`output_type`ï¼ˆ`str`ï¼Œ*å¯é€‰*ï¼Œé»˜è®¤ä¸º`"pil"`ï¼‰â€” ç”Ÿæˆå›¾åƒçš„è¾“å‡ºæ ¼å¼ã€‚é€‰æ‹©`PIL.Image`æˆ–`np.array`ä¹‹é—´çš„ä¸€ä¸ªã€‚'
- en: '`return_dict` (`bool`, *optional*, defaults to `True`) â€” Whether or not to
    return a [ImagePipelineOutput](/docs/diffusers/v0.26.3/en/api/pipelines/stable_unclip#diffusers.ImagePipelineOutput)
    instead of a plain tuple.'
  id: totrans-25
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`return_dict`ï¼ˆ`bool`ï¼Œ*å¯é€‰*ï¼Œé»˜è®¤ä¸º`True`ï¼‰â€” æ˜¯å¦è¿”å›[ImagePipelineOutput](/docs/diffusers/v0.26.3/en/api/pipelines/stable_unclip#diffusers.ImagePipelineOutput)è€Œä¸æ˜¯æ™®é€šå…ƒç»„ã€‚'
- en: Returns
  id: totrans-26
  prefs: []
  type: TYPE_NORMAL
  zh: è¿”å›
- en: '[ImagePipelineOutput](/docs/diffusers/v0.26.3/en/api/pipelines/stable_unclip#diffusers.ImagePipelineOutput)
    or `tuple`'
  id: totrans-27
  prefs: []
  type: TYPE_NORMAL
  zh: '[ImagePipelineOutput](/docs/diffusers/v0.26.3/en/api/pipelines/stable_unclip#diffusers.ImagePipelineOutput)æˆ–`tuple`'
- en: If `return_dict` is `True`, [ImagePipelineOutput](/docs/diffusers/v0.26.3/en/api/pipelines/stable_unclip#diffusers.ImagePipelineOutput)
    is returned, otherwise a `tuple` is returned where the first element is a list
    with the generated images
  id: totrans-28
  prefs: []
  type: TYPE_NORMAL
  zh: å¦‚æœ`return_dict`ä¸º`True`ï¼Œåˆ™è¿”å›[ImagePipelineOutput](/docs/diffusers/v0.26.3/en/api/pipelines/stable_unclip#diffusers.ImagePipelineOutput)ï¼Œå¦åˆ™è¿”å›ä¸€ä¸ª`tuple`ï¼Œå…¶ä¸­ç¬¬ä¸€ä¸ªå…ƒç´ æ˜¯ç”Ÿæˆçš„å›¾åƒåˆ—è¡¨
- en: The call function to the pipeline for generation.
  id: totrans-29
  prefs: []
  type: TYPE_NORMAL
  zh: ç”¨äºç”Ÿæˆçš„ç®¡é“çš„è°ƒç”¨å‡½æ•°ã€‚
- en: 'Example:'
  id: totrans-30
  prefs: []
  type: TYPE_NORMAL
  zh: ç¤ºä¾‹ï¼š
- en: '[PRE2]'
  id: totrans-31
  prefs: []
  type: TYPE_PRE
  zh: '[PRE2]'
- en: ImagePipelineOutput
  id: totrans-32
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: ImagePipelineOutput
- en: '### `class diffusers.ImagePipelineOutput`'
  id: totrans-33
  prefs: []
  type: TYPE_NORMAL
  zh: '### `class diffusers.ImagePipelineOutput`'
- en: '[< source >](https://github.com/huggingface/diffusers/blob/v0.26.3/src/diffusers/pipelines/pipeline_utils.py#L116)'
  id: totrans-34
  prefs: []
  type: TYPE_NORMAL
  zh: '[<æ¥æº>](https://github.com/huggingface/diffusers/blob/v0.26.3/src/diffusers/pipelines/pipeline_utils.py#L116)'
- en: '[PRE3]'
  id: totrans-35
  prefs: []
  type: TYPE_PRE
  zh: '[PRE3]'
- en: Parameters
  id: totrans-36
  prefs: []
  type: TYPE_NORMAL
  zh: å‚æ•°
- en: '`images` (`List[PIL.Image.Image]` or `np.ndarray`) â€” List of denoised PIL images
    of length `batch_size` or NumPy array of shape `(batch_size, height, width, num_channels)`.'
  id: totrans-37
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`images` (`List[PIL.Image.Image]` æˆ– `np.ndarray`) â€” é•¿åº¦ä¸º `batch_size` çš„å»å™ª PIL
    å›¾åƒåˆ—è¡¨æˆ–å½¢çŠ¶ä¸º `(batch_size, height, width, num_channels)` çš„ NumPy æ•°ç»„ã€‚'
- en: Output class for image pipelines.
  id: totrans-38
  prefs: []
  type: TYPE_NORMAL
  zh: å›¾åƒç®¡é“çš„è¾“å‡ºç±»ã€‚
