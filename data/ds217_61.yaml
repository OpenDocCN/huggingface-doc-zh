- en: Builder classes
  id: totrans-0
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 构建器类
- en: 'Original text: [https://huggingface.co/docs/datasets/package_reference/builder_classes](https://huggingface.co/docs/datasets/package_reference/builder_classes)'
  id: totrans-1
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
  zh: '原文链接: [https://huggingface.co/docs/datasets/package_reference/builder_classes](https://huggingface.co/docs/datasets/package_reference/builder_classes)'
- en: null
  id: totrans-2
  prefs: []
  type: TYPE_NORMAL
- en: Builders
  id: totrans-3
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 构建器
- en: '🤗 Datasets relies on two main classes during the dataset building process:
    [DatasetBuilder](/docs/datasets/v2.17.0/en/package_reference/builder_classes#datasets.DatasetBuilder)
    and [BuilderConfig](/docs/datasets/v2.17.0/en/package_reference/builder_classes#datasets.BuilderConfig).'
  id: totrans-4
  prefs: []
  type: TYPE_NORMAL
  zh: 🤗 数据集在数据集构建过程中依赖于两个主要类：[DatasetBuilder](/docs/datasets/v2.17.0/en/package_reference/builder_classes#datasets.DatasetBuilder)
    和 [BuilderConfig](/docs/datasets/v2.17.0/en/package_reference/builder_classes#datasets.BuilderConfig)。
- en: '### `class datasets.DatasetBuilder`'
  id: totrans-5
  prefs: []
  type: TYPE_NORMAL
  zh: '### `class datasets.DatasetBuilder`'
- en: '[< source >](https://github.com/huggingface/datasets/blob/2.17.0/src/datasets/builder.py#L214)'
  id: totrans-6
  prefs: []
  type: TYPE_NORMAL
  zh: '[< source >](https://github.com/huggingface/datasets/blob/2.17.0/src/datasets/builder.py#L214)'
- en: '[PRE0]'
  id: totrans-7
  prefs: []
  type: TYPE_PRE
  zh: '[PRE0]'
- en: Parameters
  id: totrans-8
  prefs: []
  type: TYPE_NORMAL
  zh: 参数
- en: '`cache_dir` (`str`, *optional*) — Directory to cache data. Defaults to `"~/.cache/huggingface/datasets"`.'
  id: totrans-9
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`cache_dir` (`str`, *可选*) — 缓存数据的目录。默认为 `"~/.cache/huggingface/datasets"`。'
- en: '`dataset_name` (`str`, *optional*) — Name of the dataset, if different from
    the builder name. Useful for packaged builders like csv, imagefolder, audiofolder,
    etc. to reflect the difference between datasets that use the same packaged builder.'
  id: totrans-10
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`dataset_name` (`str`, *可选*) — 数据集的名称，如果与构建器名称不同。对于打包的构建器（如 csv、imagefolder、audiofolder
    等），用于反映使用相同打包构建器的数据集之间的差异。'
- en: '`config_name` (`str`, *optional*) — Name of the dataset configuration. It affects
    the data generated on disk. Different configurations will have their own subdirectories
    and versions. If not provided, the default configuration is used (if it exists).'
  id: totrans-11
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`config_name` (`str`, *可选*) — 数据集配置的名称。它会影响磁盘上生成的数据。不同的配置将有自己的子目录和版本。如果未提供，则使用默认配置（如果存在）。'
- en: Added in 2.3.0
  id: totrans-12
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 在 2.3.0 中添加
- en: Parameter `name` was renamed to `config_name`.
  id: totrans-13
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 参数 `name` 已重命名为 `config_name`。
- en: '`hash` (`str`, *optional*) — Hash specific to the dataset code. Used to update
    the caching directory when the dataset loading script code is updated (to avoid
    reusing old data). The typical caching directory (defined in `self._relative_data_dir`)
    is `name/version/hash/`.'
  id: totrans-14
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`hash` (`str`, *可选*) — 特定于数据集代码的哈希值。用于在数据集加载脚本代码更新时更新缓存目录（以避免重用旧数据）。典型的缓存目录（在
    `self._relative_data_dir` 中定义）是 `name/version/hash/`。'
- en: '`base_path` (`str`, *optional*) — Base path for relative paths that are used
    to download files. This can be a remote URL.'
  id: totrans-15
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`base_path` (`str`, *可选*) — 用于下载文件的相对路径的基本路径。这可以是远程 URL。'
- en: '`features` ([Features](/docs/datasets/v2.17.0/en/package_reference/main_classes#datasets.Features),
    *optional*) — Features types to use with this dataset. It can be used to change
    the [Features](/docs/datasets/v2.17.0/en/package_reference/main_classes#datasets.Features)
    types of a dataset, for example.'
  id: totrans-16
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`features` ([Features](/docs/datasets/v2.17.0/en/package_reference/main_classes#datasets.Features),
    *可选*) — 用于此数据集的特征类型。它可以用于更改数据集的 [Features](/docs/datasets/v2.17.0/en/package_reference/main_classes#datasets.Features)
    类型，例如。'
- en: '`token` (`str` or `bool`, *optional*) — String or boolean to use as Bearer
    token for remote files on the Datasets Hub. If `True`, will get token from `"~/.huggingface"`.'
  id: totrans-17
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`token` (`str` 或 `bool`, *可选*) — 用作数据集中远程文件的 Bearer token 的字符串或布尔值。如果为 `True`，将从
    `"~/.huggingface"` 获取令牌。'
- en: '`repo_id` (`str`, *optional*) — ID of the dataset repository. Used to distinguish
    builders with the same name but not coming from the same namespace, for example
    “squad” and “lhoestq/squad” repo IDs. In the latter, the builder name would be
    “lhoestq___squad”.'
  id: totrans-18
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`repo_id` (`str`, *可选*) — 数据集存储库的 ID。用于区分具有相同名称但不来自相同命名空间的构建器，例如“squad”和“lhoestq/squad”存储库
    ID。在后者中，构建器名称将是“lhoestq___squad”。'
- en: '`data_files` (`str` or `Sequence` or `Mapping`, *optional*) — Path(s) to source
    data file(s). For builders like “csv” or “json” that need the user to specify
    data files. They can be either local or remote files. For convenience, you can
    use a `DataFilesDict`.'
  id: totrans-19
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`data_files` (`str` 或 `Sequence` 或 `Mapping`, *可选*) — 源数据文件的路径。对于像“csv”或“json”这样需要用户指定数据文件的构建器。它们可以是本地文件或远程文件。为方便起见，您可以使用
    `DataFilesDict`。'
- en: '`data_dir` (`str`, *optional*) — Path to directory containing source data file(s).
    Use only if `data_files` is not passed, in which case it is equivalent to passing
    `os.path.join(data_dir, "**")` as `data_files`. For builders that require manual
    download, it must be the path to the local directory containing the manually downloaded
    data.'
  id: totrans-20
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`data_dir` (`str`, *可选*) — 包含源数据文件的目录路径。仅在未传递 `data_files` 的情况下使用，此时它等效于将 `os.path.join(data_dir,
    "**")` 作为 `data_files`。对于需要手动下载的构建器，它必须是包含手动下载数据的本地目录的路径。'
- en: '`storage_options` (`dict`, *optional*) — Key/value pairs to be passed on to
    the dataset file-system backend, if any.'
  id: totrans-21
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`storage_options` (`dict`, *可选*) — 要传递给数据集文件系统后端的键/值对，如果有的话。'
- en: '`writer_batch_size` (`int`, *optional*) — Batch size used by the ArrowWriter.
    It defines the number of samples that are kept in memory before writing them and
    also the length of the arrow chunks. None means that the ArrowWriter will use
    its default value.'
  id: totrans-22
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`writer_batch_size` (`int`, *可选*) — ArrowWriter 使用的批处理大小。它定义了在写入之前在内存中保留的样本数量，也定义了箭头块的长度。None
    表示 ArrowWriter 将使用其默认值。'
- en: '`name` (`str`) — Configuration name for the dataset.'
  id: totrans-23
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`name` (`str`) — 数据集的配置名称。'
- en: Deprecated in 2.3.0
  id: totrans-24
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 在 2.3.0 中已弃用
- en: Use `config_name` instead.
  id: totrans-25
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 请使用 `config_name`。
- en: '*`*config_kwargs` (additional keyword arguments) — Keyword arguments to be
    passed to the corresponding builder configuration class, set on the class attribute
    [DatasetBuilder.BUILDER_CONFIG_CLASS](/docs/datasets/v2.17.0/en/package_reference/builder_classes#datasets.BuilderConfig).
    The builder configuration class is [BuilderConfig](/docs/datasets/v2.17.0/en/package_reference/builder_classes#datasets.BuilderConfig)
    or a subclass of it.'
  id: totrans-26
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '*`*config_kwargs`（额外的关键字参数） — 要传递给相应构建器配置类的关键字参数，设置在类属性 [DatasetBuilder.BUILDER_CONFIG_CLASS](/docs/datasets/v2.17.0/en/package_reference/builder_classes#datasets.BuilderConfig)
    上。构建器配置类是 [BuilderConfig](/docs/datasets/v2.17.0/en/package_reference/builder_classes#datasets.BuilderConfig)
    或其子类。'
- en: Abstract base class for all datasets.
  id: totrans-27
  prefs: []
  type: TYPE_NORMAL
  zh: 所有数据集的抽象基类。
- en: '`DatasetBuilder` has 3 key methods:'
  id: totrans-28
  prefs: []
  type: TYPE_NORMAL
  zh: '`DatasetBuilder` 有 3 个关键方法：'
- en: '`DatasetBuilder.info`: Documents the dataset, including feature names, types,
    shapes, version, splits, citation, etc.'
  id: totrans-29
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`DatasetBuilder.info`：记录数据集，包括特征名称、类型、形状、版本、拆分、引用等。'
- en: '[DatasetBuilder.download_and_prepare()](/docs/datasets/v2.17.0/en/package_reference/builder_classes#datasets.DatasetBuilder.download_and_prepare):
    Downloads the source data and writes it to disk.'
  id: totrans-30
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[DatasetBuilder.download_and_prepare()](/docs/datasets/v2.17.0/en/package_reference/builder_classes#datasets.DatasetBuilder.download_and_prepare):
    下载源数据并将其写入磁盘。'
- en: '[DatasetBuilder.as_dataset()](/docs/datasets/v2.17.0/en/package_reference/builder_classes#datasets.DatasetBuilder.as_dataset):
    Generates a [Dataset](/docs/datasets/v2.17.0/en/package_reference/main_classes#datasets.Dataset).'
  id: totrans-31
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[DatasetBuilder.as_dataset()](/docs/datasets/v2.17.0/en/package_reference/builder_classes#datasets.DatasetBuilder.as_dataset):
    生成一个[Dataset](/docs/datasets/v2.17.0/en/package_reference/main_classes#datasets.Dataset)。'
- en: Some `DatasetBuilder`s expose multiple variants of the dataset by defining a
    [BuilderConfig](/docs/datasets/v2.17.0/en/package_reference/builder_classes#datasets.BuilderConfig)
    subclass and accepting a config object (or name) on construction. Configurable
    datasets expose a pre-defined set of configurations in `DatasetBuilder.builder_configs()`.
  id: totrans-32
  prefs: []
  type: TYPE_NORMAL
  zh: 一些`DatasetBuilder`通过定义一个[BuilderConfig](/docs/datasets/v2.17.0/en/package_reference/builder_classes#datasets.BuilderConfig)子类并在构造时接受一个配置对象（或名称）来公开数据集的多个变体。可配置的数据集在`DatasetBuilder.builder_configs()`中公开了一组预定义的配置。
- en: '#### `as_dataset`'
  id: totrans-33
  prefs: []
  type: TYPE_NORMAL
  zh: '#### `as_dataset`'
- en: '[< source >](https://github.com/huggingface/datasets/blob/2.17.0/src/datasets/builder.py#L1166)'
  id: totrans-34
  prefs: []
  type: TYPE_NORMAL
  zh: '[<来源>](https://github.com/huggingface/datasets/blob/2.17.0/src/datasets/builder.py#L1166)'
- en: '[PRE1]'
  id: totrans-35
  prefs: []
  type: TYPE_PRE
  zh: '[PRE1]'
- en: Parameters
  id: totrans-36
  prefs: []
  type: TYPE_NORMAL
  zh: 参数
- en: '`split` (`datasets.Split`) — Which subset of the data to return.'
  id: totrans-37
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`split` (`datasets.Split`) — 要返回的数据的哪个子集。'
- en: '`run_post_process` (`bool`, defaults to `True`) — Whether to run post-processing
    dataset transforms and/or add indexes.'
  id: totrans-38
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`run_post_process` (`bool`，默认为`True`) — 是否运行后处理数据集转换和/或添加索引。'
- en: '`verification_mode` ([VerificationMode](/docs/datasets/v2.17.0/en/package_reference/builder_classes#datasets.VerificationMode)
    or `str`, defaults to `BASIC_CHECKS`) — Verification mode determining the checks
    to run on the downloaded/processed dataset information (checksums/size/splits/…).'
  id: totrans-39
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`verification_mode` ([VerificationMode](/docs/datasets/v2.17.0/en/package_reference/builder_classes#datasets.VerificationMode)或`str`，默认为`BASIC_CHECKS`)
    — 确定要在下载/处理的数据集信息上运行的检查的验证模式（校验和/大小/拆分/...）。'
- en: Added in 2.9.1
  id: totrans-40
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 在2.9.1中添加
- en: '`ignore_verifications` (`bool`, defaults to `False`) — Whether to ignore the
    verifications of the downloaded/processed dataset information (checksums/size/splits/…).'
  id: totrans-41
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`ignore_verifications` (`bool`，默认为`False`) — 是否忽略下载/处理的数据集信息的验证（校验和/大小/拆分/...）。'
- en: Deprecated in 2.9.1
  id: totrans-42
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 在2.9.1中弃用
- en: '`ignore_verifications` was deprecated in version 2.9.1 and will be removed
    in 3.0.0. Please use `verification_mode` instead.'
  id: totrans-43
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: '`ignore_verifications`在版本2.9.1中已弃用，将在3.0.0中删除。请改用`verification_mode`。'
- en: '`in_memory` (`bool`, defaults to `False`) — Whether to copy the data in-memory.'
  id: totrans-44
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`in_memory` (`bool`，默认为`False`) — 是否将数据复制到内存中。'
- en: Return a Dataset for the specified split.
  id: totrans-45
  prefs: []
  type: TYPE_NORMAL
  zh: 返回指定拆分的数据集。
- en: 'Example:'
  id: totrans-46
  prefs: []
  type: TYPE_NORMAL
  zh: 示例：
- en: '[PRE2]'
  id: totrans-47
  prefs: []
  type: TYPE_PRE
  zh: '[PRE2]'
- en: '#### `download_and_prepare`'
  id: totrans-48
  prefs: []
  type: TYPE_NORMAL
  zh: '#### `download_and_prepare`'
- en: '[< source >](https://github.com/huggingface/datasets/blob/2.17.0/src/datasets/builder.py#L744)'
  id: totrans-49
  prefs: []
  type: TYPE_NORMAL
  zh: '[<来源>](https://github.com/huggingface/datasets/blob/2.17.0/src/datasets/builder.py#L744)'
- en: '[PRE3]'
  id: totrans-50
  prefs: []
  type: TYPE_PRE
  zh: '[PRE3]'
- en: Parameters
  id: totrans-51
  prefs: []
  type: TYPE_NORMAL
  zh: 参数
- en: '`output_dir` (`str`, *optional*) — Output directory for the dataset. Default
    to this builder’s `cache_dir`, which is inside `~/.cache/huggingface/datasets`
    by default.'
  id: totrans-52
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`output_dir` (`str`，*可选的*) — 数据集的输出目录。默认为此构建器的`cache_dir`，默认情况下位于`~/.cache/huggingface/datasets`内。'
- en: Added in 2.5.0
  id: totrans-53
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 在2.5.0中添加
- en: '`download_config` (`DownloadConfig`, *optional*) — Specific download configuration
    parameters.'
  id: totrans-54
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`download_config` (`DownloadConfig`，*可选的*) — 特定的下载配置参数。'
- en: '`download_mode` ([DownloadMode](/docs/datasets/v2.17.0/en/package_reference/builder_classes#datasets.DownloadMode)
    or `str`, *optional*) — Select the download/generate mode, default to `REUSE_DATASET_IF_EXISTS`.'
  id: totrans-55
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`download_mode` ([DownloadMode](/docs/datasets/v2.17.0/en/package_reference/builder_classes#datasets.DownloadMode)或`str`，*可选的*)
    — 选择下载/生成模式，默认为`REUSE_DATASET_IF_EXISTS`。'
- en: '`verification_mode` ([VerificationMode](/docs/datasets/v2.17.0/en/package_reference/builder_classes#datasets.VerificationMode)
    or `str`, defaults to `BASIC_CHECKS`) — Verification mode determining the checks
    to run on the downloaded/processed dataset information (checksums/size/splits/…).'
  id: totrans-56
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`verification_mode` ([VerificationMode](/docs/datasets/v2.17.0/en/package_reference/builder_classes#datasets.VerificationMode)或`str`，默认为`BASIC_CHECKS`)
    — 确定要在下载/处理的数据集信息上运行的检查的验证模式（校验和/大小/拆分/...）。'
- en: Added in 2.9.1
  id: totrans-57
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 在2.9.1中添加
- en: '`ignore_verifications` (`bool`, defaults to `False`) — Ignore the verifications
    of the downloaded/processed dataset information (checksums/size/splits/…).'
  id: totrans-58
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`ignore_verifications` (`bool`，默认为`False`) — 忽略下载/处理的数据集信息的验证（校验和/大小/拆分/...）。'
- en: Deprecated in 2.9.1
  id: totrans-59
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 在2.9.1中弃用
- en: '`ignore_verifications` was deprecated in version 2.9.1 and will be removed
    in 3.0.0. Please use `verification_mode` instead.'
  id: totrans-60
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: '`ignore_verifications`在版本2.9.1中已弃用，将在3.0.0中删除。请改用`verification_mode`。'
- en: '`try_from_hf_gcs` (`bool`) — If `True`, it will try to download the already
    prepared dataset from the HF Google cloud storage.'
  id: totrans-61
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`try_from_hf_gcs` (`bool`) — 如果为`True`，将尝试从HF Google云存储中下载已准备好的数据集。'
- en: '`dl_manager` (`DownloadManager`, *optional*) — Specific `DownloadManger` to
    use.'
  id: totrans-62
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`dl_manager` (`DownloadManager`，*可选的*) — 要使用的特定`DownloadManger`。'
- en: '`base_path` (`str`, *optional*) — Base path for relative paths that are used
    to download files. This can be a remote url. If not specified, the value of the
    `base_path` attribute (`self.base_path`) will be used instead.'
  id: totrans-63
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`base_path` (`str`，*可选的*) — 用于下载文件的相对路径的基本路径。这可以是一个远程url。如果未指定，将使用`base_path`属性（`self.base_path`）的值。'
- en: '`use_auth_token` (`Union[str, bool]`, *optional*) — Optional string or boolean
    to use as Bearer token for remote files on the Datasets Hub. If True, or not specified,
    will get token from ~/.huggingface.'
  id: totrans-64
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`use_auth_token` (`Union[str, bool]`，*可选的*) — 用作远程文件在数据集中心的Bearer令牌的可选字符串或布尔值。如果为True，或未指定，将从~/.huggingface获取令牌。'
- en: Deprecated in 2.7.1
  id: totrans-65
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 在2.7.1中弃用
- en: Pass `use_auth_token` to `load_dataset_builder` instead.
  id: totrans-66
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 将`use_auth_token`传递给`load_dataset_builder`。
- en: '`file_format` (`str`, *optional*) — Format of the data files in which the dataset
    will be written. Supported formats: “arrow”, “parquet”. Default to “arrow” format.
    If the format is “parquet”, then image and audio data are embedded into the Parquet
    files instead of pointing to local files.'
  id: totrans-67
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`file_format` (`str`, *可选*) — 数据文件的格式，数据集将被写入其中。支持的格式: “arrow”, “parquet”。默认为“arrow”格式。如果格式为“parquet”，则图像和音频数据将嵌入到Parquet文件中，而不是指向本地文件。'
- en: Added in 2.5.0
  id: totrans-68
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 在2.5.0中添加
- en: '`max_shard_size` (`Union[str, int]`, *optional*) — Maximum number of bytes
    written per shard, default is “500MB”. The size is based on uncompressed data
    size, so in practice your shard files may be smaller than `max_shard_size` thanks
    to Parquet compression for example.'
  id: totrans-69
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`max_shard_size` (`Union[str, int]`, *可选*) — 每个分片写入的最大字节数，默认为“500MB”。该大小基于未压缩数据大小，因此实际上，由于Parquet压缩，您的分片文件可能比`max_shard_size`小。'
- en: Added in 2.5.0
  id: totrans-70
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 在2.5.0中添加
- en: '`num_proc` (`int`, *optional*, defaults to `None`) — Number of processes when
    downloading and generating the dataset locally. Multiprocessing is disabled by
    default.'
  id: totrans-71
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`num_proc` (`int`, *可选*, 默认为 `None`) — 下载和本地生成数据集时的进程数。默认情况下禁用多进程。'
- en: Added in 2.7.0
  id: totrans-72
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 在2.7.0中添加
- en: '`storage_options` (`dict`, *optional*) — Key/value pairs to be passed on to
    the caching file-system backend, if any.'
  id: totrans-73
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`storage_options` (`dict`, *可选*) — 要传递给缓存文件系统后端的键/值对。'
- en: Added in 2.5.0
  id: totrans-74
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 在2.5.0中添加
- en: '*`*download_and_prepare_kwargs` (additional keyword arguments) — Keyword arguments.'
  id: totrans-75
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '*`*download_and_prepare_kwargs` (额外的关键字参数) — 关键字参数。'
- en: Downloads and prepares dataset for reading.
  id: totrans-76
  prefs: []
  type: TYPE_NORMAL
  zh: 下载并准备用于读取的数据集。
- en: 'Example:'
  id: totrans-77
  prefs: []
  type: TYPE_NORMAL
  zh: 示例：
- en: 'Download and prepare the dataset as Arrow files that can be loaded as a Dataset
    using `builder.as_dataset()`:'
  id: totrans-78
  prefs: []
  type: TYPE_NORMAL
  zh: 下载并准备可以使用`builder.as_dataset()`加载为数据集的Arrow文件：
- en: '[PRE4]'
  id: totrans-79
  prefs: []
  type: TYPE_PRE
  zh: '[PRE4]'
- en: 'Download and prepare the dataset as sharded Parquet files locally:'
  id: totrans-80
  prefs: []
  type: TYPE_NORMAL
  zh: 下载并准备本地作为分片Parquet文件的数据集：
- en: '[PRE5]'
  id: totrans-81
  prefs: []
  type: TYPE_PRE
  zh: '[PRE5]'
- en: 'Download and prepare the dataset as sharded Parquet files in a cloud storage:'
  id: totrans-82
  prefs: []
  type: TYPE_NORMAL
  zh: 下载并准备作为分片Parquet文件在云存储中的数据集：
- en: '[PRE6]'
  id: totrans-83
  prefs: []
  type: TYPE_PRE
  zh: '[PRE6]'
- en: '#### `get_all_exported_dataset_infos`'
  id: totrans-84
  prefs: []
  type: TYPE_NORMAL
  zh: '#### `get_all_exported_dataset_infos`'
- en: '[< source >](https://github.com/huggingface/datasets/blob/2.17.0/src/datasets/builder.py#L530)'
  id: totrans-85
  prefs: []
  type: TYPE_NORMAL
  zh: '[< source >](https://github.com/huggingface/datasets/blob/2.17.0/src/datasets/builder.py#L530)'
- en: '[PRE7]'
  id: totrans-86
  prefs: []
  type: TYPE_PRE
  zh: '[PRE7]'
- en: Empty dict if doesn’t exist
  id: totrans-87
  prefs: []
  type: TYPE_NORMAL
  zh: 如果不存在，则为空字典
- en: 'Example:'
  id: totrans-88
  prefs: []
  type: TYPE_NORMAL
  zh: 示例：
- en: '[PRE8]'
  id: totrans-89
  prefs: []
  type: TYPE_PRE
  zh: '[PRE8]'
- en: '#### `get_exported_dataset_info`'
  id: totrans-90
  prefs: []
  type: TYPE_NORMAL
  zh: '#### `get_exported_dataset_info`'
- en: '[< source >](https://github.com/huggingface/datasets/blob/2.17.0/src/datasets/builder.py#L545)'
  id: totrans-91
  prefs: []
  type: TYPE_NORMAL
  zh: '[< source >](https://github.com/huggingface/datasets/blob/2.17.0/src/datasets/builder.py#L545)'
- en: '[PRE9]'
  id: totrans-92
  prefs: []
  type: TYPE_PRE
  zh: '[PRE9]'
- en: Empty `DatasetInfo` if doesn’t exist
  id: totrans-93
  prefs: []
  type: TYPE_NORMAL
  zh: 如果不存在，则为空`DatasetInfo`
- en: 'Example:'
  id: totrans-94
  prefs: []
  type: TYPE_NORMAL
  zh: 示例：
- en: '[PRE10]'
  id: totrans-95
  prefs: []
  type: TYPE_PRE
  zh: '[PRE10]'
- en: '#### `get_imported_module_dir`'
  id: totrans-96
  prefs: []
  type: TYPE_NORMAL
  zh: '#### `get_imported_module_dir`'
- en: '[< source >](https://github.com/huggingface/datasets/blob/2.17.0/src/datasets/builder.py#L736)'
  id: totrans-97
  prefs: []
  type: TYPE_NORMAL
  zh: '[< source >](https://github.com/huggingface/datasets/blob/2.17.0/src/datasets/builder.py#L736)'
- en: '[PRE11]'
  id: totrans-98
  prefs: []
  type: TYPE_PRE
  zh: '[PRE11]'
- en: Return the path of the module of this class or subclass.
  id: totrans-99
  prefs: []
  type: TYPE_NORMAL
  zh: 返回此类或子类的模块路径。
- en: '### `class datasets.GeneratorBasedBuilder`'
  id: totrans-100
  prefs: []
  type: TYPE_NORMAL
  zh: '### `class datasets.GeneratorBasedBuilder`'
- en: '[< source >](https://github.com/huggingface/datasets/blob/2.17.0/src/datasets/builder.py#L1514)'
  id: totrans-101
  prefs: []
  type: TYPE_NORMAL
  zh: '[< source >](https://github.com/huggingface/datasets/blob/2.17.0/src/datasets/builder.py#L1514)'
- en: '[PRE12]'
  id: totrans-102
  prefs: []
  type: TYPE_PRE
  zh: '[PRE12]'
- en: Base class for datasets with data generation based on dict generators.
  id: totrans-103
  prefs: []
  type: TYPE_NORMAL
  zh: 基于字典生成器的数据生成的数据集的基类。
- en: '`GeneratorBasedBuilder` is a convenience class that abstracts away much of
    the data writing and reading of `DatasetBuilder`. It expects subclasses to implement
    generators of feature dictionaries across the dataset splits (`_split_generators`).
    See the method docstrings for details.'
  id: totrans-104
  prefs: []
  type: TYPE_NORMAL
  zh: '`GeneratorBasedBuilder`是一个方便的类，它抽象了`DatasetBuilder`的许多数据写入和读取。它期望子类实现数据集分割中特征字典的生成器（`_split_generators`）。有关详细信息，请参阅方法文档字符串。'
- en: '### `class datasets.BeamBasedBuilder`'
  id: totrans-105
  prefs: []
  type: TYPE_NORMAL
  zh: '### `class datasets.BeamBasedBuilder`'
- en: '[< source >](https://github.com/huggingface/datasets/blob/2.17.0/src/datasets/builder.py#L2028)'
  id: totrans-106
  prefs: []
  type: TYPE_NORMAL
  zh: '[< source >](https://github.com/huggingface/datasets/blob/2.17.0/src/datasets/builder.py#L2028)'
- en: '[PRE13]'
  id: totrans-107
  prefs: []
  type: TYPE_PRE
  zh: '[PRE13]'
- en: Beam-based Builder.
  id: totrans-108
  prefs: []
  type: TYPE_NORMAL
  zh: 基于Beam的Builder。
- en: '### `class datasets.ArrowBasedBuilder`'
  id: totrans-109
  prefs: []
  type: TYPE_NORMAL
  zh: '### `class datasets.ArrowBasedBuilder`'
- en: '[< source >](https://github.com/huggingface/datasets/blob/2.17.0/src/datasets/builder.py#L1779)'
  id: totrans-110
  prefs: []
  type: TYPE_NORMAL
  zh: '[< source >](https://github.com/huggingface/datasets/blob/2.17.0/src/datasets/builder.py#L1779)'
- en: '[PRE14]'
  id: totrans-111
  prefs: []
  type: TYPE_PRE
  zh: '[PRE14]'
- en: Base class for datasets with data generation based on Arrow loading functions
    (CSV/JSON/Parquet).
  id: totrans-112
  prefs: []
  type: TYPE_NORMAL
  zh: 基于Arrow加载函数（CSV/JSON/Parquet）的数据生成的数据集的基类。
- en: '### `class datasets.BuilderConfig`'
  id: totrans-113
  prefs: []
  type: TYPE_NORMAL
  zh: '### `class datasets.BuilderConfig`'
- en: '[< source >](https://github.com/huggingface/datasets/blob/2.17.0/src/datasets/builder.py#L100)'
  id: totrans-114
  prefs: []
  type: TYPE_NORMAL
  zh: '[< source >](https://github.com/huggingface/datasets/blob/2.17.0/src/datasets/builder.py#L100)'
- en: '[PRE15]'
  id: totrans-115
  prefs: []
  type: TYPE_PRE
  zh: '[PRE15]'
- en: Parameters
  id: totrans-116
  prefs: []
  type: TYPE_NORMAL
  zh: 参数
- en: '`name` (`str`, defaults to `default`) — The name of the configuration.'
  id: totrans-117
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`name` (`str`, 默认为 `default`) — 配置的名称。'
- en: '`version` (`Version` or `str`, defaults to `0.0.0`) — The version of the configuration.'
  id: totrans-118
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`version` (`Version` 或 `str`, 默认为 `0.0.0`) — 配置的版本。'
- en: '`data_dir` (`str`, *optional*) — Path to the directory containing the source
    data.'
  id: totrans-119
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`data_dir` (`str`, *可选*) — 包含源数据的目录的路径。'
- en: '`data_files` (`str` or `Sequence` or `Mapping`, *optional*) — Path(s) to source
    data file(s).'
  id: totrans-120
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`data_files` (`str` 或 `Sequence` 或 `Mapping`, *可选*) — 源数据文件的路径。'
- en: '`description` (`str`, *optional*) — A human description of the configuration.'
  id: totrans-121
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`description` (`str`, *可选*) — 配置的人类描述。'
- en: Base class for `DatasetBuilder` data configuration.
  id: totrans-122
  prefs: []
  type: TYPE_NORMAL
  zh: '`DatasetBuilder`数据配置的基类。'
- en: '`DatasetBuilder` subclasses with data configuration options should subclass
    `BuilderConfig` and add their own properties.'
  id: totrans-123
  prefs: []
  type: TYPE_NORMAL
  zh: 带有数据配置选项的`DatasetBuilder`子类应该继承`BuilderConfig`并添加自己的属性。
- en: '#### `create_config_id`'
  id: totrans-124
  prefs: []
  type: TYPE_NORMAL
  zh: '#### `create_config_id`'
- en: '[< source >](https://github.com/huggingface/datasets/blob/2.17.0/src/datasets/builder.py#L144)'
  id: totrans-125
  prefs: []
  type: TYPE_NORMAL
  zh: '[< source >](https://github.com/huggingface/datasets/blob/2.17.0/src/datasets/builder.py#L144)'
- en: '[PRE16]'
  id: totrans-126
  prefs: []
  type: TYPE_PRE
  zh: '[PRE16]'
- en: 'The config id is used to build the cache directory. By default it is equal
    to the config name. However the name of a config is not sufficient to have a unique
    identifier for the dataset being generated since it doesn’t take into account:'
  id: totrans-127
  prefs: []
  type: TYPE_NORMAL
  zh: 配置id用于构建缓存目录。默认情况下，它等于配置名称。但是，配置的名称不足以为生成的数据集提供唯一标识符，因为它没有考虑到：
- en: the config kwargs that can be used to overwrite attributes
  id: totrans-128
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 可以用来覆盖属性的配置kwargs
- en: the custom features used to write the dataset
  id: totrans-129
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 用于编写数据集的自定义特征
- en: the data_files for json/text/csv/pandas datasets
  id: totrans-130
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: json/text/csv/pandas数据集的数据文件
- en: Therefore the config id is just the config name with an optional suffix based
    on these.
  id: totrans-131
  prefs: []
  type: TYPE_NORMAL
  zh: 因此，配置ID只是配置名称，根据这些，可以选择添加后缀。
- en: Download
  id: totrans-132
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 下载
- en: '### `class datasets.DownloadManager`'
  id: totrans-133
  prefs: []
  type: TYPE_NORMAL
  zh: '### `class datasets.DownloadManager`'
- en: '[< source >](https://github.com/huggingface/datasets/blob/2.17.0/src/datasets/download/download_manager.py#L263)'
  id: totrans-134
  prefs: []
  type: TYPE_NORMAL
  zh: '[<来源>](https://github.com/huggingface/datasets/blob/2.17.0/src/datasets/download/download_manager.py#L263)'
- en: '[PRE17]'
  id: totrans-135
  prefs: []
  type: TYPE_PRE
  zh: '[PRE17]'
- en: '#### `download`'
  id: totrans-136
  prefs: []
  type: TYPE_NORMAL
  zh: '#### `download`'
- en: '[< source >](https://github.com/huggingface/datasets/blob/2.17.0/src/datasets/download/download_manager.py#L406)'
  id: totrans-137
  prefs: []
  type: TYPE_NORMAL
  zh: '[<来源>](https://github.com/huggingface/datasets/blob/2.17.0/src/datasets/download/download_manager.py#L406)'
- en: '[PRE18]'
  id: totrans-138
  prefs: []
  type: TYPE_PRE
  zh: '[PRE18]'
- en: Parameters
  id: totrans-139
  prefs: []
  type: TYPE_NORMAL
  zh: 参数
- en: '`url_or_urls` (`str` or `list` or `dict`) — URL or `list` or `dict` of URLs
    to download. Each URL is a `str`.'
  id: totrans-140
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`url_or_urls`（`str`或`list`或`dict`） - 要下载的URL或`list`或`dict`。每个URL都是`str`。'
- en: Returns
  id: totrans-141
  prefs: []
  type: TYPE_NORMAL
  zh: 返回
- en: '`str` or `list` or `dict`'
  id: totrans-142
  prefs: []
  type: TYPE_NORMAL
  zh: '`str`或`list`或`dict`'
- en: The downloaded paths matching the given input `url_or_urls`.
  id: totrans-143
  prefs: []
  type: TYPE_NORMAL
  zh: 下载的路径与给定的输入`url_or_urls`匹配。
- en: Download given URL(s).
  id: totrans-144
  prefs: []
  type: TYPE_NORMAL
  zh: 下载给定的URL。
- en: By default, only one process is used for download. Pass customized `download_config.num_proc`
    to change this behavior.
  id: totrans-145
  prefs: []
  type: TYPE_NORMAL
  zh: 默认情况下，仅使用一个进程进行下载。传递自定义的`download_config.num_proc`以更改此行为。
- en: 'Example:'
  id: totrans-146
  prefs: []
  type: TYPE_NORMAL
  zh: 示例：
- en: '[PRE19]'
  id: totrans-147
  prefs: []
  type: TYPE_PRE
  zh: '[PRE19]'
- en: '#### `download_and_extract`'
  id: totrans-148
  prefs: []
  type: TYPE_NORMAL
  zh: '#### `download_and_extract`'
- en: '[< source >](https://github.com/huggingface/datasets/blob/2.17.0/src/datasets/download/download_manager.py#L554)'
  id: totrans-149
  prefs: []
  type: TYPE_NORMAL
  zh: '[<来源>](https://github.com/huggingface/datasets/blob/2.17.0/src/datasets/download/download_manager.py#L554)'
- en: '[PRE20]'
  id: totrans-150
  prefs: []
  type: TYPE_PRE
  zh: '[PRE20]'
- en: Parameters
  id: totrans-151
  prefs: []
  type: TYPE_NORMAL
  zh: 参数
- en: '`url_or_urls` (`str` or `list` or `dict`) — URL or `list` or `dict` of URLs
    to download and extract. Each URL is a `str`.'
  id: totrans-152
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`url_or_urls`（`str`或`list`或`dict`） - 要下载和提取的URL或`list`或`dict`。每个URL都是`str`。'
- en: Returns
  id: totrans-153
  prefs: []
  type: TYPE_NORMAL
  zh: 返回
- en: extracted_path(s)
  id: totrans-154
  prefs: []
  type: TYPE_NORMAL
  zh: 提取的路径
- en: '`str`, extracted paths of given URL(s).'
  id: totrans-155
  prefs: []
  type: TYPE_NORMAL
  zh: '`str`，提取给定URL的路径。'
- en: Download and extract given `url_or_urls`.
  id: totrans-156
  prefs: []
  type: TYPE_NORMAL
  zh: 下载并提取给定的`url_or_urls`。
- en: 'Is roughly equivalent to:'
  id: totrans-157
  prefs: []
  type: TYPE_NORMAL
  zh: 大致相当于：
- en: '[PRE21]'
  id: totrans-158
  prefs: []
  type: TYPE_PRE
  zh: '[PRE21]'
- en: '#### `download_custom`'
  id: totrans-159
  prefs: []
  type: TYPE_NORMAL
  zh: '#### `download_custom`'
- en: '[< source >](https://github.com/huggingface/datasets/blob/2.17.0/src/datasets/download/download_manager.py#L359)'
  id: totrans-160
  prefs: []
  type: TYPE_NORMAL
  zh: '[<来源>](https://github.com/huggingface/datasets/blob/2.17.0/src/datasets/download/download_manager.py#L359)'
- en: '[PRE22]'
  id: totrans-161
  prefs: []
  type: TYPE_PRE
  zh: '[PRE22]'
- en: Parameters
  id: totrans-162
  prefs: []
  type: TYPE_NORMAL
  zh: 参数
- en: '`url_or_urls` (`str` or `list` or `dict`) — URL or `list` or `dict` of URLs
    to download and extract. Each URL is a `str`.'
  id: totrans-163
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`url_or_urls`（`str`或`list`或`dict`） - 要下载和提取的URL或`list`或`dict`。每个URL都是`str`。'
- en: '`custom_download` (`Callable[src_url, dst_path]`) — The source URL and destination
    path. For example `tf.io.gfile.copy`, that lets you download from Google storage.'
  id: totrans-164
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`custom_download`（`Callable[src_url, dst_path]`） - 源URL和目标路径。例如`tf.io.gfile.copy`，可让您从Google存储下载。'
- en: Returns
  id: totrans-165
  prefs: []
  type: TYPE_NORMAL
  zh: 返回
- en: downloaded_path(s)
  id: totrans-166
  prefs: []
  type: TYPE_NORMAL
  zh: 下载的路径
- en: '`str`, The downloaded paths matching the given input `url_or_urls`.'
  id: totrans-167
  prefs: []
  type: TYPE_NORMAL
  zh: '`str`，匹配给定输入`url_or_urls`的下载路径。'
- en: Download given urls(s) by calling `custom_download`.
  id: totrans-168
  prefs: []
  type: TYPE_NORMAL
  zh: 通过调用`custom_download`下载给定的URL。
- en: 'Example:'
  id: totrans-169
  prefs: []
  type: TYPE_NORMAL
  zh: 示例：
- en: '[PRE23]'
  id: totrans-170
  prefs: []
  type: TYPE_PRE
  zh: '[PRE23]'
- en: '#### `extract`'
  id: totrans-171
  prefs: []
  type: TYPE_NORMAL
  zh: '#### `extract`'
- en: '[< source >](https://github.com/huggingface/datasets/blob/2.17.0/src/datasets/download/download_manager.py#L508)'
  id: totrans-172
  prefs: []
  type: TYPE_NORMAL
  zh: '[<来源>](https://github.com/huggingface/datasets/blob/2.17.0/src/datasets/download/download_manager.py#L508)'
- en: '[PRE24]'
  id: totrans-173
  prefs: []
  type: TYPE_PRE
  zh: '[PRE24]'
- en: Parameters
  id: totrans-174
  prefs: []
  type: TYPE_NORMAL
  zh: 参数
- en: '`path_or_paths` (path or `list` or `dict`) — Path of file to extract. Each
    path is a `str`.'
  id: totrans-175
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`path_or_paths`（路径或`list`或`dict`） - 要提取的文件路径。每个路径都是`str`。'
- en: '`num_proc` (`int`) — Use multi-processing if `num_proc` > 1 and the length
    of `path_or_paths` is larger than `num_proc`.'
  id: totrans-176
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`num_proc`（`int`） - 如果`num_proc` > 1且`path_or_paths`的长度大于`num_proc`，则使用多进程。'
- en: Deprecated in 2.6.2
  id: totrans-177
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 在2.6.2中已弃用
- en: Pass `DownloadConfig(num_proc=<num_proc>)` to the initializer instead.
  id: totrans-178
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 将`DownloadConfig(num_proc=<num_proc>)`传递给初始化程序。
- en: Returns
  id: totrans-179
  prefs: []
  type: TYPE_NORMAL
  zh: 返回
- en: extracted_path(s)
  id: totrans-180
  prefs: []
  type: TYPE_NORMAL
  zh: 提取的路径
- en: '`str`, The extracted paths matching the given input path_or_paths.'
  id: totrans-181
  prefs: []
  type: TYPE_NORMAL
  zh: '`str`，匹配给定输入`path_or_paths`的提取路径。'
- en: Extract given path(s).
  id: totrans-182
  prefs: []
  type: TYPE_NORMAL
  zh: 提取给定的路径。
- en: 'Example:'
  id: totrans-183
  prefs: []
  type: TYPE_NORMAL
  zh: 示例：
- en: '[PRE25]'
  id: totrans-184
  prefs: []
  type: TYPE_PRE
  zh: '[PRE25]'
- en: '#### `iter_archive`'
  id: totrans-185
  prefs: []
  type: TYPE_NORMAL
  zh: '#### `iter_archive`'
- en: '[< source >](https://github.com/huggingface/datasets/blob/2.17.0/src/datasets/download/download_manager.py#L464)'
  id: totrans-186
  prefs: []
  type: TYPE_NORMAL
  zh: '[<来源>](https://github.com/huggingface/datasets/blob/2.17.0/src/datasets/download/download_manager.py#L464)'
- en: '[PRE26]'
  id: totrans-187
  prefs: []
  type: TYPE_PRE
  zh: '[PRE26]'
- en: Parameters
  id: totrans-188
  prefs: []
  type: TYPE_NORMAL
  zh: 参数
- en: '`path_or_buf` (`str` or `io.BufferedReader`) — Archive path or archive binary
    file object.'
  id: totrans-189
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`path_or_buf`（`str`或`io.BufferedReader`） - 存档路径或存档二进制文件对象。'
- en: Yields
  id: totrans-190
  prefs: []
  type: TYPE_NORMAL
  zh: 产出
- en: '`tuple[str, io.BufferedReader]`'
  id: totrans-191
  prefs: []
  type: TYPE_NORMAL
  zh: '`tuple[str, io.BufferedReader]`'
- en: Iterate over files within an archive.
  id: totrans-192
  prefs: []
  type: TYPE_NORMAL
  zh: 迭代归档中的文件。
- en: 'Example:'
  id: totrans-193
  prefs: []
  type: TYPE_NORMAL
  zh: 示例：
- en: '[PRE27]'
  id: totrans-194
  prefs: []
  type: TYPE_PRE
  zh: '[PRE27]'
- en: '#### `iter_files`'
  id: totrans-195
  prefs: []
  type: TYPE_NORMAL
  zh: '#### `iter_files`'
- en: '[< source >](https://github.com/huggingface/datasets/blob/2.17.0/src/datasets/download/download_manager.py#L489)'
  id: totrans-196
  prefs: []
  type: TYPE_NORMAL
  zh: '[<来源>](https://github.com/huggingface/datasets/blob/2.17.0/src/datasets/download/download_manager.py#L489)'
- en: '[PRE28]'
  id: totrans-197
  prefs: []
  type: TYPE_PRE
  zh: '[PRE28]'
- en: Parameters
  id: totrans-198
  prefs: []
  type: TYPE_NORMAL
  zh: 参数
- en: '`paths` (`str` or `list` of `str`) — Root paths.'
  id: totrans-199
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`paths`（`str`或`str`的`list`） - 根路径。'
- en: Yields
  id: totrans-200
  prefs: []
  type: TYPE_NORMAL
  zh: 产出
- en: '`str`'
  id: totrans-201
  prefs: []
  type: TYPE_NORMAL
  zh: '`str`'
- en: Iterate over file paths.
  id: totrans-202
  prefs: []
  type: TYPE_NORMAL
  zh: 迭代文件路径。
- en: 'Example:'
  id: totrans-203
  prefs: []
  type: TYPE_NORMAL
  zh: 示例：
- en: '[PRE29]'
  id: totrans-204
  prefs: []
  type: TYPE_PRE
  zh: '[PRE29]'
- en: '#### `ship_files_with_pipeline`'
  id: totrans-205
  prefs: []
  type: TYPE_NORMAL
  zh: '#### `ship_files_with_pipeline`'
- en: '[< source >](https://github.com/huggingface/datasets/blob/2.17.0/src/datasets/download/download_manager.py#L310)'
  id: totrans-206
  prefs: []
  type: TYPE_NORMAL
  zh: '[<来源>](https://github.com/huggingface/datasets/blob/2.17.0/src/datasets/download/download_manager.py#L310)'
- en: '[PRE30]'
  id: totrans-207
  prefs: []
  type: TYPE_PRE
  zh: '[PRE30]'
- en: Parameters
  id: totrans-208
  prefs: []
  type: TYPE_NORMAL
  zh: 参数
- en: '`downloaded_path_or_paths` (`str` or `list[str]` or `dict[str, str]`) — Nested
    structure containing the downloaded path(s).'
  id: totrans-209
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`downloaded_path_or_paths`（`str`或`list[str]`或`dict[str, str]） - 包含下载路径的嵌套结构。'
- en: '`pipeline` (`utils.beam_utils.BeamPipeline`) — Apache Beam Pipeline.'
  id: totrans-210
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`pipeline`（`utils.beam_utils.BeamPipeline`） - Apache Beam Pipeline。'
- en: Ship the files using Beam FileSystems to the pipeline temp dir.
  id: totrans-211
  prefs: []
  type: TYPE_NORMAL
  zh: 使用Beam FileSystems将文件传送到管道临时目录。
- en: '### `class datasets.StreamingDownloadManager`'
  id: totrans-212
  prefs: []
  type: TYPE_NORMAL
  zh: '### `class datasets.StreamingDownloadManager`'
- en: '[< source >](https://github.com/huggingface/datasets/blob/2.17.0/src/datasets/download/streaming_download_manager.py#L969)'
  id: totrans-213
  prefs: []
  type: TYPE_NORMAL
  zh: '[<来源>](https://github.com/huggingface/datasets/blob/2.17.0/src/datasets/download/streaming_download_manager.py#L969)'
- en: '[PRE31]'
  id: totrans-214
  prefs: []
  type: TYPE_PRE
  zh: '[PRE31]'
- en: Download manager that uses the ”::” separator to navigate through (possibly
    remote) compressed archives. Contrary to the regular `DownloadManager`, the `download`
    and `extract` methods don’t actually download nor extract data, but they rather
    return the path or url that could be opened using the `xopen` function which extends
    the built-in `open` function to stream data from remote files.
  id: totrans-215
  prefs: []
  type: TYPE_NORMAL
  zh: 使用”::”分隔符导航（可能是远程）压缩存档的下载管理器。与常规`DownloadManager`相反，`download`和`extract`方法实际上不会下载或提取数据，而是返回可以使用`xopen`函数打开的路径或URL，该函数扩展了内置的`open`函数以从远程文件流式传输数据。
- en: '#### `download`'
  id: totrans-216
  prefs: []
  type: TYPE_NORMAL
  zh: '#### `download`'
- en: '[< source >](https://github.com/huggingface/datasets/blob/2.17.0/src/datasets/download/streaming_download_manager.py#L995)'
  id: totrans-217
  prefs: []
  type: TYPE_NORMAL
  zh: '[<来源>](https://github.com/huggingface/datasets/blob/2.17.0/src/datasets/download/streaming_download_manager.py#L995)'
- en: '[PRE32]'
  id: totrans-218
  prefs: []
  type: TYPE_PRE
  zh: '[PRE32]'
- en: Parameters
  id: totrans-219
  prefs: []
  type: TYPE_NORMAL
  zh: 参数
- en: '`url_or_urls` (`str` or `list` or `dict`) — URL(s) of files to stream data
    from. Each url is a `str`.'
  id: totrans-220
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`url_or_urls`（`str`或`list`或`dict`）—要从中流式传输数据的文件的URL(s)。每个URL都是一个`str`。'
- en: Returns
  id: totrans-221
  prefs: []
  type: TYPE_NORMAL
  zh: 返回
- en: url(s)
  id: totrans-222
  prefs: []
  type: TYPE_NORMAL
  zh: url(s)
- en: (`str` or `list` or `dict`), URL(s) to stream data from matching the given input
    url_or_urls.
  id: totrans-223
  prefs: []
  type: TYPE_NORMAL
  zh: （`str`或`list`或`dict`），URL(s)以匹配给定输入`url_or_urls`的数据流。
- en: Normalize URL(s) of files to stream data from. This is the lazy version of `DownloadManager.download`
    for streaming.
  id: totrans-224
  prefs: []
  type: TYPE_NORMAL
  zh: 规范化要从中流式传输数据的文件的URL(s)。这是用于流式传输的`DownloadManager.download`的延迟版本。
- en: 'Example:'
  id: totrans-225
  prefs: []
  type: TYPE_NORMAL
  zh: 示例：
- en: '[PRE33]'
  id: totrans-226
  prefs: []
  type: TYPE_PRE
  zh: '[PRE33]'
- en: '#### `download_and_extract`'
  id: totrans-227
  prefs: []
  type: TYPE_NORMAL
  zh: '#### `download_and_extract`'
- en: '[< source >](https://github.com/huggingface/datasets/blob/2.17.0/src/datasets/download/streaming_download_manager.py#L1071)'
  id: totrans-228
  prefs: []
  type: TYPE_NORMAL
  zh: '[<来源>](https://github.com/huggingface/datasets/blob/2.17.0/src/datasets/download/streaming_download_manager.py#L1071)'
- en: '[PRE34]'
  id: totrans-229
  prefs: []
  type: TYPE_PRE
  zh: '[PRE34]'
- en: Parameters
  id: totrans-230
  prefs: []
  type: TYPE_NORMAL
  zh: 参数
- en: '`url_or_urls` (`str` or `list` or `dict`) — URL(s) to stream from data from.
    Each url is a `str`.'
  id: totrans-231
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`url_or_urls`（`str`或`list`或`dict`）—要从中流式传输数据的URL(s)。每个URL都是一个`str`。'
- en: Returns
  id: totrans-232
  prefs: []
  type: TYPE_NORMAL
  zh: 返回
- en: url(s)
  id: totrans-233
  prefs: []
  type: TYPE_NORMAL
  zh: url(s)
- en: (`str` or `list` or `dict`), URL(s) to stream data from matching the given input
    `url_or_urls`.
  id: totrans-234
  prefs: []
  type: TYPE_NORMAL
  zh: （`str`或`list`或`dict`），URL(s)以匹配给定输入`url_or_urls`的数据流。
- en: Prepare given `url_or_urls` for streaming (add extraction protocol).
  id: totrans-235
  prefs: []
  type: TYPE_NORMAL
  zh: 准备好用于流式传输的`url_or_urls`（添加提取协议）。
- en: This is the lazy version of `DownloadManager.download_and_extract` for streaming.
  id: totrans-236
  prefs: []
  type: TYPE_NORMAL
  zh: 这是用于流式传输的`DownloadManager.download_and_extract`的延迟版本。
- en: 'Is equivalent to:'
  id: totrans-237
  prefs: []
  type: TYPE_NORMAL
  zh: 等同于：
- en: '[PRE35]'
  id: totrans-238
  prefs: []
  type: TYPE_PRE
  zh: '[PRE35]'
- en: '#### `extract`'
  id: totrans-239
  prefs: []
  type: TYPE_NORMAL
  zh: '#### `extract`'
- en: '[< source >](https://github.com/huggingface/datasets/blob/2.17.0/src/datasets/download/streaming_download_manager.py#L1022)'
  id: totrans-240
  prefs: []
  type: TYPE_NORMAL
  zh: '[<来源>](https://github.com/huggingface/datasets/blob/2.17.0/src/datasets/download/streaming_download_manager.py#L1022)'
- en: '[PRE36]'
  id: totrans-241
  prefs: []
  type: TYPE_PRE
  zh: '[PRE36]'
- en: Parameters
  id: totrans-242
  prefs: []
  type: TYPE_NORMAL
  zh: 参数
- en: '`url_or_urls` (`str` or `list` or `dict`) — URL(s) of files to stream data
    from. Each url is a `str`.'
  id: totrans-243
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`url_or_urls`（`str`或`list`或`dict`）—要从中流式传输数据的文件的URL(s)。每个URL都是一个`str`。'
- en: Returns
  id: totrans-244
  prefs: []
  type: TYPE_NORMAL
  zh: 返回
- en: url(s)
  id: totrans-245
  prefs: []
  type: TYPE_NORMAL
  zh: url(s)
- en: (`str` or `list` or `dict`), URL(s) to stream data from matching the given input
    `url_or_urls`.
  id: totrans-246
  prefs: []
  type: TYPE_NORMAL
  zh: （`str`或`list`或`dict`），URL(s)以匹配给定输入`url_or_urls`的数据流。
- en: Add extraction protocol for given url(s) for streaming.
  id: totrans-247
  prefs: []
  type: TYPE_NORMAL
  zh: 为给定的URL(s)添加提取协议以进行流式传输。
- en: This is the lazy version of `DownloadManager.extract` for streaming.
  id: totrans-248
  prefs: []
  type: TYPE_NORMAL
  zh: 这是用于流式传输的`DownloadManager.extract`的延迟版本。
- en: 'Example:'
  id: totrans-249
  prefs: []
  type: TYPE_NORMAL
  zh: 示例：
- en: '[PRE37]'
  id: totrans-250
  prefs: []
  type: TYPE_PRE
  zh: '[PRE37]'
- en: '#### `iter_archive`'
  id: totrans-251
  prefs: []
  type: TYPE_NORMAL
  zh: '#### `iter_archive`'
- en: '[< source >](https://github.com/huggingface/datasets/blob/2.17.0/src/datasets/download/streaming_download_manager.py#L1091)'
  id: totrans-252
  prefs: []
  type: TYPE_NORMAL
  zh: '[<来源>](https://github.com/huggingface/datasets/blob/2.17.0/src/datasets/download/streaming_download_manager.py#L1091)'
- en: '[PRE38]'
  id: totrans-253
  prefs: []
  type: TYPE_PRE
  zh: '[PRE38]'
- en: Parameters
  id: totrans-254
  prefs: []
  type: TYPE_NORMAL
  zh: 参数
- en: '`urlpath_or_buf` (`str` or `io.BufferedReader`) — Archive path or archive binary
    file object.'
  id: totrans-255
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`urlpath_or_buf`（`str`或`io.BufferedReader`）—存档路径或存档二进制文件对象。'
- en: Yields
  id: totrans-256
  prefs: []
  type: TYPE_NORMAL
  zh: 产量
- en: '`tuple[str, io.BufferedReader]`'
  id: totrans-257
  prefs: []
  type: TYPE_NORMAL
  zh: '`tuple[str, io.BufferedReader]`'
- en: Iterate over files within an archive.
  id: totrans-258
  prefs: []
  type: TYPE_NORMAL
  zh: 在存档中遍历文件。
- en: 'Example:'
  id: totrans-259
  prefs: []
  type: TYPE_NORMAL
  zh: 示例：
- en: '[PRE39]'
  id: totrans-260
  prefs: []
  type: TYPE_PRE
  zh: '[PRE39]'
- en: '#### `iter_files`'
  id: totrans-261
  prefs: []
  type: TYPE_NORMAL
  zh: '#### `iter_files`'
- en: '[< source >](https://github.com/huggingface/datasets/blob/2.17.0/src/datasets/download/streaming_download_manager.py#L1116)'
  id: totrans-262
  prefs: []
  type: TYPE_NORMAL
  zh: '[<来源>](https://github.com/huggingface/datasets/blob/2.17.0/src/datasets/download/streaming_download_manager.py#L1116)'
- en: '[PRE40]'
  id: totrans-263
  prefs: []
  type: TYPE_PRE
  zh: '[PRE40]'
- en: Parameters
  id: totrans-264
  prefs: []
  type: TYPE_NORMAL
  zh: 参数
- en: '`urlpaths` (`str` or `list` of `str`) — Root paths.'
  id: totrans-265
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`urlpaths`（`str`或`str`列表）—根路径。'
- en: Yields
  id: totrans-266
  prefs: []
  type: TYPE_NORMAL
  zh: 产量
- en: str
  id: totrans-267
  prefs: []
  type: TYPE_NORMAL
  zh: str
- en: Iterate over files.
  id: totrans-268
  prefs: []
  type: TYPE_NORMAL
  zh: 遍历文件。
- en: 'Example:'
  id: totrans-269
  prefs: []
  type: TYPE_NORMAL
  zh: 示例：
- en: '[PRE41]'
  id: totrans-270
  prefs: []
  type: TYPE_PRE
  zh: '[PRE41]'
- en: '### `class datasets.DownloadConfig`'
  id: totrans-271
  prefs: []
  type: TYPE_NORMAL
  zh: '### `class datasets.DownloadConfig`'
- en: '[< source >](https://github.com/huggingface/datasets/blob/2.17.0/src/datasets/download/download_config.py#L10)'
  id: totrans-272
  prefs: []
  type: TYPE_NORMAL
  zh: '[<来源>](https://github.com/huggingface/datasets/blob/2.17.0/src/datasets/download/download_config.py#L10)'
- en: '[PRE42]'
  id: totrans-273
  prefs: []
  type: TYPE_PRE
  zh: '[PRE42]'
- en: Parameters
  id: totrans-274
  prefs: []
  type: TYPE_NORMAL
  zh: 参数
- en: '`cache_dir` (`str` or `Path`, *optional*) — Specify a cache directory to save
    the file to (overwrite the default cache dir).'
  id: totrans-275
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`cache_dir`（`str`或`Path`，*可选*）—指定一个缓存目录以保存文件（覆盖默认缓存目录）。'
- en: '`force_download` (`bool`, defaults to `False`) — If `True`, re-dowload the
    file even if it’s already cached in the cache dir.'
  id: totrans-276
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`force_download`（默认为`False`的`bool`）—如果为`True`，即使文件已经缓存在缓存目录中，也会重新下载文件。'
- en: '`resume_download` (`bool`, defaults to `False`) — If `True`, resume the download
    if an incompletely received file is found.'
  id: totrans-277
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`resume_download`（默认为`False`的`bool`）—如果为`True`，则在发现未完全接收的文件时恢复下载。'
- en: '`proxies` (`dict`, *optional*) —'
  id: totrans-278
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`proxies`（`dict`，*可选*）—'
- en: '`user_agent` (`str`, *optional*) — Optional string or dict that will be appended
    to the user-agent on remote requests.'
  id: totrans-279
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`user_agent`（`str`，*可选*）—将附加到远程请求的用户代理的可选字符串或字典。'
- en: '`extract_compressed_file` (`bool`, defaults to `False`) — If `True` and the
    path point to a zip or tar file, extract the compressed file in a folder along
    the archive.'
  id: totrans-280
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`extract_compressed_file`（`bool`，默认为`False`）—如果为`True`且路径指向zip或tar文件，则在存档旁边提取压缩文件。'
- en: '`force_extract` (`bool`, defaults to `False`) — If `True` when `extract_compressed_file`
    is `True` and the archive was already extracted, re-extract the archive and override
    the folder where it was extracted.'
  id: totrans-281
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`force_extract`（默认为`False`的`bool`）—如果`extract_compressed_file`为`True`且存档已经被提取，则重新提取存档并覆盖提取存档的文件夹。'
- en: '`delete_extracted` (`bool`, defaults to `False`) — Whether to delete (or keep)
    the extracted files.'
  id: totrans-282
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`delete_extracted`（默认为`False`的`bool`）—是否删除（或保留）提取的文件。'
- en: '`use_etag` (`bool`, defaults to `True`) — Whether to use the ETag HTTP response
    header to validate the cached files.'
  id: totrans-283
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`use_etag`（`bool`，默认为`True`）—是否使用ETag HTTP响应头来验证缓存文件。'
- en: '`num_proc` (`int`, *optional*) — The number of processes to launch to download
    the files in parallel.'
  id: totrans-284
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`num_proc`（`int`，*可选*）—要并行下载文件的进程数。'
- en: '`max_retries` (`int`, default to `1`) — The number of times to retry an HTTP
    request if it fails.'
  id: totrans-285
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`max_retries`（默认为`1`的`int`）—如果HTTP请求失败，则重试的次数。'
- en: '`token` (`str` or `bool`, *optional*) — Optional string or boolean to use as
    Bearer token for remote files on the Datasets Hub. If `True`, or not specified,
    will get token from `~/.huggingface`.'
  id: totrans-286
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`token`（`str`或`bool`，*可选*）—用作Datasets Hub上远程文件的Bearer令牌的可选字符串或布尔值。如果为`True`，或未指定，将从`~/.huggingface`获取令牌。'
- en: '`use_auth_token` (`str` or `bool`, *optional*) — Optional string or boolean
    to use as Bearer token for remote files on the Datasets Hub. If `True`, or not
    specified, will get token from `~/.huggingface`.'
  id: totrans-287
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`use_auth_token`（`str`或`bool`，*可选*）—用作Datasets Hub上远程文件的Bearer令牌的可选字符串或布尔值。如果为`True`，或未指定，将从`~/.huggingface`获取令牌。'
- en: Deprecated in 2.14.0
  id: totrans-288
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 在2.14.0中已弃用
- en: '`use_auth_token` was deprecated in favor of `token` in version 2.14.0 and will
    be removed in 3.0.0.'
  id: totrans-289
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: '`use_auth_token`在版本2.14.0中已弃用，改用`token`，并将在3.0.0中删除。'
- en: '`ignore_url_params` (`bool`, defaults to `False`) — Whether to strip all query
    parameters and fragments from the download URL before using it for caching the
    file.'
  id: totrans-290
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`ignore_url_params`（`bool`，默认为`False`）—在将其用于缓存文件之前，是否剥离下载URL中的所有查询参数和片段。'
- en: '`storage_options` (`dict`, *optional*) — Key/value pairs to be passed on to
    the dataset file-system backend, if any.'
  id: totrans-291
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`storage_options`（`dict`，*可选*）—要传递给数据集文件系统后端的键/值对。'
- en: '`download_desc` (`str`, *optional*) — A description to be displayed alongside
    with the progress bar while downloading the files.'
  id: totrans-292
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`download_desc`（`str`，*可选*）—在下载文件时显示在进度条旁边的描述。'
- en: Configuration for our cached path manager.
  id: totrans-293
  prefs: []
  type: TYPE_NORMAL
  zh: 我们的缓存路径管理器的配置。
- en: '### `class datasets.DownloadMode`'
  id: totrans-294
  prefs: []
  type: TYPE_NORMAL
  zh: '### `class datasets.DownloadMode`'
- en: '[< source >](https://github.com/huggingface/datasets/blob/2.17.0/src/datasets/download/download_manager.py#L85)'
  id: totrans-295
  prefs: []
  type: TYPE_NORMAL
  zh: '[<来源>](https://github.com/huggingface/datasets/blob/2.17.0/src/datasets/download/download_manager.py#L85)'
- en: '[PRE43]'
  id: totrans-296
  prefs: []
  type: TYPE_PRE
  zh: '[PRE43]'
- en: '`Enum` for how to treat pre-existing downloads and data.'
  id: totrans-297
  prefs: []
  type: TYPE_NORMAL
  zh: '`Enum`用于处理预先存在的下载和数据。'
- en: The default mode is `REUSE_DATASET_IF_EXISTS`, which will reuse both raw downloads
    and the prepared dataset if they exist.
  id: totrans-298
  prefs: []
  type: TYPE_NORMAL
  zh: 默认模式是`REUSE_DATASET_IF_EXISTS`，如果存在原始下载和准备好的数据集，则将重用它们。
- en: 'The generations modes:'
  id: totrans-299
  prefs: []
  type: TYPE_NORMAL
  zh: 生成模式：
- en: '|  | Downloads | Dataset |'
  id: totrans-300
  prefs: []
  type: TYPE_TB
  zh: '|  | 下载 | 数据集 |'
- en: '| --- | --- | --- |'
  id: totrans-301
  prefs: []
  type: TYPE_TB
  zh: '| --- | --- | --- |'
- en: '| `REUSE_DATASET_IF_EXISTS` (default) | Reuse | Reuse |'
  id: totrans-302
  prefs: []
  type: TYPE_TB
  zh: '| `REUSE_DATASET_IF_EXISTS`（默认）| 重用 | 重用 |'
- en: '| `REUSE_CACHE_IF_EXISTS` | Reuse | Fresh |'
  id: totrans-303
  prefs: []
  type: TYPE_TB
  zh: '| `REUSE_CACHE_IF_EXISTS` | 重用 | 新鲜 |'
- en: '| `FORCE_REDOWNLOAD` | Fresh | Fresh |'
  id: totrans-304
  prefs: []
  type: TYPE_TB
  zh: '| `FORCE_REDOWNLOAD` | 新鲜 | 新鲜 |'
- en: Verification
  id: totrans-305
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 验证
- en: '### `class datasets.VerificationMode`'
  id: totrans-306
  prefs: []
  type: TYPE_NORMAL
  zh: '### `class datasets.VerificationMode`'
- en: '[< source >](https://github.com/huggingface/datasets/blob/2.17.0/src/datasets/utils/info_utils.py#L14)'
  id: totrans-307
  prefs: []
  type: TYPE_NORMAL
  zh: '[<来源>](https://github.com/huggingface/datasets/blob/2.17.0/src/datasets/utils/info_utils.py#L14)'
- en: '[PRE44]'
  id: totrans-308
  prefs: []
  type: TYPE_PRE
  zh: '[PRE44]'
- en: '`Enum` that specifies which verification checks to run.'
  id: totrans-309
  prefs: []
  type: TYPE_NORMAL
  zh: 指定要运行哪些验证检查的`Enum`。
- en: The default mode is `BASIC_CHECKS`, which will perform only rudimentary checks
    to avoid slowdowns when generating/downloading a dataset for the first time.
  id: totrans-310
  prefs: []
  type: TYPE_NORMAL
  zh: 默认模式是`BASIC_CHECKS`，仅执行基本检查，以避免在首次生成/下载数据集时减慢速度。
- en: 'The verification modes:'
  id: totrans-311
  prefs: []
  type: TYPE_NORMAL
  zh: 验证模式：
- en: '|  | Verification checks |'
  id: totrans-312
  prefs: []
  type: TYPE_TB
  zh: '|  | 验证检查 |'
- en: '| --- | --- |'
  id: totrans-313
  prefs: []
  type: TYPE_TB
  zh: '| --- | --- |'
- en: '| `ALL_CHECKS` | Split checks, uniqueness of the keys yielded in case of the
    GeneratorBuilder |'
  id: totrans-314
  prefs: []
  type: TYPE_TB
  zh: '| `ALL_CHECKS` | 拆分检查，GeneratorBuilder中生成的键的唯一性 |'
- en: '|  | and the validity (number of files, checksums, etc.) of downloaded files
    |'
  id: totrans-315
  prefs: []
  type: TYPE_TB
  zh: '|  | 以及下载文件的有效性（文件数量，校验和等） |'
- en: '| `BASIC_CHECKS` (default) | Same as `ALL_CHECKS` but without checking downloaded
    files |'
  id: totrans-316
  prefs: []
  type: TYPE_TB
  zh: '| `BASIC_CHECKS`（默认）| 与`ALL_CHECKS`相同，但不检查下载的文件 |'
- en: '| `NO_CHECKS` | None |'
  id: totrans-317
  prefs: []
  type: TYPE_TB
  zh: '| `NO_CHECKS` | 无 |'
- en: Splits
  id: totrans-318
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 拆分
- en: '### `class datasets.SplitGenerator`'
  id: totrans-319
  prefs: []
  type: TYPE_NORMAL
  zh: '### `class datasets.SplitGenerator`'
- en: '[< source >](https://github.com/huggingface/datasets/blob/2.17.0/src/datasets/splits.py#L604)'
  id: totrans-320
  prefs: []
  type: TYPE_NORMAL
  zh: '[<来源>](https://github.com/huggingface/datasets/blob/2.17.0/src/datasets/splits.py#L604)'
- en: '[PRE45]'
  id: totrans-321
  prefs: []
  type: TYPE_PRE
  zh: '[PRE45]'
- en: Parameters
  id: totrans-322
  prefs: []
  type: TYPE_NORMAL
  zh: 参数
- en: '`name` (`str`) — Name of the `Split` for which the generator will create the
    examples.'
  id: totrans-323
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`name`（`str`）—生成器将为其创建示例的`Split`的名称。'
- en: '*`*gen_kwargs` (additional keyword arguments) — Keyword arguments to forward
    to the `DatasetBuilder._generate_examples` method of the builder.'
  id: totrans-324
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '*`*gen_kwargs`（额外的关键字参数）—要转发到构建器的`DatasetBuilder._generate_examples`方法的关键字参数。'
- en: Defines the split information for the generator.
  id: totrans-325
  prefs: []
  type: TYPE_NORMAL
  zh: 为生成器定义拆分信息。
- en: This should be used as returned value of `GeneratorBasedBuilder._split_generators`.
    See `GeneratorBasedBuilder._split_generators` for more info and example of usage.
  id: totrans-326
  prefs: []
  type: TYPE_NORMAL
  zh: 应将此用作`GeneratorBasedBuilder._split_generators`的返回值。有关更多信息和用法示例，请参阅`GeneratorBasedBuilder._split_generators`。
- en: 'Example:'
  id: totrans-327
  prefs: []
  type: TYPE_NORMAL
  zh: 示例：
- en: '[PRE46]'
  id: totrans-328
  prefs: []
  type: TYPE_PRE
  zh: '[PRE46]'
- en: '### `class datasets.Split`'
  id: totrans-329
  prefs: []
  type: TYPE_NORMAL
  zh: '### `class datasets.Split`'
- en: '[< source >](https://github.com/huggingface/datasets/blob/2.17.0/src/datasets/splits.py#L407)'
  id: totrans-330
  prefs: []
  type: TYPE_NORMAL
  zh: '[<来源>](https://github.com/huggingface/datasets/blob/2.17.0/src/datasets/splits.py#L407)'
- en: '[PRE47]'
  id: totrans-331
  prefs: []
  type: TYPE_PRE
  zh: '[PRE47]'
- en: '`Enum` for dataset splits.'
  id: totrans-332
  prefs: []
  type: TYPE_NORMAL
  zh: 数据集拆分的`Enum`。
- en: Datasets are typically split into different subsets to be used at various stages
    of training and evaluation.
  id: totrans-333
  prefs: []
  type: TYPE_NORMAL
  zh: 数据集通常被拆分为不同的子集，以在训练和评估的各个阶段使用。
- en: '`TRAIN`: the training data.'
  id: totrans-334
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`TRAIN`：训练数据。'
- en: '`VALIDATION`: the validation data. If present, this is typically used as evaluation
    data while iterating on a model (e.g. changing hyperparameters, model architecture,
    etc.).'
  id: totrans-335
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`VALIDATION`：验证数据。如果存在，通常在迭代模型时用作评估数据（例如更改超参数，模型架构等）。'
- en: '`TEST`: the testing data. This is the data to report metrics on. Typically
    you do not want to use this during model iteration as you may overfit to it.'
  id: totrans-336
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`TEST`：测试数据。这是要报告指标的数据。通常在模型迭代过程中不希望使用此数据，因为可能会过拟合。'
- en: '`ALL`: the union of all defined dataset splits.'
  id: totrans-337
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`ALL`：所有定义的数据集拆分的并集。'
- en: All splits, including compositions inherit from `datasets.SplitBase`.
  id: totrans-338
  prefs: []
  type: TYPE_NORMAL
  zh: 所有拆分，包括组合，都继承自`datasets.SplitBase`。
- en: See the [guide](../load_hub#splits) on splits for more information.
  id: totrans-339
  prefs: []
  type: TYPE_NORMAL
  zh: 有关更多信息，请参阅[指南](../load_hub#splits)。
- en: 'Example:'
  id: totrans-340
  prefs: []
  type: TYPE_NORMAL
  zh: 示例：
- en: '[PRE48]'
  id: totrans-341
  prefs: []
  type: TYPE_PRE
  zh: '[PRE48]'
- en: '### `class datasets.NamedSplit`'
  id: totrans-342
  prefs: []
  type: TYPE_NORMAL
  zh: '### `class datasets.NamedSplit`'
- en: '[< source >](https://github.com/huggingface/datasets/blob/2.17.0/src/datasets/splits.py#L315)'
  id: totrans-343
  prefs: []
  type: TYPE_NORMAL
  zh: '[<来源>](https://github.com/huggingface/datasets/blob/2.17.0/src/datasets/splits.py#L315)'
- en: '[PRE49]'
  id: totrans-344
  prefs: []
  type: TYPE_PRE
  zh: '[PRE49]'
- en: Descriptor corresponding to a named split (train, test, …).
  id: totrans-345
  prefs: []
  type: TYPE_NORMAL
  zh: 与命名拆分（训练，测试等）对应的描述符。
- en: 'Example:'
  id: totrans-346
  prefs: []
  type: TYPE_NORMAL
  zh: 示例：
- en: 'Each descriptor can be composed with other using addition or slice:'
  id: totrans-347
  prefs: []
  type: TYPE_NORMAL
  zh: 每个描述符都可以使用加法或切片与其他描述符组合：
- en: '[PRE50]'
  id: totrans-348
  prefs: []
  type: TYPE_PRE
  zh: '[PRE50]'
- en: The resulting split will correspond to 25% of the train split merged with 100%
    of the test split.
  id: totrans-349
  prefs: []
  type: TYPE_NORMAL
  zh: 生成的拆分将对应于训练拆分的25%与测试拆分的100%合并。
- en: 'A split cannot be added twice, so the following will fail:'
  id: totrans-350
  prefs: []
  type: TYPE_NORMAL
  zh: 拆分不能添加两次，因此以下将失败：
- en: '[PRE51]'
  id: totrans-351
  prefs: []
  type: TYPE_PRE
  zh: '[PRE51]'
- en: 'The slices can be applied only one time. So the following are valid:'
  id: totrans-352
  prefs: []
  type: TYPE_NORMAL
  zh: 切片只能应用一次。因此以下是有效的：
- en: '[PRE52]'
  id: totrans-353
  prefs: []
  type: TYPE_PRE
  zh: '[PRE52]'
- en: 'But this is not valid:'
  id: totrans-354
  prefs: []
  type: TYPE_NORMAL
  zh: 但这是无效的：
- en: '[PRE53]'
  id: totrans-355
  prefs: []
  type: TYPE_PRE
  zh: '[PRE53]'
- en: '### `class datasets.NamedSplitAll`'
  id: totrans-356
  prefs: []
  type: TYPE_NORMAL
  zh: '### `class datasets.NamedSplitAll`'
- en: '[< source >](https://github.com/huggingface/datasets/blob/2.17.0/src/datasets/splits.py#L392)'
  id: totrans-357
  prefs: []
  type: TYPE_NORMAL
  zh: '[<来源>](https://github.com/huggingface/datasets/blob/2.17.0/src/datasets/splits.py#L392)'
- en: '[PRE54]'
  id: totrans-358
  prefs: []
  type: TYPE_PRE
  zh: '[PRE54]'
- en: Split corresponding to the union of all defined dataset splits.
  id: totrans-359
  prefs: []
  type: TYPE_NORMAL
  zh: 将所有定义的数据集拆分的并集拆分。
- en: '### `class datasets.ReadInstruction`'
  id: totrans-360
  prefs: []
  type: TYPE_NORMAL
  zh: '### `class datasets.ReadInstruction`'
- en: '[< source >](https://github.com/huggingface/datasets/blob/2.17.0/src/datasets/arrow_reader.py#L495)'
  id: totrans-361
  prefs: []
  type: TYPE_NORMAL
  zh: '[<来源>](https://github.com/huggingface/datasets/blob/2.17.0/src/datasets/arrow_reader.py#L495)'
- en: '[PRE55]'
  id: totrans-362
  prefs: []
  type: TYPE_PRE
  zh: '[PRE55]'
- en: Reading instruction for a dataset.
  id: totrans-363
  prefs: []
  type: TYPE_NORMAL
  zh: 数据集的读取指令。
- en: 'Examples:'
  id: totrans-364
  prefs: []
  type: TYPE_NORMAL
  zh: 示例：
- en: '[PRE56]'
  id: totrans-365
  prefs: []
  type: TYPE_PRE
  zh: '[PRE56]'
- en: '#### `from_spec`'
  id: totrans-366
  prefs: []
  type: TYPE_NORMAL
  zh: '#### `from_spec`'
- en: '[< source >](https://github.com/huggingface/datasets/blob/2.17.0/src/datasets/arrow_reader.py#L575)'
  id: totrans-367
  prefs: []
  type: TYPE_NORMAL
  zh: '[<来源>](https://github.com/huggingface/datasets/blob/2.17.0/src/datasets/arrow_reader.py#L575)'
- en: '[PRE57]'
  id: totrans-368
  prefs: []
  type: TYPE_PRE
  zh: '[PRE57]'
- en: Parameters
  id: totrans-369
  prefs: []
  type: TYPE_NORMAL
  zh: 参数
- en: '`spec` (`str`) — Split(s) + optional slice(s) to read + optional rounding if
    percents are used as the slicing unit. A slice can be specified, using absolute
    numbers (`int`) or percentages (`int`).'
  id: totrans-370
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`spec`（`str`）— 拆分 + 可选切片 + 如果百分比用作切片单位，则可选四舍五入。可以指定一个切片，使用绝对数字（`int`）或百分比（`int`）。'
- en: Creates a `ReadInstruction` instance out of a string spec.
  id: totrans-371
  prefs: []
  type: TYPE_NORMAL
  zh: 从字符串规范创建一个`ReadInstruction`实例。
- en: 'Examples:'
  id: totrans-372
  prefs: []
  type: TYPE_NORMAL
  zh: 示例：
- en: '[PRE58]'
  id: totrans-373
  prefs: []
  type: TYPE_PRE
  zh: '[PRE58]'
- en: '#### `to_absolute`'
  id: totrans-374
  prefs: []
  type: TYPE_NORMAL
  zh: '#### `to_absolute`'
- en: '[< source >](https://github.com/huggingface/datasets/blob/2.17.0/src/datasets/arrow_reader.py#L647)'
  id: totrans-375
  prefs: []
  type: TYPE_NORMAL
  zh: '[<来源>](https://github.com/huggingface/datasets/blob/2.17.0/src/datasets/arrow_reader.py#L647)'
- en: '[PRE59]'
  id: totrans-376
  prefs: []
  type: TYPE_PRE
  zh: '[PRE59]'
- en: Parameters
  id: totrans-377
  prefs: []
  type: TYPE_NORMAL
  zh: 参数
- en: '`name2len` (`dict`) — Associating split names to number of examples.'
  id: totrans-378
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`name2len`（`dict`）— 将拆分名称与示例数量关联起来。'
- en: Translate instruction into a list of absolute instructions.
  id: totrans-379
  prefs: []
  type: TYPE_NORMAL
  zh: 将指令翻译成绝对指令列表。
- en: Those absolute instructions are then to be added together.
  id: totrans-380
  prefs: []
  type: TYPE_NORMAL
  zh: 然后将这些绝对指令相加。
- en: Version
  id: totrans-381
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 版本
- en: '### `class datasets.Version`'
  id: totrans-382
  prefs: []
  type: TYPE_NORMAL
  zh: '### `class datasets.Version`'
- en: '[< source >](https://github.com/huggingface/datasets/blob/2.17.0/src/datasets/utils/version.py#L28)'
  id: totrans-383
  prefs: []
  type: TYPE_NORMAL
  zh: '[<来源>](https://github.com/huggingface/datasets/blob/2.17.0/src/datasets/utils/version.py#L28)'
- en: '[PRE60]'
  id: totrans-384
  prefs: []
  type: TYPE_PRE
  zh: '[PRE60]'
- en: Parameters
  id: totrans-385
  prefs: []
  type: TYPE_NORMAL
  zh: 参数
- en: '`version_str` (`str`) — The dataset version.'
  id: totrans-386
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`version_str`（`str`）— 数据集版本。'
- en: '`description` (`str`) — A description of what is new in this version.'
  id: totrans-387
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`description`（`str`）— 这个版本中的新内容描述。'
- en: '`major` (`str`) —'
  id: totrans-388
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`major`（`str`）—'
- en: '`minor` (`str`) —'
  id: totrans-389
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`minor`（`str`）—'
- en: '`patch` (`str`) —'
  id: totrans-390
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`patch`（`str`）—'
- en: Dataset version `MAJOR.MINOR.PATCH`.
  id: totrans-391
  prefs: []
  type: TYPE_NORMAL
  zh: 数据集版本 `MAJOR.MINOR.PATCH`。
- en: 'Example:'
  id: totrans-392
  prefs: []
  type: TYPE_NORMAL
  zh: 示例：
- en: '[PRE61]'
  id: totrans-393
  prefs: []
  type: TYPE_PRE
  zh: '[PRE61]'
