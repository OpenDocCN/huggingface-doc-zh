- en: Audio classification
  id: totrans-0
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: éŸ³é¢‘åˆ†ç±»
- en: 'Original text: [https://huggingface.co/docs/transformers/v4.37.2/en/tasks/audio_classification](https://huggingface.co/docs/transformers/v4.37.2/en/tasks/audio_classification)'
  id: totrans-1
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
  zh: åŸå§‹æ–‡æœ¬ï¼š[https://huggingface.co/docs/transformers/v4.37.2/en/tasks/audio_classification](https://huggingface.co/docs/transformers/v4.37.2/en/tasks/audio_classification)
- en: null
  id: totrans-2
  prefs: []
  type: TYPE_NORMAL
- en: '[https://www.youtube-nocookie.com/embed/KWwzcmG98Ds](https://www.youtube-nocookie.com/embed/KWwzcmG98Ds)'
  id: totrans-3
  prefs: []
  type: TYPE_NORMAL
  zh: '[https://www.youtube-nocookie.com/embed/KWwzcmG98Ds](https://www.youtube-nocookie.com/embed/KWwzcmG98Ds)'
- en: Audio classification - just like with text - assigns a class label output from
    the input data. The only difference is instead of text inputs, you have raw audio
    waveforms. Some practical applications of audio classification include identifying
    speaker intent, language classification, and even animal species by their sounds.
  id: totrans-4
  prefs: []
  type: TYPE_NORMAL
  zh: éŸ³é¢‘åˆ†ç±» - å°±åƒæ–‡æœ¬ä¸€æ · - ä»è¾“å…¥æ•°æ®ä¸­åˆ†é…ä¸€ä¸ªç±»æ ‡ç­¾è¾“å‡ºã€‚å”¯ä¸€çš„åŒºåˆ«æ˜¯ï¼Œæ‚¨æœ‰åŸå§‹éŸ³é¢‘æ³¢å½¢è€Œä¸æ˜¯æ–‡æœ¬è¾“å…¥ã€‚éŸ³é¢‘åˆ†ç±»çš„ä¸€äº›å®é™…åº”ç”¨åŒ…æ‹¬è¯†åˆ«è¯´è¯è€…æ„å›¾ã€è¯­è¨€åˆ†ç±»ï¼Œç”šè‡³é€šè¿‡å£°éŸ³è¯†åˆ«åŠ¨ç‰©ç‰©ç§ã€‚
- en: 'This guide will show you how to:'
  id: totrans-5
  prefs: []
  type: TYPE_NORMAL
  zh: æœ¬æŒ‡å—å°†å‘æ‚¨å±•ç¤ºå¦‚ä½•ï¼š
- en: Finetune [Wav2Vec2](https://huggingface.co/facebook/wav2vec2-base) on the [MInDS-14](https://huggingface.co/datasets/PolyAI/minds14)
    dataset to classify speaker intent.
  id: totrans-6
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: åœ¨[MInDS-14](https://huggingface.co/datasets/PolyAI/minds14)æ•°æ®é›†ä¸Šå¯¹[Wav2Vec2](https://huggingface.co/facebook/wav2vec2-base)è¿›è¡Œå¾®è°ƒï¼Œä»¥åˆ†ç±»è¯´è¯è€…æ„å›¾ã€‚
- en: Use your finetuned model for inference.
  id: totrans-7
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: ä½¿ç”¨æ‚¨å¾®è°ƒçš„æ¨¡å‹è¿›è¡Œæ¨æ–­ã€‚
- en: 'The task illustrated in this tutorial is supported by the following model architectures:'
  id: totrans-8
  prefs: []
  type: TYPE_NORMAL
  zh: æœ¬æ•™ç¨‹ä¸­æ‰€ç¤ºçš„ä»»åŠ¡ç”±ä»¥ä¸‹æ¨¡å‹æ¶æ„æ”¯æŒï¼š
- en: '[Audio Spectrogram Transformer](../model_doc/audio-spectrogram-transformer),
    [Data2VecAudio](../model_doc/data2vec-audio), [Hubert](../model_doc/hubert), [SEW](../model_doc/sew),
    [SEW-D](../model_doc/sew-d), [UniSpeech](../model_doc/unispeech), [UniSpeechSat](../model_doc/unispeech-sat),
    [Wav2Vec2](../model_doc/wav2vec2), [Wav2Vec2-BERT](../model_doc/wav2vec2-bert),
    [Wav2Vec2-Conformer](../model_doc/wav2vec2-conformer), [WavLM](../model_doc/wavlm),
    [Whisper](../model_doc/whisper)'
  id: totrans-9
  prefs: []
  type: TYPE_NORMAL
  zh: '[éŸ³é¢‘é¢‘è°±å˜æ¢å™¨](../model_doc/audio-spectrogram-transformer)ã€[Data2VecAudio](../model_doc/data2vec-audio)ã€[Hubert](../model_doc/hubert)ã€[SEW](../model_doc/sew)ã€[SEW-D](../model_doc/sew-d)ã€[UniSpeech](../model_doc/unispeech)ã€[UniSpeechSat](../model_doc/unispeech-sat)ã€[Wav2Vec2](../model_doc/wav2vec2)ã€[Wav2Vec2-BERT](../model_doc/wav2vec2-bert)ã€[Wav2Vec2-Conformer](../model_doc/wav2vec2-conformer)ã€[WavLM](../model_doc/wavlm)ã€[Whisper](../model_doc/whisper)'
- en: 'Before you begin, make sure you have all the necessary libraries installed:'
  id: totrans-10
  prefs: []
  type: TYPE_NORMAL
  zh: åœ¨å¼€å§‹ä¹‹å‰ï¼Œè¯·ç¡®ä¿å·²å®‰è£…æ‰€æœ‰å¿…è¦çš„åº“ï¼š
- en: '[PRE0]'
  id: totrans-11
  prefs: []
  type: TYPE_PRE
  zh: '[PRE0]'
- en: 'We encourage you to login to your Hugging Face account so you can upload and
    share your model with the community. When prompted, enter your token to login:'
  id: totrans-12
  prefs: []
  type: TYPE_NORMAL
  zh: æˆ‘ä»¬é¼“åŠ±æ‚¨ç™»å½•æ‚¨çš„Hugging Faceå¸æˆ·ï¼Œè¿™æ ·æ‚¨å°±å¯ä»¥ä¸Šä¼ å’Œåˆ†äº«æ‚¨çš„æ¨¡å‹ç»™ç¤¾åŒºã€‚åœ¨æç¤ºæ—¶ï¼Œè¾“å…¥æ‚¨çš„ä»¤ç‰Œä»¥ç™»å½•ï¼š
- en: '[PRE1]'
  id: totrans-13
  prefs: []
  type: TYPE_PRE
  zh: '[PRE1]'
- en: Load MInDS-14 dataset
  id: totrans-14
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: åŠ è½½MInDS-14æ•°æ®é›†
- en: 'Start by loading the MInDS-14 dataset from the ğŸ¤— Datasets library:'
  id: totrans-15
  prefs: []
  type: TYPE_NORMAL
  zh: é¦–å…ˆä»ğŸ¤—æ•°æ®é›†åº“ä¸­åŠ è½½MInDS-14æ•°æ®é›†ï¼š
- en: '[PRE2]'
  id: totrans-16
  prefs: []
  type: TYPE_PRE
  zh: '[PRE2]'
- en: Split the datasetâ€™s `train` split into a smaller train and test set with the
    [train_test_split](https://huggingface.co/docs/datasets/v2.16.1/en/package_reference/main_classes#datasets.Dataset.train_test_split)
    method. Thisâ€™ll give you a chance to experiment and make sure everything works
    before spending more time on the full dataset.
  id: totrans-17
  prefs: []
  type: TYPE_NORMAL
  zh: ä½¿ç”¨[train_test_split](https://huggingface.co/docs/datasets/v2.16.1/en/package_reference/main_classes#datasets.Dataset.train_test_split)æ–¹æ³•å°†æ•°æ®é›†çš„`train`æ‹†åˆ†ä¸ºè¾ƒå°çš„è®­ç»ƒé›†å’Œæµ‹è¯•é›†ã€‚è¿™å°†è®©æ‚¨æœ‰æœºä¼šè¿›è¡Œå®éªŒï¼Œå¹¶ç¡®ä¿ä¸€åˆ‡æ­£å¸¸ï¼Œç„¶åå†èŠ±æ›´å¤šæ—¶é—´å¤„ç†å®Œæ•´æ•°æ®é›†ã€‚
- en: '[PRE3]'
  id: totrans-18
  prefs: []
  type: TYPE_PRE
  zh: '[PRE3]'
- en: 'Then take a look at the dataset:'
  id: totrans-19
  prefs: []
  type: TYPE_NORMAL
  zh: ç„¶åæŸ¥çœ‹æ•°æ®é›†ï¼š
- en: '[PRE4]'
  id: totrans-20
  prefs: []
  type: TYPE_PRE
  zh: '[PRE4]'
- en: 'While the dataset contains a lot of useful information, like `lang_id` and
    `english_transcription`, youâ€™ll focus on the `audio` and `intent_class` in this
    guide. Remove the other columns with the [remove_columns](https://huggingface.co/docs/datasets/v2.16.1/en/package_reference/main_classes#datasets.Dataset.remove_columns)
    method:'
  id: totrans-21
  prefs: []
  type: TYPE_NORMAL
  zh: è™½ç„¶æ•°æ®é›†åŒ…å«è®¸å¤šæœ‰ç”¨ä¿¡æ¯ï¼Œæ¯”å¦‚`lang_id`å’Œ`english_transcription`ï¼Œä½†åœ¨æœ¬æŒ‡å—ä¸­ï¼Œæ‚¨å°†ä¸“æ³¨äº`audio`å’Œ`intent_class`ã€‚ä½¿ç”¨[remove_columns](https://huggingface.co/docs/datasets/v2.16.1/en/package_reference/main_classes#datasets.Dataset.remove_columns)æ–¹æ³•åˆ é™¤å…¶ä»–åˆ—ï¼š
- en: '[PRE5]'
  id: totrans-22
  prefs: []
  type: TYPE_PRE
  zh: '[PRE5]'
- en: 'Take a look at an example now:'
  id: totrans-23
  prefs: []
  type: TYPE_NORMAL
  zh: ç°åœ¨çœ‹ä¸€ä¸ªç¤ºä¾‹ï¼š
- en: '[PRE6]'
  id: totrans-24
  prefs: []
  type: TYPE_PRE
  zh: '[PRE6]'
- en: 'There are two fields:'
  id: totrans-25
  prefs: []
  type: TYPE_NORMAL
  zh: æœ‰ä¸¤ä¸ªé¢†åŸŸï¼š
- en: '`audio`: a 1-dimensional `array` of the speech signal that must be called to
    load and resample the audio file.'
  id: totrans-26
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`audio`ï¼šå¿…é¡»è°ƒç”¨çš„è¯­éŸ³ä¿¡å·çš„ä¸€ç»´`array`ï¼Œä»¥åŠ è½½å’Œé‡æ–°é‡‡æ ·éŸ³é¢‘æ–‡ä»¶ã€‚'
- en: '`intent_class`: represents the class id of the speakerâ€™s intent.'
  id: totrans-27
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`intent_class`ï¼šè¡¨ç¤ºè¯´è¯è€…æ„å›¾çš„ç±»åˆ«IDã€‚'
- en: 'To make it easier for the model to get the label name from the label id, create
    a dictionary that maps the label name to an integer and vice versa:'
  id: totrans-28
  prefs: []
  type: TYPE_NORMAL
  zh: ä¸ºäº†è®©æ¨¡å‹æ›´å®¹æ˜“ä»æ ‡ç­¾IDä¸­è·å–æ ‡ç­¾åç§°ï¼Œåˆ›å»ºä¸€ä¸ªå°†æ ‡ç­¾åç§°æ˜ å°„åˆ°æ•´æ•°ä»¥åŠåä¹‹çš„å­—å…¸ï¼š
- en: '[PRE7]'
  id: totrans-29
  prefs: []
  type: TYPE_PRE
  zh: '[PRE7]'
- en: 'Now you can convert the label id to a label name:'
  id: totrans-30
  prefs: []
  type: TYPE_NORMAL
  zh: ç°åœ¨æ‚¨å¯ä»¥å°†æ ‡ç­¾IDè½¬æ¢ä¸ºæ ‡ç­¾åç§°ï¼š
- en: '[PRE8]'
  id: totrans-31
  prefs: []
  type: TYPE_PRE
  zh: '[PRE8]'
- en: Preprocess
  id: totrans-32
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: é¢„å¤„ç†
- en: 'The next step is to load a Wav2Vec2 feature extractor to process the audio
    signal:'
  id: totrans-33
  prefs: []
  type: TYPE_NORMAL
  zh: ä¸‹ä¸€æ­¥æ˜¯åŠ è½½Wav2Vec2ç‰¹å¾æå–å™¨æ¥å¤„ç†éŸ³é¢‘ä¿¡å·ï¼š
- en: '[PRE9]'
  id: totrans-34
  prefs: []
  type: TYPE_PRE
  zh: '[PRE9]'
- en: 'The MInDS-14 dataset has a sampling rate of 8000khz (you can find this information
    in itâ€™s [dataset card](https://huggingface.co/datasets/PolyAI/minds14)), which
    means youâ€™ll need to resample the dataset to 16000kHz to use the pretrained Wav2Vec2
    model:'
  id: totrans-35
  prefs: []
  type: TYPE_NORMAL
  zh: MInDS-14æ•°æ®é›†çš„é‡‡æ ·ç‡ä¸º8000khzï¼ˆæ‚¨å¯ä»¥åœ¨å…¶[æ•°æ®é›†å¡ç‰‡](https://huggingface.co/datasets/PolyAI/minds14)ä¸­æ‰¾åˆ°æ­¤ä¿¡æ¯ï¼‰ï¼Œè¿™æ„å‘³ç€æ‚¨éœ€è¦å°†æ•°æ®é›†é‡æ–°é‡‡æ ·ä¸º16000kHzä»¥ä½¿ç”¨é¢„è®­ç»ƒçš„Wav2Vec2æ¨¡å‹ï¼š
- en: '[PRE10]'
  id: totrans-36
  prefs: []
  type: TYPE_PRE
  zh: '[PRE10]'
- en: 'Now create a preprocessing function that:'
  id: totrans-37
  prefs: []
  type: TYPE_NORMAL
  zh: ç°åœ¨åˆ›å»ºä¸€ä¸ªé¢„å¤„ç†å‡½æ•°ï¼Œè¯¥å‡½æ•°ï¼š
- en: Calls the `audio` column to load, and if necessary, resample the audio file.
  id: totrans-38
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: è°ƒç”¨`audio`åˆ—è¿›è¡ŒåŠ è½½ï¼Œå¹¶åœ¨å¿…è¦æ—¶é‡æ–°é‡‡æ ·éŸ³é¢‘æ–‡ä»¶ã€‚
- en: Checks if the sampling rate of the audio file matches the sampling rate of the
    audio data a model was pretrained with. You can find this information in the Wav2Vec2
    [model card](https://huggingface.co/facebook/wav2vec2-base).
  id: totrans-39
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: æ£€æŸ¥éŸ³é¢‘æ–‡ä»¶çš„é‡‡æ ·ç‡æ˜¯å¦ä¸æ¨¡å‹é¢„è®­ç»ƒæ—¶çš„éŸ³é¢‘æ•°æ®çš„é‡‡æ ·ç‡åŒ¹é…ã€‚æ‚¨å¯ä»¥åœ¨Wav2Vec2çš„[æ¨¡å‹å¡ç‰‡](https://huggingface.co/facebook/wav2vec2-base)ä¸­æ‰¾åˆ°æ­¤ä¿¡æ¯ã€‚
- en: Set a maximum input length to batch longer inputs without truncating them.
  id: totrans-40
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: è®¾ç½®æœ€å¤§è¾“å…¥é•¿åº¦ä»¥æ‰¹å¤„ç†æ›´é•¿çš„è¾“å…¥è€Œä¸æˆªæ–­å®ƒä»¬ã€‚
- en: '[PRE11]'
  id: totrans-41
  prefs: []
  type: TYPE_PRE
  zh: '[PRE11]'
- en: 'To apply the preprocessing function over the entire dataset, use ğŸ¤— Datasets
    [map](https://huggingface.co/docs/datasets/v2.16.1/en/package_reference/main_classes#datasets.Dataset.map)
    function. You can speed up `map` by setting `batched=True` to process multiple
    elements of the dataset at once. Remove the columns you donâ€™t need, and rename
    `intent_class` to `label` because thatâ€™s the name the model expects:'
  id: totrans-42
  prefs: []
  type: TYPE_NORMAL
  zh: è¦åœ¨æ•´ä¸ªæ•°æ®é›†ä¸Šåº”ç”¨é¢„å¤„ç†å‡½æ•°ï¼Œè¯·ä½¿ç”¨ğŸ¤— Datasets [map](https://huggingface.co/docs/datasets/v2.16.1/en/package_reference/main_classes#datasets.Dataset.map)å‡½æ•°ã€‚æ‚¨å¯ä»¥é€šè¿‡è®¾ç½®`batched=True`æ¥åŠ é€Ÿ`map`ï¼Œä»¥ä¸€æ¬¡å¤„ç†æ•°æ®é›†çš„å¤šä¸ªå…ƒç´ ã€‚åˆ é™¤æ‚¨ä¸éœ€è¦çš„åˆ—ï¼Œå¹¶å°†`intent_class`é‡å‘½åä¸º`label`ï¼Œå› ä¸ºè¿™æ˜¯æ¨¡å‹æœŸæœ›çš„åç§°ï¼š
- en: '[PRE12]'
  id: totrans-43
  prefs: []
  type: TYPE_PRE
  zh: '[PRE12]'
- en: Evaluate
  id: totrans-44
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: è¯„ä¼°
- en: 'Including a metric during training is often helpful for evaluating your modelâ€™s
    performance. You can quickly load a evaluation method with the ğŸ¤— [Evaluate](https://huggingface.co/docs/evaluate/index)
    library. For this task, load the [accuracy](https://huggingface.co/spaces/evaluate-metric/accuracy)
    metric (see the ğŸ¤— Evaluate [quick tour](https://huggingface.co/docs/evaluate/a_quick_tour)
    to learn more about how to load and compute a metric):'
  id: totrans-45
  prefs: []
  type: TYPE_NORMAL
  zh: åœ¨è®­ç»ƒè¿‡ç¨‹ä¸­åŒ…å«ä¸€ä¸ªåº¦é‡é€šå¸¸æœ‰åŠ©äºè¯„ä¼°æ¨¡å‹çš„æ€§èƒ½ã€‚æ‚¨å¯ä»¥é€šè¿‡ğŸ¤— [Evaluate](https://huggingface.co/docs/evaluate/index)åº“å¿«é€ŸåŠ è½½ä¸€ä¸ªè¯„ä¼°æ–¹æ³•ã€‚å¯¹äºè¿™ä¸ªä»»åŠ¡ï¼ŒåŠ è½½[accuracy](https://huggingface.co/spaces/evaluate-metric/accuracy)åº¦é‡ï¼ˆæŸ¥çœ‹ğŸ¤—
    Evaluate [quick tour](https://huggingface.co/docs/evaluate/a_quick_tour)ä»¥äº†è§£å¦‚ä½•åŠ è½½å’Œè®¡ç®—åº¦é‡ï¼‰ï¼š
- en: '[PRE13]'
  id: totrans-46
  prefs: []
  type: TYPE_PRE
  zh: '[PRE13]'
- en: 'Then create a function that passes your predictions and labels to `compute`
    to calculate the accuracy:'
  id: totrans-47
  prefs: []
  type: TYPE_NORMAL
  zh: ç„¶ååˆ›å»ºä¸€ä¸ªå‡½æ•°ï¼Œå°†æ‚¨çš„é¢„æµ‹å’Œæ ‡ç­¾ä¼ é€’ç»™`compute`ä»¥è®¡ç®—å‡†ç¡®æ€§ï¼š
- en: '[PRE14]'
  id: totrans-48
  prefs: []
  type: TYPE_PRE
  zh: '[PRE14]'
- en: Your `compute_metrics` function is ready to go now, and youâ€™ll return to it
    when you setup your training.
  id: totrans-49
  prefs: []
  type: TYPE_NORMAL
  zh: æ‚¨çš„`compute_metrics`å‡½æ•°ç°åœ¨å·²ç»å‡†å¤‡å°±ç»ªï¼Œå½“æ‚¨è®¾ç½®è®­ç»ƒæ—¶å°†è¿”å›åˆ°å®ƒã€‚
- en: Train
  id: totrans-50
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: è®­ç»ƒ
- en: PytorchHide Pytorch content
  id: totrans-51
  prefs: []
  type: TYPE_NORMAL
  zh: Pytorchéšè— Pytorchå†…å®¹
- en: If you arenâ€™t familiar with finetuning a model with the [Trainer](/docs/transformers/v4.37.2/en/main_classes/trainer#transformers.Trainer),
    take a look at the basic tutorial [here](../training#train-with-pytorch-trainer)!
  id: totrans-52
  prefs: []
  type: TYPE_NORMAL
  zh: å¦‚æœæ‚¨ä¸ç†Ÿæ‚‰ä½¿ç”¨[Trainer](/docs/transformers/v4.37.2/en/main_classes/trainer#transformers.Trainer)å¾®è°ƒæ¨¡å‹ï¼Œè¯·æŸ¥çœ‹è¿™é‡Œçš„åŸºæœ¬æ•™ç¨‹[../training#train-with-pytorch-trainer]ï¼
- en: 'Youâ€™re ready to start training your model now! Load Wav2Vec2 with [AutoModelForAudioClassification](/docs/transformers/v4.37.2/en/model_doc/auto#transformers.AutoModelForAudioClassification)
    along with the number of expected labels, and the label mappings:'
  id: totrans-53
  prefs: []
  type: TYPE_NORMAL
  zh: ç°åœ¨æ‚¨å·²ç»å‡†å¤‡å¥½å¼€å§‹è®­ç»ƒæ‚¨çš„æ¨¡å‹äº†ï¼ä½¿ç”¨[AutoModelForAudioClassification](/docs/transformers/v4.37.2/en/model_doc/auto#transformers.AutoModelForAudioClassification)åŠ è½½Wav2Vec2ï¼Œä»¥åŠé¢„æœŸæ ‡ç­¾çš„æ•°é‡å’Œæ ‡ç­¾æ˜ å°„ï¼š
- en: '[PRE15]'
  id: totrans-54
  prefs: []
  type: TYPE_PRE
  zh: '[PRE15]'
- en: 'At this point, only three steps remain:'
  id: totrans-55
  prefs: []
  type: TYPE_NORMAL
  zh: æ­¤æ—¶ï¼Œåªå‰©ä¸‹ä¸‰ä¸ªæ­¥éª¤ï¼š
- en: Define your training hyperparameters in [TrainingArguments](/docs/transformers/v4.37.2/en/main_classes/trainer#transformers.TrainingArguments).
    The only required parameter is `output_dir` which specifies where to save your
    model. Youâ€™ll push this model to the Hub by setting `push_to_hub=True` (you need
    to be signed in to Hugging Face to upload your model). At the end of each epoch,
    the [Trainer](/docs/transformers/v4.37.2/en/main_classes/trainer#transformers.Trainer)
    will evaluate the accuracy and save the training checkpoint.
  id: totrans-56
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: åœ¨[TrainingArguments](/docs/transformers/v4.37.2/en/main_classes/trainer#transformers.TrainingArguments)ä¸­å®šä¹‰æ‚¨çš„è®­ç»ƒè¶…å‚æ•°ã€‚å”¯ä¸€å¿…éœ€çš„å‚æ•°æ˜¯`output_dir`ï¼ŒæŒ‡å®šä¿å­˜æ¨¡å‹çš„ä½ç½®ã€‚é€šè¿‡è®¾ç½®`push_to_hub=True`å°†æ­¤æ¨¡å‹æ¨é€åˆ°Hubï¼ˆæ‚¨éœ€è¦ç™»å½•Hugging
    Faceæ‰èƒ½ä¸Šä¼ æ¨¡å‹ï¼‰ã€‚åœ¨æ¯ä¸ªæ—¶ä»£ç»“æŸæ—¶ï¼Œ[Trainer](/docs/transformers/v4.37.2/en/main_classes/trainer#transformers.Trainer)å°†è¯„ä¼°å‡†ç¡®æ€§å¹¶ä¿å­˜è®­ç»ƒæ£€æŸ¥ç‚¹ã€‚
- en: Pass the training arguments to [Trainer](/docs/transformers/v4.37.2/en/main_classes/trainer#transformers.Trainer)
    along with the model, dataset, tokenizer, data collator, and `compute_metrics`
    function.
  id: totrans-57
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: å°†è®­ç»ƒå‚æ•°ä¼ é€’ç»™[Trainer](/docs/transformers/v4.37.2/en/main_classes/trainer#transformers.Trainer)ï¼Œä»¥åŠæ¨¡å‹ã€æ•°æ®é›†ã€åˆ†è¯å™¨ã€æ•°æ®æ•´ç†å™¨å’Œ`compute_metrics`å‡½æ•°ã€‚
- en: Call [train()](/docs/transformers/v4.37.2/en/main_classes/trainer#transformers.Trainer.train)
    to finetune your model.
  id: totrans-58
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: è°ƒç”¨[train()](/docs/transformers/v4.37.2/en/main_classes/trainer#transformers.Trainer.train)æ¥å¾®è°ƒæ‚¨çš„æ¨¡å‹ã€‚
- en: '[PRE16]'
  id: totrans-59
  prefs: []
  type: TYPE_PRE
  zh: '[PRE16]'
- en: 'Once training is completed, share your model to the Hub with the [push_to_hub()](/docs/transformers/v4.37.2/en/main_classes/trainer#transformers.Trainer.push_to_hub)
    method so everyone can use your model:'
  id: totrans-60
  prefs: []
  type: TYPE_NORMAL
  zh: è®­ç»ƒå®Œæˆåï¼Œä½¿ç”¨[push_to_hub()](/docs/transformers/v4.37.2/en/main_classes/trainer#transformers.Trainer.push_to_hub)æ–¹æ³•å°†æ‚¨çš„æ¨¡å‹å…±äº«åˆ°Hubï¼Œè¿™æ ·æ¯ä¸ªäººéƒ½å¯ä»¥ä½¿ç”¨æ‚¨çš„æ¨¡å‹ï¼š
- en: '[PRE17]'
  id: totrans-61
  prefs: []
  type: TYPE_PRE
  zh: '[PRE17]'
- en: For a more in-depth example of how to finetune a model for audio classification,
    take a look at the corresponding [PyTorch notebook](https://colab.research.google.com/github/huggingface/notebooks/blob/main/examples/audio_classification.ipynb).
  id: totrans-62
  prefs: []
  type: TYPE_NORMAL
  zh: è¦äº†è§£å¦‚ä½•ä¸ºéŸ³é¢‘åˆ†ç±»å¾®è°ƒæ¨¡å‹çš„æ›´æ·±å…¥ç¤ºä¾‹ï¼Œè¯·æŸ¥çœ‹ç›¸åº”çš„[PyTorchç¬”è®°æœ¬](https://colab.research.google.com/github/huggingface/notebooks/blob/main/examples/audio_classification.ipynb)ã€‚
- en: Inference
  id: totrans-63
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: æ¨ç†
- en: Great, now that youâ€™ve finetuned a model, you can use it for inference!
  id: totrans-64
  prefs: []
  type: TYPE_NORMAL
  zh: ç°åœ¨ï¼Œæ‚¨å·²ç»å¾®è°ƒäº†ä¸€ä¸ªæ¨¡å‹ï¼Œå¯ä»¥ç”¨å®ƒè¿›è¡Œæ¨ç†äº†ï¼
- en: Load an audio file youâ€™d like to run inference on. Remember to resample the
    sampling rate of the audio file to match the sampling rate of the model if you
    need to!
  id: totrans-65
  prefs: []
  type: TYPE_NORMAL
  zh: åŠ è½½æ‚¨æƒ³è¦è¿›è¡Œæ¨ç†çš„éŸ³é¢‘æ–‡ä»¶ã€‚è®°å¾—é‡æ–°é‡‡æ ·éŸ³é¢‘æ–‡ä»¶çš„é‡‡æ ·ç‡ï¼Œä»¥åŒ¹é…æ¨¡å‹çš„é‡‡æ ·ç‡ï¼ˆå¦‚æœéœ€è¦ï¼‰ï¼
- en: '[PRE18]'
  id: totrans-66
  prefs: []
  type: TYPE_PRE
  zh: '[PRE18]'
- en: 'The simplest way to try out your finetuned model for inference is to use it
    in a [pipeline()](/docs/transformers/v4.37.2/en/main_classes/pipelines#transformers.pipeline).
    Instantiate a `pipeline` for audio classification with your model, and pass your
    audio file to it:'
  id: totrans-67
  prefs: []
  type: TYPE_NORMAL
  zh: å°è¯•ä½¿ç”¨ä¸€ä¸ª[pipeline()](/docs/transformers/v4.37.2/en/main_classes/pipelines#transformers.pipeline)æ¥è¿›è¡Œæ¨ç†çš„æœ€ç®€å•æ–¹æ³•æ˜¯åœ¨å…¶ä¸­ä½¿ç”¨å¾®è°ƒåçš„æ¨¡å‹ã€‚ä½¿ç”¨æ‚¨çš„æ¨¡å‹å®ä¾‹åŒ–ä¸€ä¸ªç”¨äºéŸ³é¢‘åˆ†ç±»çš„`pipeline`ï¼Œå¹¶å°†éŸ³é¢‘æ–‡ä»¶ä¼ é€’ç»™å®ƒï¼š
- en: '[PRE19]'
  id: totrans-68
  prefs: []
  type: TYPE_PRE
  zh: '[PRE19]'
- en: 'You can also manually replicate the results of the `pipeline` if youâ€™d like:'
  id: totrans-69
  prefs: []
  type: TYPE_NORMAL
  zh: å¦‚æœæ‚¨æ„¿æ„ï¼Œä¹Ÿå¯ä»¥æ‰‹åŠ¨å¤åˆ¶`pipeline`çš„ç»“æœï¼š
- en: PytorchHide Pytorch content
  id: totrans-70
  prefs: []
  type: TYPE_NORMAL
  zh: Pytorchéšè— Pytorchå†…å®¹
- en: 'Load a feature extractor to preprocess the audio file and return the `input`
    as PyTorch tensors:'
  id: totrans-71
  prefs: []
  type: TYPE_NORMAL
  zh: åŠ è½½ä¸€ä¸ªç‰¹å¾æå–å™¨æ¥é¢„å¤„ç†éŸ³é¢‘æ–‡ä»¶ï¼Œå¹¶å°†`input`è¿”å›ä¸ºPyTorchå¼ é‡ï¼š
- en: '[PRE20]'
  id: totrans-72
  prefs: []
  type: TYPE_PRE
  zh: '[PRE20]'
- en: 'Pass your inputs to the model and return the logits:'
  id: totrans-73
  prefs: []
  type: TYPE_NORMAL
  zh: å°†æ‚¨çš„è¾“å…¥ä¼ é€’ç»™æ¨¡å‹å¹¶è¿”å›logitsï¼š
- en: '[PRE21]'
  id: totrans-74
  prefs: []
  type: TYPE_PRE
  zh: '[PRE21]'
- en: 'Get the class with the highest probability, and use the modelâ€™s `id2label`
    mapping to convert it to a label:'
  id: totrans-75
  prefs: []
  type: TYPE_NORMAL
  zh: è·å–å…·æœ‰æœ€é«˜æ¦‚ç‡çš„ç±»ï¼Œå¹¶ä½¿ç”¨æ¨¡å‹çš„`id2label`æ˜ å°„å°†å…¶è½¬æ¢ä¸ºæ ‡ç­¾ï¼š
- en: '[PRE22]'
  id: totrans-76
  prefs: []
  type: TYPE_PRE
  zh: '[PRE22]'
