- en: Streamlit Spaces
  id: totrans-0
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: Streamlit Spaces
- en: 'Original text: [https://huggingface.co/docs/hub/spaces-sdks-streamlit](https://huggingface.co/docs/hub/spaces-sdks-streamlit)'
  id: totrans-1
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
  zh: åŸå§‹æ–‡æœ¬ï¼š[https://huggingface.co/docs/hub/spaces-sdks-streamlit](https://huggingface.co/docs/hub/spaces-sdks-streamlit)
- en: null
  id: totrans-2
  prefs: []
  type: TYPE_NORMAL
- en: '**Streamlit** gives users freedom to build a full-featured web app with Python
    in a *reactive* way. Your code is rerun each time the state of the app changes.
    Streamlit is also great for data visualization and supports several charting libraries
    such as Bokeh, Plotly, and Altair. Read this [blog post](https://huggingface.co/blog/streamlit-spaces)
    about building and hosting Streamlit apps in Spaces.'
  id: totrans-3
  prefs: []
  type: TYPE_NORMAL
  zh: Streamlitä¸ºç”¨æˆ·æä¾›äº†ä½¿ç”¨Pythonä»¥*ååº”å¼*æ–¹å¼æ„å»ºå®Œæ•´åŠŸèƒ½çš„Webåº”ç”¨ç¨‹åºçš„è‡ªç”±ã€‚æ¯æ¬¡åº”ç”¨ç¨‹åºçŠ¶æ€å‘ç”Ÿå˜åŒ–æ—¶ï¼Œéƒ½ä¼šé‡æ–°è¿è¡Œæ‚¨çš„ä»£ç ã€‚Streamlitè¿˜éå¸¸é€‚åˆæ•°æ®å¯è§†åŒ–ï¼Œå¹¶æ”¯æŒå¤šä¸ªå›¾è¡¨åº“ï¼Œå¦‚Bokehã€Plotlyå’ŒAltairã€‚é˜…è¯»è¿™ç¯‡å…³äºåœ¨Spacesä¸­æ„å»ºå’Œæ‰˜ç®¡Streamlitåº”ç”¨ç¨‹åºçš„[åšå®¢æ–‡ç« ](https://huggingface.co/blog/streamlit-spaces)ã€‚
- en: Selecting **Streamlit** as the SDK when [creating a new Space](https://huggingface.co/new-space)
    will initialize your Space with the latest version of Streamlit by setting the
    `sdk` property to `streamlit` in your `README.md` fileâ€™s YAML block. If youâ€™d
    like to change the Streamlit version, you can edit the `sdk_version` property.
  id: totrans-4
  prefs: []
  type: TYPE_NORMAL
  zh: åœ¨[åˆ›å»ºæ–°Space](https://huggingface.co/new-space)æ—¶é€‰æ‹©**Streamlit**ä½œä¸ºSDKï¼Œå°†é€šè¿‡åœ¨`README.md`æ–‡ä»¶çš„YAMLå—ä¸­å°†`sdk`å±æ€§è®¾ç½®ä¸º`streamlit`æ¥åˆå§‹åŒ–æ‚¨çš„Spaceçš„æœ€æ–°ç‰ˆæœ¬ã€‚å¦‚æœæ‚¨æƒ³æ›´æ”¹Streamlitç‰ˆæœ¬ï¼Œå¯ä»¥ç¼–è¾‘`sdk_version`å±æ€§ã€‚
- en: 'To use Streamlit in a Space, select **Streamlit** as the SDK when you create
    a Space through the [**New Space** form](https://huggingface.co/new-space). This
    will create a repository with a `README.md` that contains the following properties
    in the YAML configuration block:'
  id: totrans-5
  prefs: []
  type: TYPE_NORMAL
  zh: è¦åœ¨Spaceä¸­ä½¿ç”¨Streamlitï¼Œè¯·åœ¨é€šè¿‡[**New Space**è¡¨å•](https://huggingface.co/new-space)åˆ›å»ºSpaceæ—¶é€‰æ‹©**Streamlit**ä½œä¸ºSDKã€‚è¿™å°†åˆ›å»ºä¸€ä¸ªåŒ…å«ä»¥ä¸‹å±æ€§çš„YAMLé…ç½®å—çš„`README.md`çš„å­˜å‚¨åº“ï¼š
- en: '[PRE0]'
  id: totrans-6
  prefs: []
  type: TYPE_PRE
  zh: '[PRE0]'
- en: You can edit the `sdk_version`, but note that issues may occur when you use
    an unsupported Streamlit version. Not all Streamlit versions are supported, so
    please refer to the [reference section](./spaces-config-reference) to see which
    versions are available.
  id: totrans-7
  prefs: []
  type: TYPE_NORMAL
  zh: æ‚¨å¯ä»¥ç¼–è¾‘`sdk_version`ï¼Œä½†è¯·æ³¨æ„ï¼Œå½“æ‚¨ä½¿ç”¨ä¸å—æ”¯æŒçš„Streamlitç‰ˆæœ¬æ—¶å¯èƒ½ä¼šå‡ºç°é—®é¢˜ã€‚å¹¶éæ‰€æœ‰Streamlitç‰ˆæœ¬éƒ½å—æ”¯æŒï¼Œè¯·å‚è€ƒ[å‚è€ƒéƒ¨åˆ†](./spaces-config-reference)æŸ¥çœ‹å¯ç”¨ç‰ˆæœ¬ã€‚
- en: For in-depth information about Streamlit, refer to the [Streamlit documentation](https://docs.streamlit.io/).
  id: totrans-8
  prefs: []
  type: TYPE_NORMAL
  zh: æœ‰å…³Streamlitçš„è¯¦ç»†ä¿¡æ¯ï¼Œè¯·å‚é˜…[Streamlitæ–‡æ¡£](https://docs.streamlit.io/)ã€‚
- en: Only port 8501 is allowed for Streamlit Spaces (default port). As a result if
    you provide a `config.toml` file for your Space make sure the default port is
    not overriden.
  id: totrans-9
  prefs: []
  type: TYPE_NORMAL
  zh: åªå…è®¸ä½¿ç”¨ç«¯å£8501è¿›è¡ŒStreamlit Spacesï¼ˆé»˜è®¤ç«¯å£ï¼‰ã€‚å› æ­¤ï¼Œå¦‚æœä¸ºæ‚¨çš„Spaceæä¾›äº†`config.toml`æ–‡ä»¶ï¼Œè¯·ç¡®ä¿æœªè¦†ç›–é»˜è®¤ç«¯å£ã€‚
- en: 'Your First Streamlit Space: Hot Dog Classifier'
  id: totrans-10
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: æ‚¨çš„ç¬¬ä¸€ä¸ªStreamlit Spaceï¼šHot Dog Classifier
- en: In the following sections, youâ€™ll learn the basics of creating a Space, configuring
    it, and deploying your code to it. Weâ€™ll create a **Hot Dog Classifier** Space
    with Streamlit thatâ€™ll be used to demo the [julien-c/hotdog-not-hotdog](https://huggingface.co/julien-c/hotdog-not-hotdog)
    model, which can detect whether a given picture contains a hot dog ğŸŒ­
  id: totrans-11
  prefs: []
  type: TYPE_NORMAL
  zh: åœ¨æ¥ä¸‹æ¥çš„éƒ¨åˆ†ä¸­ï¼Œæ‚¨å°†å­¦ä¹ åˆ›å»ºSpaceã€é…ç½®Spaceå’Œå°†ä»£ç éƒ¨ç½²åˆ°Spaceçš„åŸºç¡€çŸ¥è¯†ã€‚æˆ‘ä»¬å°†åˆ›å»ºä¸€ä¸ªä½¿ç”¨Streamlitçš„**Hot Dog Classifier**
    Spaceï¼Œç”¨äºæ¼”ç¤º[julien-c/hotdog-not-hotdog](https://huggingface.co/julien-c/hotdog-not-hotdog)æ¨¡å‹ï¼Œè¯¥æ¨¡å‹å¯ä»¥æ£€æµ‹ç»™å®šå›¾ç‰‡æ˜¯å¦åŒ…å«çƒ­ç‹—ğŸŒ­
- en: You can find a completed version of this hosted at [NimaBoscarino/hotdog-streamlit](https://huggingface.co/spaces/NimaBoscarino/hotdog-streamlit).
  id: totrans-12
  prefs: []
  type: TYPE_NORMAL
  zh: æ‚¨å¯ä»¥åœ¨[NimaBoscarino/hotdog-streamlit](https://huggingface.co/spaces/NimaBoscarino/hotdog-streamlit)æ‰¾åˆ°æ­¤ä¸»æœºåŒ–ç‰ˆæœ¬ã€‚
- en: Create a new Streamlit Space
  id: totrans-13
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: åˆ›å»ºä¸€ä¸ªæ–°çš„Streamlit Space
- en: Weâ€™ll start by [creating a brand new Space](https://huggingface.co/new-space)
    and choosing **Streamlit** as our SDK. Hugging Face Spaces are Git repositories,
    meaning that you can work on your Space incrementally (and collaboratively) by
    pushing commits. Take a look at the [Getting Started with Repositories](./repositories-getting-started)
    guide to learn about how you can create and edit files before continuing.
  id: totrans-14
  prefs: []
  type: TYPE_NORMAL
  zh: æˆ‘ä»¬å°†ä»[åˆ›å»ºå…¨æ–°Space](https://huggingface.co/new-space)å¹¶é€‰æ‹©**Streamlit**ä½œä¸ºæˆ‘ä»¬çš„SDKå¼€å§‹ã€‚
    Hugging Face Spacesæ˜¯Gitå­˜å‚¨åº“ï¼Œè¿™æ„å‘³ç€æ‚¨å¯ä»¥é€šè¿‡æ¨é€æäº¤é€æ­¥ï¼ˆå’Œåä½œåœ°ï¼‰å¤„ç†Spaceã€‚åœ¨ç»§ç»­ä¹‹å‰ï¼Œè¯·æŸ¥çœ‹[å¼€å§‹ä½¿ç”¨å­˜å‚¨åº“](./repositories-getting-started)æŒ‡å—ï¼Œäº†è§£å¦‚ä½•åœ¨ç»§ç»­ä¹‹å‰åˆ›å»ºå’Œç¼–è¾‘æ–‡ä»¶ã€‚
- en: Add the dependencies
  id: totrans-15
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: æ·»åŠ ä¾èµ–é¡¹
- en: 'For the **Hot Dog Classifier** weâ€™ll be using a [ğŸ¤— Transformers pipeline](https://huggingface.co/docs/transformers/pipeline_tutorial)
    to use the model, so we need to start by installing a few dependencies. This can
    be done by creating a **requirements.txt** file in our repository, and adding
    the following dependencies to it:'
  id: totrans-16
  prefs: []
  type: TYPE_NORMAL
  zh: å¯¹äº**Hot Dog Classifier**ï¼Œæˆ‘ä»¬å°†ä½¿ç”¨[ğŸ¤— Transformers pipeline](https://huggingface.co/docs/transformers/pipeline_tutorial)æ¥ä½¿ç”¨æ¨¡å‹ï¼Œå› æ­¤æˆ‘ä»¬éœ€è¦é¦–å…ˆå®‰è£…ä¸€äº›ä¾èµ–é¡¹ã€‚è¿™å¯ä»¥é€šè¿‡åœ¨æˆ‘ä»¬çš„å­˜å‚¨åº“ä¸­åˆ›å»ºä¸€ä¸ª**requirements.txt**æ–‡ä»¶ï¼Œå¹¶å°†ä»¥ä¸‹ä¾èµ–é¡¹æ·»åŠ åˆ°å…¶ä¸­æ¥å®Œæˆï¼š
- en: '[PRE1]'
  id: totrans-17
  prefs: []
  type: TYPE_PRE
  zh: '[PRE1]'
- en: The Spaces runtime will handle installing the dependencies!
  id: totrans-18
  prefs: []
  type: TYPE_NORMAL
  zh: Spacesè¿è¡Œæ—¶å°†å¤„ç†å®‰è£…ä¾èµ–é¡¹ï¼
- en: Create the Streamlit app
  id: totrans-19
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: åˆ›å»ºStreamlitåº”ç”¨ç¨‹åº
- en: 'To create the Streamlit app, make a new file in the repository called **app.py**,
    and add the following code:'
  id: totrans-20
  prefs: []
  type: TYPE_NORMAL
  zh: è¦åˆ›å»ºStreamlitåº”ç”¨ç¨‹åºï¼Œè¯·åœ¨å­˜å‚¨åº“ä¸­åˆ›å»ºä¸€ä¸ªåä¸º**app.py**çš„æ–°æ–‡ä»¶ï¼Œå¹¶æ·»åŠ ä»¥ä¸‹ä»£ç ï¼š
- en: '[PRE2]'
  id: totrans-21
  prefs: []
  type: TYPE_PRE
  zh: '[PRE2]'
- en: This Python script uses a [ğŸ¤— Transformers pipeline](https://huggingface.co/docs/transformers/pipeline_tutorial)
    to load the [julien-c/hotdog-not-hotdog](https://huggingface.co/julien-c/hotdog-not-hotdog)
    model, which is used by the Streamlit interface. The Streamlit app will expect
    you to upload an image, which itâ€™ll then classify as *hot dog* or *not hot dog*.
    Once youâ€™ve saved the code to the **app.py** file, visit the **App** tab to see
    your app in action!
  id: totrans-22
  prefs: []
  type: TYPE_NORMAL
  zh: æ­¤Pythonè„šæœ¬ä½¿ç”¨[ğŸ¤— Transformers pipeline](https://huggingface.co/docs/transformers/pipeline_tutorial)åŠ è½½[julien-c/hotdog-not-hotdog](https://huggingface.co/julien-c/hotdog-not-hotdog)æ¨¡å‹ï¼Œè¯¥æ¨¡å‹ç”±Streamlitç•Œé¢ä½¿ç”¨ã€‚Streamlitåº”ç”¨ç¨‹åºå°†è¦æ±‚æ‚¨ä¸Šä¼ ä¸€å¼ å›¾ç‰‡ï¼Œç„¶åå°†å…¶åˆ†ç±»ä¸º*çƒ­ç‹—*æˆ–*éçƒ­ç‹—*ã€‚ä¿å­˜ä»£ç åˆ°**app.py**æ–‡ä»¶åï¼Œè®¿é—®**App**é€‰é¡¹å¡ä»¥æŸ¥çœ‹æ‚¨çš„åº”ç”¨ç¨‹åºè¿è¡Œæƒ…å†µï¼
- en: '![](../Images/c3481cc29034be8134667fb3042f09ab.png) ![](../Images/cacfe2f21d36f60d9537f92cb3bb0e64.png)'
  id: totrans-23
  prefs: []
  type: TYPE_IMG
  zh: '![](../Images/c3481cc29034be8134667fb3042f09ab.png) ![](../Images/cacfe2f21d36f60d9537f92cb3bb0e64.png)'
- en: Embed Streamlit Spaces on other webpages
  id: totrans-24
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: åœ¨å…¶ä»–ç½‘é¡µä¸ŠåµŒå…¥Streamlit Spaces
- en: You can use the HTML `<iframe>` tag to embed a Streamlit Space as an inline
    frame on other webpages. Simply include the URL of your Space, ending with the
    `.hf.space` suffix. To find the URL of your Space, you can use the â€œEmbed this
    Spaceâ€ button from the Spaces options.
  id: totrans-25
  prefs: []
  type: TYPE_NORMAL
  zh: æ‚¨å¯ä»¥ä½¿ç”¨ HTML `<iframe>` æ ‡ç­¾å°† Streamlit Space åµŒå…¥åˆ°å…¶ä»–ç½‘é¡µçš„å†…è”æ¡†æ¶ä¸­ã€‚åªéœ€åŒ…å«æ‚¨çš„ Space çš„ URLï¼Œä»¥
    `.hf.space` ç»“å°¾ã€‚è¦æ‰¾åˆ°æ‚¨çš„ Space çš„ URLï¼Œæ‚¨å¯ä»¥ä½¿ç”¨ Spaces é€‰é¡¹ä¸­çš„â€œåµŒå…¥æ­¤ Spaceâ€æŒ‰é’®ã€‚
- en: 'For example, the demo above can be embedded in these docs with the following
    tag:'
  id: totrans-26
  prefs: []
  type: TYPE_NORMAL
  zh: ä¾‹å¦‚ï¼Œä¸Šé¢çš„æ¼”ç¤ºå¯ä»¥ä½¿ç”¨ä»¥ä¸‹æ ‡ç­¾åµŒå…¥åˆ°è¿™äº›æ–‡æ¡£ä¸­ï¼š
- en: '[PRE3]'
  id: totrans-27
  prefs: []
  type: TYPE_PRE
  zh: '[PRE3]'
- en: '[https://NimaBoscarino-hotdog-streamlit.hf.space?embed=true](https://NimaBoscarino-hotdog-streamlit.hf.space?embed=true)'
  id: totrans-28
  prefs: []
  type: TYPE_NORMAL
  zh: '[https://NimaBoscarino-hotdog-streamlit.hf.space?embed=true](https://NimaBoscarino-hotdog-streamlit.hf.space?embed=true)'
- en: Please note that we have added `?embed=true` to the URL, which activates the
    embed mode of the Streamlit app, removing some spacers and the footer for slim
    embeds.
  id: totrans-29
  prefs: []
  type: TYPE_NORMAL
  zh: è¯·æ³¨æ„ï¼Œæˆ‘ä»¬å·²å°† `?embed=true` æ·»åŠ åˆ° URL ä¸­ï¼Œè¿™å°†æ¿€æ´» Streamlit åº”ç”¨ç¨‹åºçš„åµŒå…¥æ¨¡å¼ï¼Œåˆ é™¤ä¸€äº›é—´éš”å’Œé¡µè„šä»¥å®ç°ç²¾ç®€åµŒå…¥ã€‚
- en: Embed Streamlit Spaces with auto-resizing IFrames
  id: totrans-30
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: ä½¿ç”¨è‡ªåŠ¨è°ƒæ•´å¤§å°çš„ IFrames åµŒå…¥ Streamlit Spaces
- en: Streamlit has supported automatic iframe resizing since [1.17.0](https://docs.streamlit.io/library/changelog#version-1170)
    so that the size of the parent iframe is automatically adjusted to fit the content
    volume of the embedded Streamlit application.
  id: totrans-31
  prefs: []
  type: TYPE_NORMAL
  zh: è‡ªä» [1.17.0](https://docs.streamlit.io/library/changelog#version-1170) ç‰ˆæœ¬ä»¥æ¥ï¼ŒStreamlit
    æ”¯æŒè‡ªåŠ¨è°ƒæ•´ iframe å¤§å°ï¼Œä»¥ä¾¿è‡ªåŠ¨è°ƒæ•´çˆ¶ iframe çš„å¤§å°ä»¥é€‚åº”åµŒå…¥çš„ Streamlit åº”ç”¨ç¨‹åºçš„å†…å®¹é‡ã€‚
- en: It relies on the [`iFrame Resizer`](https://github.com/davidjbradshaw/iframe-resizer)
    library, for which you need to add a few lines of code, as in the following example
    where
  id: totrans-32
  prefs: []
  type: TYPE_NORMAL
  zh: å®ƒä¾èµ–äº [`iFrame Resizer`](https://github.com/davidjbradshaw/iframe-resizer) åº“ï¼Œæ‚¨éœ€è¦æ·»åŠ å‡ è¡Œä»£ç ï¼Œå°±åƒä»¥ä¸‹ç¤ºä¾‹ä¸­æ‰€ç¤º
- en: '`id` is set to `<iframe />` that is used to specify the auto-resize target.'
  id: totrans-33
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`id` è®¾ç½®ä¸º `<iframe />`ï¼Œç”¨äºæŒ‡å®šè‡ªåŠ¨è°ƒæ•´å¤§å°çš„ç›®æ ‡ã€‚'
- en: The `iFrame Resizer` is loaded via the `script` tag.
  id: totrans-34
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`iFrame Resizer` é€šè¿‡ `script` æ ‡ç­¾åŠ è½½ã€‚'
- en: The `iFrameResize()` function is called with the ID of the target `iframe` element,
    so that its size changes automatically.
  id: totrans-35
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: è°ƒç”¨ `iFrameResize()` å‡½æ•°æ—¶ï¼Œä½¿ç”¨ç›®æ ‡ `iframe` å…ƒç´ çš„ IDï¼Œä»¥ä¾¿å…¶å¤§å°è‡ªåŠ¨æ›´æ”¹ã€‚
- en: We can pass options to the first argument of `iFrameResize()`. See [the document](https://github.com/davidjbradshaw/iframe-resizer/blob/master/docs/parent_page/options.md)
    for the details.
  id: totrans-36
  prefs: []
  type: TYPE_NORMAL
  zh: æˆ‘ä»¬å¯ä»¥å°†é€‰é¡¹ä¼ é€’ç»™ `iFrameResize()` çš„ç¬¬ä¸€ä¸ªå‚æ•°ã€‚æœ‰å…³è¯¦ç»†ä¿¡æ¯ï¼Œè¯·å‚é˜…[æ–‡æ¡£](https://github.com/davidjbradshaw/iframe-resizer/blob/master/docs/parent_page/options.md)ã€‚
- en: '[PRE4]'
  id: totrans-37
  prefs: []
  type: TYPE_PRE
  zh: '[PRE4]'
- en: Additionally, you can checkout [our documentation](./spaces-embed).
  id: totrans-38
  prefs: []
  type: TYPE_NORMAL
  zh: æ­¤å¤–ï¼Œæ‚¨å¯ä»¥æŸ¥çœ‹[æˆ‘ä»¬çš„æ–‡æ¡£](./spaces-embed)ã€‚
