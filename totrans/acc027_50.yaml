- en: Utilities for Megatron-LM
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
- en: 'Original text: [https://huggingface.co/docs/accelerate/package_reference/megatron_lm](https://huggingface.co/docs/accelerate/package_reference/megatron_lm)'
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
- en: ' 
    
    
    
    
    
    
    
    
    
    
    ### `class accelerate.utils.MegatronLMPlugin`'
  prefs: []
  type: TYPE_NORMAL
- en: '[< source >](https://github.com/huggingface/accelerate/blob/v0.27.2/src/accelerate/utils/dataclasses.py#L1105)'
  prefs: []
  type: TYPE_NORMAL
- en: '[PRE0]'
  prefs: []
  type: TYPE_PRE
- en: Plugin for Megatron-LM to enable tensor, pipeline, sequence and data parallelism.
    Also to enable selective activation recomputation and optimized fused kernels.
  prefs: []
  type: TYPE_NORMAL
- en: '### `class accelerate.utils.MegatronLMDummyScheduler`'
  prefs: []
  type: TYPE_NORMAL
- en: '[< source >](https://github.com/huggingface/accelerate/blob/v0.27.2/src/accelerate/utils/megatron_lm.py#L414)'
  prefs: []
  type: TYPE_NORMAL
- en: '[PRE1]'
  prefs: []
  type: TYPE_PRE
- en: Parameters
  prefs: []
  type: TYPE_NORMAL
- en: '`optimizer` (`torch.optim.optimizer.Optimizer`) — The optimizer to wrap.'
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: '`total_num_steps` (int) — Total number of steps.'
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: '`warmup_num_steps` (int) — Number of steps for warmup. **kwargs — Other arguments.'
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: Dummy scheduler presents model parameters or param groups, this is primarily
    used to follow conventional training loop when scheduler config is specified in
    the deepspeed config file.
  prefs: []
  type: TYPE_NORMAL
- en: '### `class accelerate.utils.MegatronLMDummyDataLoader`'
  prefs: []
  type: TYPE_NORMAL
- en: '[< source >](https://github.com/huggingface/accelerate/blob/v0.27.2/src/accelerate/utils/megatron_lm.py#L144)'
  prefs: []
  type: TYPE_NORMAL
- en: '[PRE2]'
  prefs: []
  type: TYPE_PRE
- en: Dummy dataloader presents model parameters or param groups, this is primarily
    used to follow conventional training
  prefs: []
  type: TYPE_NORMAL
- en: '### `class accelerate.utils.AbstractTrainStep`'
  prefs: []
  type: TYPE_NORMAL
- en: '[< source >](https://github.com/huggingface/accelerate/blob/v0.27.2/src/accelerate/utils/megatron_lm.py#L451)'
  prefs: []
  type: TYPE_NORMAL
- en: '[PRE3]'
  prefs: []
  type: TYPE_PRE
- en: Abstract class for batching, forward pass and loss handler.
  prefs: []
  type: TYPE_NORMAL
- en: '### `class accelerate.utils.GPTTrainStep`'
  prefs: []
  type: TYPE_NORMAL
- en: '[< source >](https://github.com/huggingface/accelerate/blob/v0.27.2/src/accelerate/utils/megatron_lm.py#L597)'
  prefs: []
  type: TYPE_NORMAL
- en: '[PRE4]'
  prefs: []
  type: TYPE_PRE
- en: Parameters
  prefs: []
  type: TYPE_NORMAL
- en: '`args` (`argparse.Namespace`) — Megatron-LM arguments.'
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: GPT train step class.
  prefs: []
  type: TYPE_NORMAL
- en: '### `class accelerate.utils.BertTrainStep`'
  prefs: []
  type: TYPE_NORMAL
- en: '[< source >](https://github.com/huggingface/accelerate/blob/v0.27.2/src/accelerate/utils/megatron_lm.py#L468)'
  prefs: []
  type: TYPE_NORMAL
- en: '[PRE5]'
  prefs: []
  type: TYPE_PRE
- en: Parameters
  prefs: []
  type: TYPE_NORMAL
- en: '`args` (`argparse.Namespace`) — Megatron-LM arguments.'
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: Bert train step class.
  prefs: []
  type: TYPE_NORMAL
- en: '### `class accelerate.utils.T5TrainStep`'
  prefs: []
  type: TYPE_NORMAL
- en: '[< source >](https://github.com/huggingface/accelerate/blob/v0.27.2/src/accelerate/utils/megatron_lm.py#L703)'
  prefs: []
  type: TYPE_NORMAL
- en: '[PRE6]'
  prefs: []
  type: TYPE_PRE
- en: Parameters
  prefs: []
  type: TYPE_NORMAL
- en: '`args` (`argparse.Namespace`) — Megatron-LM arguments.'
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: T5 train step class.
  prefs: []
  type: TYPE_NORMAL
- en: '#### `accelerate.utils.avg_losses_across_data_parallel_group`'
  prefs: []
  type: TYPE_NORMAL
- en: '[< source >](https://github.com/huggingface/accelerate/blob/v0.27.2/src/accelerate/utils/megatron_lm.py#L1406)'
  prefs: []
  type: TYPE_NORMAL
- en: '[PRE7]'
  prefs: []
  type: TYPE_PRE
- en: Parameters
  prefs: []
  type: TYPE_NORMAL
- en: '`losses` (List[Tensor]) — List of losses to average across data parallel group.'
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: Average losses across data parallel group.
  prefs: []
  type: TYPE_NORMAL
