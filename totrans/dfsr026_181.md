# ä»·å€¼å¼•å¯¼è§„åˆ’

> åŸå§‹æ–‡æœ¬ï¼š[https://huggingface.co/docs/diffusers/api/pipelines/value_guided_sampling](https://huggingface.co/docs/diffusers/api/pipelines/value_guided_sampling)

ğŸ§ª è¿™æ˜¯ä¸€ä¸ªç”¨äºå¼ºåŒ–å­¦ä¹ çš„å®éªŒæ€§ç®¡é“ï¼

è¯¥ç®¡é“åŸºäºMichael Jannerã€Yilun Duã€Joshua B. Tenenbaumã€Sergey Levineçš„[Planning with Diffusion for Flexible Behavior Synthesis](https://huggingface.co/papers/2205.09991)è®ºæ–‡ã€‚

è¯¥è®ºæ–‡çš„æ‘˜è¦æ˜¯ï¼š

*åŸºäºæ¨¡å‹çš„å¼ºåŒ–å­¦ä¹ æ–¹æ³•é€šå¸¸ä»…ç”¨äºä¼°è®¡è¿‘ä¼¼åŠ¨æ€æ¨¡å‹çš„ç›®çš„ï¼Œå°†å†³ç­–å·¥ä½œçš„å…¶ä½™éƒ¨åˆ†è½¬ç§»åˆ°ç»å…¸è½¨è¿¹ä¼˜åŒ–å™¨ã€‚è™½ç„¶åœ¨æ¦‚å¿µä¸Šç®€å•ï¼Œä½†è¿™ç§ç»„åˆå­˜åœ¨è®¸å¤šç»éªŒä¸Šçš„ç¼ºé™·ï¼Œè¡¨æ˜å­¦ä¹ æ¨¡å‹å¯èƒ½ä¸é€‚åˆæ ‡å‡†è½¨è¿¹ä¼˜åŒ–ã€‚åœ¨æœ¬æ–‡ä¸­ï¼Œæˆ‘ä»¬è€ƒè™‘å°†å°½å¯èƒ½å¤šçš„è½¨è¿¹ä¼˜åŒ–ç®¡é“æŠ˜å åˆ°å»ºæ¨¡é—®é¢˜ä¸­ï¼Œä½¿å¾—ä»æ¨¡å‹ä¸­é‡‡æ ·å’Œè§„åˆ’å‡ ä¹ç›¸åŒã€‚æˆ‘ä»¬çš„æŠ€æœ¯æ–¹æ³•çš„æ ¸å¿ƒåœ¨äºé€šè¿‡è¿­ä»£å»å™ªè½¨è¿¹è¿›è¡Œè§„åˆ’çš„æ‰©æ•£æ¦‚ç‡æ¨¡å‹ã€‚æˆ‘ä»¬å±•ç¤ºäº†åˆ†ç±»å™¨å¼•å¯¼é‡‡æ ·å’Œå›¾åƒä¿®å¤å¦‚ä½•è¢«é‡æ–°è§£é‡Šä¸ºä¸€è‡´çš„è§„åˆ’ç­–ç•¥ï¼Œæ¢ç´¢äº†åŸºäºæ‰©æ•£çš„è§„åˆ’æ–¹æ³•çš„ä¸å¯»å¸¸å’Œæœ‰ç”¨çš„ç‰¹æ€§ï¼Œå¹¶å±•ç¤ºäº†æˆ‘ä»¬çš„æ¡†æ¶åœ¨å¼ºè°ƒé•¿æœŸå†³ç­–å’Œæµ‹è¯•æ—¶é—´çµæ´»æ€§çš„æ§åˆ¶è®¾ç½®ä¸­çš„æœ‰æ•ˆæ€§ã€‚*

æ‚¨å¯ä»¥åœ¨[é¡¹ç›®é¡µé¢](https://diffusion-planning.github.io/)ã€[åŸå§‹ä»£ç åº“](https://github.com/jannerm/diffuser)æˆ–åœ¨æ¼”ç¤º[ç¬”è®°æœ¬](https://colab.research.google.com/drive/1rXm8CX4ZdN5qivjJ2lhwhkOmt_m0CvU0#scrollTo=6HXJvhyqcITc&uniqifier=1)ä¸­æ‰¾åˆ°æœ‰å…³è¯¥æ¨¡å‹çš„å…¶ä»–ä¿¡æ¯ã€‚

è¿è¡Œæ¨¡å‹çš„è„šæœ¬åœ¨[æ­¤å¤„](https://github.com/huggingface/diffusers/tree/main/examples/reinforcement_learning)å¯ç”¨ã€‚

è¯·åŠ¡å¿…æŸ¥çœ‹è°ƒåº¦ç¨‹åº[æŒ‡å—](../../using-diffusers/schedulers)ä»¥äº†è§£å¦‚ä½•åœ¨è°ƒåº¦ç¨‹åºé€Ÿåº¦å’Œè´¨é‡ä¹‹é—´è¿›è¡Œæƒè¡¡ï¼Œå¹¶æŸ¥çœ‹[è·¨ç®¡é“é‡ç”¨ç»„ä»¶](../../using-diffusers/loading#reuse-components-across-pipelines)éƒ¨åˆ†ï¼Œä»¥äº†è§£å¦‚ä½•æœ‰æ•ˆåœ°å°†ç›¸åŒç»„ä»¶åŠ è½½åˆ°å¤šä¸ªç®¡é“ä¸­ã€‚

## ValueGuidedRLPipeline

### `class diffusers.experimental.ValueGuidedRLPipeline`

[<æ¥æº>](https://github.com/huggingface/diffusers/blob/v0.26.3/src/diffusers/experimental/rl/value_guided_sampling.py#L25)

```py
( value_function: UNet1DModel unet: UNet1DModel scheduler: DDPMScheduler env )
```

å‚æ•°

+   `value_function`ï¼ˆ[UNet1DModel](/docs/diffusers/v0.26.3/en/api/models/unet#diffusers.UNet1DModel)ï¼‰- ç”¨äºæ ¹æ®å¥–åŠ±å¾®è°ƒè½¨è¿¹çš„ä¸“é—¨UNetã€‚

+   `unet`ï¼ˆ[UNet1DModel](/docs/diffusers/v0.26.3/en/api/models/unet#diffusers.UNet1DModel)ï¼‰- ç”¨äºå»å™ªç¼–ç è½¨è¿¹çš„UNetæ¶æ„ã€‚

+   `scheduler`ï¼ˆ[SchedulerMixin](/docs/diffusers/v0.26.3/en/api/schedulers/overview#diffusers.SchedulerMixin)ï¼‰- ä¸`unet`ç»“åˆä½¿ç”¨ä»¥å»å™ªç¼–ç è½¨è¿¹çš„è°ƒåº¦ç¨‹åºã€‚æ­¤åº”ç”¨çš„é»˜è®¤å€¼ä¸º[DDPMScheduler](/docs/diffusers/v0.26.3/en/api/schedulers/ddpm#diffusers.DDPMScheduler)ã€‚

+   `env`ï¼ˆï¼‰- éµå¾ªOpenAI gym APIä»¥è¡ŒåŠ¨çš„ç¯å¢ƒã€‚ç›®å‰åªæœ‰Hopperæœ‰é¢„è®­ç»ƒæ¨¡å‹ã€‚

ä»è®­ç»ƒä»¥é¢„æµ‹çŠ¶æ€åºåˆ—çš„æ‰©æ•£æ¨¡å‹ä¸­è¿›è¡Œä»·å€¼å¼•å¯¼é‡‡æ ·çš„ç®¡é“ã€‚

è¯¥æ¨¡å‹ç»§æ‰¿è‡ª[DiffusionPipeline](/docs/diffusers/v0.26.3/en/api/pipelines/overview#diffusers.DiffusionPipeline)ã€‚æŸ¥çœ‹è¶…ç±»æ–‡æ¡£ä»¥äº†è§£ä¸ºæ‰€æœ‰ç®¡é“å®ç°çš„é€šç”¨æ–¹æ³•ï¼ˆä¸‹è½½ã€ä¿å­˜ã€åœ¨ç‰¹å®šè®¾å¤‡ä¸Šè¿è¡Œç­‰ï¼‰ã€‚
