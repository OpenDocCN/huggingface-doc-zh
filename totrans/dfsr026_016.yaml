- en: Load pipelines, models, and schedulers
  id: totrans-0
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: åŠ è½½ç®¡é“ã€æ¨¡å‹å’Œè°ƒåº¦ç¨‹åº
- en: 'Original text: [https://huggingface.co/docs/diffusers/using-diffusers/loading](https://huggingface.co/docs/diffusers/using-diffusers/loading)'
  id: totrans-1
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
  zh: åŸå§‹æ–‡æœ¬ï¼š[https://huggingface.co/docs/diffusers/using-diffusers/loading](https://huggingface.co/docs/diffusers/using-diffusers/loading)
- en: null
  id: totrans-2
  prefs: []
  type: TYPE_NORMAL
- en: Having an easy way to use a diffusion system for inference is essential to ğŸ§¨
    Diffusers. Diffusion systems often consist of multiple components like parameterized
    models, tokenizers, and schedulers that interact in complex ways. That is why
    we designed the [DiffusionPipeline](/docs/diffusers/v0.26.3/en/api/pipelines/overview#diffusers.DiffusionPipeline)
    to wrap the complexity of the entire diffusion system into an easy-to-use API,
    while remaining flexible enough to be adapted for other use cases, such as loading
    each component individually as building blocks to assemble your own diffusion
    system.
  id: totrans-3
  prefs: []
  type: TYPE_NORMAL
  zh: ä¸ºäº†ä½¿ç”¨æ‰©æ•£ç³»ç»Ÿè¿›è¡Œæ¨ç†çš„ç®€ä¾¿æ–¹å¼å¯¹äºğŸ§¨ Diffusersè‡³å…³é‡è¦ã€‚æ‰©æ•£ç³»ç»Ÿé€šå¸¸ç”±å¤šä¸ªç»„ä»¶ç»„æˆï¼Œå¦‚å‚æ•°åŒ–æ¨¡å‹ã€æ ‡è®°å™¨å’Œè°ƒåº¦ç¨‹åºï¼Œå®ƒä»¬ä»¥å¤æ‚çš„æ–¹å¼ç›¸äº’ä½œç”¨ã€‚è¿™å°±æ˜¯ä¸ºä»€ä¹ˆæˆ‘ä»¬è®¾è®¡äº†[DiffusionPipeline](/docs/diffusers/v0.26.3/en/api/pipelines/overview#diffusers.DiffusionPipeline)ï¼Œå°†æ•´ä¸ªæ‰©æ•£ç³»ç»Ÿçš„å¤æ‚æ€§åŒ…è£…æˆæ˜“äºä½¿ç”¨çš„APIï¼ŒåŒæ—¶ä¿æŒè¶³å¤Ÿçš„çµæ´»æ€§ï¼Œä»¥é€‚åº”å…¶ä»–ç”¨ä¾‹ï¼Œä¾‹å¦‚å°†æ¯ä¸ªç»„ä»¶å•ç‹¬åŠ è½½ä¸ºæ„å»ºå—ï¼Œç»„è£…è‡ªå·±çš„æ‰©æ•£ç³»ç»Ÿã€‚
- en: Everything you need for inference or training is accessible with the `from_pretrained()`
    method.
  id: totrans-4
  prefs: []
  type: TYPE_NORMAL
  zh: æ‚¨å¯ä»¥é€šè¿‡`from_pretrained()`æ–¹æ³•è®¿é—®æ¨ç†æˆ–è®­ç»ƒæ‰€éœ€çš„ä¸€åˆ‡ã€‚
- en: 'This guide will show you how to load:'
  id: totrans-5
  prefs: []
  type: TYPE_NORMAL
  zh: æœ¬æŒ‡å—å°†å‘æ‚¨å±•ç¤ºå¦‚ä½•åŠ è½½ï¼š
- en: pipelines from the Hub and locally
  id: totrans-6
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: æ¥è‡ªHubå’Œæœ¬åœ°çš„ç®¡é“
- en: different components into a pipeline
  id: totrans-7
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: å°†ä¸åŒçš„ç»„ä»¶åˆå¹¶åˆ°ä¸€ä¸ªç®¡é“ä¸­
- en: checkpoint variants such as different floating point types or non-exponential
    mean averaged (EMA) weights
  id: totrans-8
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: æ£€æŸ¥ç‚¹å˜ä½“ï¼Œå¦‚ä¸åŒçš„æµ®ç‚¹ç±»å‹æˆ–éæŒ‡æ•°å‡å€¼å¹³å‡ï¼ˆEMAï¼‰æƒé‡
- en: models and schedulers
  id: totrans-9
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: æ¨¡å‹å’Œè°ƒåº¦ç¨‹åº
- en: Diffusion Pipeline
  id: totrans-10
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: æ‰©æ•£ç®¡é“
- en: ğŸ’¡ Skip to the [DiffusionPipeline explained](#diffusionpipeline-explained) section
    if you are interested in learning in more detail about how the [DiffusionPipeline](/docs/diffusers/v0.26.3/en/api/pipelines/overview#diffusers.DiffusionPipeline)
    class works.
  id: totrans-11
  prefs: []
  type: TYPE_NORMAL
  zh: ğŸ’¡ å¦‚æœæ‚¨æƒ³æ›´è¯¦ç»†åœ°äº†è§£[DiffusionPipeline](/docs/diffusers/v0.26.3/en/api/pipelines/overview#diffusers.DiffusionPipeline)ç±»çš„å·¥ä½œåŸç†ï¼Œè¯·è·³è½¬åˆ°[DiffusionPipelineè§£é‡Š](#diffusionpipeline-explained)éƒ¨åˆ†ã€‚
- en: The [DiffusionPipeline](/docs/diffusers/v0.26.3/en/api/pipelines/overview#diffusers.DiffusionPipeline)
    class is the simplest and most generic way to load the latest trending diffusion
    model from the [Hub](https://huggingface.co/models?library=diffusers&sort=trending).
    The [DiffusionPipeline.from_pretrained()](/docs/diffusers/v0.26.3/en/api/pipelines/overview#diffusers.DiffusionPipeline.from_pretrained)
    method automatically detects the correct pipeline class from the checkpoint, downloads,
    and caches all the required configuration and weight files, and returns a pipeline
    instance ready for inference.
  id: totrans-12
  prefs: []
  type: TYPE_NORMAL
  zh: '[DiffusionPipeline](/docs/diffusers/v0.26.3/en/api/pipelines/overview#diffusers.DiffusionPipeline)ç±»æ˜¯ä»[Hub](https://huggingface.co/models?library=diffusers&sort=trending)åŠ è½½æœ€æ–°æµè¡Œæ‰©æ•£æ¨¡å‹çš„æœ€ç®€å•å’Œæœ€é€šç”¨çš„æ–¹æ³•ã€‚[DiffusionPipeline.from_pretrained()](/docs/diffusers/v0.26.3/en/api/pipelines/overview#diffusers.DiffusionPipeline.from_pretrained)æ–¹æ³•ä¼šè‡ªåŠ¨æ£€æµ‹æ£€æŸ¥ç‚¹çš„æ­£ç¡®ç®¡é“ç±»ï¼Œä¸‹è½½å¹¶ç¼“å­˜æ‰€æœ‰å¿…éœ€çš„é…ç½®å’Œæƒé‡æ–‡ä»¶ï¼Œå¹¶è¿”å›ä¸€ä¸ªå‡†å¤‡å¥½è¿›è¡Œæ¨ç†çš„ç®¡é“å®ä¾‹ã€‚'
- en: '[PRE0]'
  id: totrans-13
  prefs: []
  type: TYPE_PRE
  zh: '[PRE0]'
- en: 'You can also load a checkpoint with its specific pipeline class. The example
    above loaded a Stable Diffusion model; to get the same result, use the [StableDiffusionPipeline](/docs/diffusers/v0.26.3/en/api/pipelines/stable_diffusion/text2img#diffusers.StableDiffusionPipeline)
    class:'
  id: totrans-14
  prefs: []
  type: TYPE_NORMAL
  zh: æ‚¨è¿˜å¯ä»¥ä½¿ç”¨ç‰¹å®šçš„ç®¡é“ç±»åŠ è½½æ£€æŸ¥ç‚¹ã€‚ä¸Šé¢çš„ç¤ºä¾‹åŠ è½½äº†ä¸€ä¸ªç¨³å®šæ‰©æ•£æ¨¡å‹ï¼›è¦è·å¾—ç›¸åŒçš„ç»“æœï¼Œè¯·ä½¿ç”¨[StableDiffusionPipeline](/docs/diffusers/v0.26.3/en/api/pipelines/stable_diffusion/text2img#diffusers.StableDiffusionPipeline)ç±»ï¼š
- en: '[PRE1]'
  id: totrans-15
  prefs: []
  type: TYPE_PRE
  zh: '[PRE1]'
- en: 'A checkpoint (such as [`CompVis/stable-diffusion-v1-4`](https://huggingface.co/CompVis/stable-diffusion-v1-4)
    or [`runwayml/stable-diffusion-v1-5`](https://huggingface.co/runwayml/stable-diffusion-v1-5))
    may also be used for more than one task, like text-to-image or image-to-image.
    To differentiate what task you want to use the checkpoint for, you have to load
    it directly with its corresponding task-specific pipeline class:'
  id: totrans-16
  prefs: []
  type: TYPE_NORMAL
  zh: æ£€æŸ¥ç‚¹ï¼ˆå¦‚[`CompVis/stable-diffusion-v1-4`](https://huggingface.co/CompVis/stable-diffusion-v1-4)æˆ–[`runwayml/stable-diffusion-v1-5`](https://huggingface.co/runwayml/stable-diffusion-v1-5)ï¼‰ä¹Ÿå¯ä»¥ç”¨äºå¤šä¸ªä»»åŠ¡ï¼Œå¦‚æ–‡æœ¬åˆ°å›¾åƒæˆ–å›¾åƒåˆ°å›¾åƒã€‚è¦åŒºåˆ†è¦ä½¿ç”¨æ£€æŸ¥ç‚¹çš„ä»»åŠ¡ï¼Œæ‚¨å¿…é¡»ç›´æ¥åŠ è½½å®ƒä¸ç›¸åº”çš„ä»»åŠ¡ç‰¹å®šç®¡é“ç±»ï¼š
- en: '[PRE2]'
  id: totrans-17
  prefs: []
  type: TYPE_PRE
  zh: '[PRE2]'
- en: Local pipeline
  id: totrans-18
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: æœ¬åœ°ç®¡é“
- en: 'To load a diffusion pipeline locally, use [`git-lfs`](https://git-lfs.github.com/)
    to manually download the checkpoint (in this case, [`runwayml/stable-diffusion-v1-5`](https://huggingface.co/runwayml/stable-diffusion-v1-5))
    to your local disk. This creates a local folder, `./stable-diffusion-v1-5`, on
    your disk:'
  id: totrans-19
  prefs: []
  type: TYPE_NORMAL
  zh: è¦åœ¨æœ¬åœ°åŠ è½½æ‰©æ•£ç®¡é“ï¼Œè¯·ä½¿ç”¨[`git-lfs`](https://git-lfs.github.com/)æ‰‹åŠ¨ä¸‹è½½æ£€æŸ¥ç‚¹ï¼ˆåœ¨æœ¬ä¾‹ä¸­ï¼Œ[`runwayml/stable-diffusion-v1-5`](https://huggingface.co/runwayml/stable-diffusion-v1-5)ï¼‰åˆ°æ‚¨çš„æœ¬åœ°ç£ç›˜ã€‚è¿™å°†åœ¨æ‚¨çš„ç£ç›˜ä¸Šåˆ›å»ºä¸€ä¸ªæœ¬åœ°æ–‡ä»¶å¤¹`./stable-diffusion-v1-5`ï¼š
- en: '[PRE3]'
  id: totrans-20
  prefs: []
  type: TYPE_PRE
  zh: '[PRE3]'
- en: 'Then pass the local path to [from_pretrained()](/docs/diffusers/v0.26.3/en/api/pipelines/overview#diffusers.DiffusionPipeline.from_pretrained):'
  id: totrans-21
  prefs: []
  type: TYPE_NORMAL
  zh: ç„¶åå°†æœ¬åœ°è·¯å¾„ä¼ é€’ç»™[from_pretrained()](/docs/diffusers/v0.26.3/en/api/pipelines/overview#diffusers.DiffusionPipeline.from_pretrained)ï¼š
- en: '[PRE4]'
  id: totrans-22
  prefs: []
  type: TYPE_PRE
  zh: '[PRE4]'
- en: The [from_pretrained()](/docs/diffusers/v0.26.3/en/api/pipelines/overview#diffusers.DiffusionPipeline.from_pretrained)
    method wonâ€™t download any files from the Hub when it detects a local path, but
    this also means it wonâ€™t download and cache the latest changes to a checkpoint.
  id: totrans-23
  prefs: []
  type: TYPE_NORMAL
  zh: '[from_pretrained()](/docs/diffusers/v0.26.3/en/api/pipelines/overview#diffusers.DiffusionPipeline.from_pretrained)æ–¹æ³•åœ¨æ£€æµ‹åˆ°æœ¬åœ°è·¯å¾„æ—¶ä¸ä¼šä»Hubä¸‹è½½ä»»ä½•æ–‡ä»¶ï¼Œä½†è¿™ä¹Ÿæ„å‘³ç€å®ƒä¸ä¼šä¸‹è½½å’Œç¼“å­˜æ£€æŸ¥ç‚¹çš„æœ€æ–°æ›´æ”¹ã€‚'
- en: Swap components in a pipeline
  id: totrans-24
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: åœ¨ç®¡é“ä¸­äº¤æ¢ç»„ä»¶
- en: 'You can customize the default components of any pipeline with another compatible
    component. Customization is important because:'
  id: totrans-25
  prefs: []
  type: TYPE_NORMAL
  zh: æ‚¨å¯ä»¥ä½¿ç”¨å¦ä¸€ä¸ªå…¼å®¹çš„ç»„ä»¶è‡ªå®šä¹‰ä»»ä½•ç®¡é“çš„é»˜è®¤ç»„ä»¶ã€‚è‡ªå®šä¹‰å¾ˆé‡è¦ï¼Œå› ä¸ºï¼š
- en: Changing the scheduler is important for exploring the trade-off between generation
    speed and quality.
  id: totrans-26
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: æ›´æ”¹è°ƒåº¦ç¨‹åºå¯¹äºæ¢ç´¢ç”Ÿæˆé€Ÿåº¦å’Œè´¨é‡ä¹‹é—´çš„æƒè¡¡æ˜¯é‡è¦çš„ã€‚
- en: Different components of a model are typically trained independently and you
    can swap out a component with a better-performing one.
  id: totrans-27
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: æ¨¡å‹çš„ä¸åŒç»„ä»¶é€šå¸¸æ˜¯ç‹¬ç«‹è®­ç»ƒçš„ï¼Œæ‚¨å¯ä»¥ç”¨æ€§èƒ½æ›´å¥½çš„ç»„ä»¶æ›¿æ¢ä¸€ä¸ªç»„ä»¶ã€‚
- en: During finetuning, usually only some components - like the UNet or text encoder
    - are trained.
  id: totrans-28
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: åœ¨å¾®è°ƒæœŸé—´ï¼Œé€šå¸¸åªæœ‰ä¸€äº›ç»„ä»¶ - å¦‚UNetæˆ–æ–‡æœ¬ç¼–ç å™¨ - è¢«è®­ç»ƒã€‚
- en: 'To find out which schedulers are compatible for customization, you can use
    the `compatibles` method:'
  id: totrans-29
  prefs: []
  type: TYPE_NORMAL
  zh: æŸ¥æ‰¾å¯ä¾›å®šåˆ¶çš„è°ƒåº¦ç¨‹åºï¼Œæ‚¨å¯ä»¥ä½¿ç”¨`compatibles`æ–¹æ³•ï¼š
- en: '[PRE5]'
  id: totrans-30
  prefs: []
  type: TYPE_PRE
  zh: '[PRE5]'
- en: Letâ€™s use the [SchedulerMixin.from_pretrained()](/docs/diffusers/v0.26.3/en/api/schedulers/overview#diffusers.SchedulerMixin.from_pretrained)
    method to replace the default [PNDMScheduler](/docs/diffusers/v0.26.3/en/api/schedulers/pndm#diffusers.PNDMScheduler)
    with a more performant scheduler, [EulerDiscreteScheduler](/docs/diffusers/v0.26.3/en/api/schedulers/euler#diffusers.EulerDiscreteScheduler).
    The `subfolder="scheduler"` argument is required to load the scheduler configuration
    from the correct [subfolder](https://huggingface.co/runwayml/stable-diffusion-v1-5/tree/main/scheduler)
    of the pipeline repository.
  id: totrans-31
  prefs: []
  type: TYPE_NORMAL
  zh: è®©æˆ‘ä»¬ä½¿ç”¨[SchedulerMixin.from_pretrained()](/docs/diffusers/v0.26.3/en/api/schedulers/overview#diffusers.SchedulerMixin.from_pretrained)æ–¹æ³•ï¼Œå°†é»˜è®¤çš„[PNDMScheduler](/docs/diffusers/v0.26.3/en/api/schedulers/pndm#diffusers.PNDMScheduler)æ›¿æ¢ä¸ºæ€§èƒ½æ›´é«˜çš„è°ƒåº¦ç¨‹åº[EulerDiscreteScheduler](/docs/diffusers/v0.26.3/en/api/schedulers/euler#diffusers.EulerDiscreteScheduler)ã€‚`subfolder="scheduler"`å‚æ•°æ˜¯å¿…éœ€çš„ï¼Œä»¥ä»æµæ°´çº¿å­˜å‚¨åº“çš„æ­£ç¡®[å­æ–‡ä»¶å¤¹](https://huggingface.co/runwayml/stable-diffusion-v1-5/tree/main/scheduler)åŠ è½½è°ƒåº¦ç¨‹åºé…ç½®ã€‚
- en: 'Then you can pass the new [EulerDiscreteScheduler](/docs/diffusers/v0.26.3/en/api/schedulers/euler#diffusers.EulerDiscreteScheduler)
    instance to the `scheduler` argument in [DiffusionPipeline](/docs/diffusers/v0.26.3/en/api/pipelines/overview#diffusers.DiffusionPipeline):'
  id: totrans-32
  prefs: []
  type: TYPE_NORMAL
  zh: ç„¶åï¼Œæ‚¨å¯ä»¥å°†æ–°çš„[EulerDiscreteScheduler](/docs/diffusers/v0.26.3/en/api/schedulers/euler#diffusers.EulerDiscreteScheduler)å®ä¾‹ä¼ é€’ç»™[DiffusionPipeline](/docs/diffusers/v0.26.3/en/api/pipelines/overview#diffusers.DiffusionPipeline)ä¸­çš„`scheduler`å‚æ•°ï¼š
- en: '[PRE6]'
  id: totrans-33
  prefs: []
  type: TYPE_PRE
  zh: '[PRE6]'
- en: Safety checker
  id: totrans-34
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: å®‰å…¨æ£€æŸ¥å™¨
- en: 'Diffusion models like Stable Diffusion can generate harmful content, which
    is why ğŸ§¨ Diffusers has a [safety checker](https://github.com/huggingface/diffusers/blob/main/src/diffusers/pipelines/stable_diffusion/safety_checker.py)
    to check generated outputs against known hardcoded NSFW content. If youâ€™d like
    to disable the safety checker for whatever reason, pass `None` to the `safety_checker`
    argument:'
  id: totrans-35
  prefs: []
  type: TYPE_NORMAL
  zh: åƒStable Diffusionè¿™æ ·çš„æ‰©æ•£æ¨¡å‹å¯èƒ½ä¼šç”Ÿæˆæœ‰å®³å†…å®¹ï¼Œè¿™å°±æ˜¯ä¸ºä»€ä¹ˆğŸ§¨ Diffusersæœ‰ä¸€ä¸ª[å®‰å…¨æ£€æŸ¥å™¨](https://github.com/huggingface/diffusers/blob/main/src/diffusers/pipelines/stable_diffusion/safety_checker.py)ï¼Œç”¨äºæ£€æŸ¥ç”Ÿæˆçš„è¾“å‡ºæ˜¯å¦åŒ…å«å·²çŸ¥çš„ç¡¬ç¼–ç NSFWå†…å®¹ã€‚å¦‚æœå‡ºäºä»»ä½•åŸå› è¦ç¦ç”¨å®‰å…¨æ£€æŸ¥å™¨ï¼Œè¯·å°†`None`ä¼ é€’ç»™`safety_checker`å‚æ•°ï¼š
- en: '[PRE7]'
  id: totrans-36
  prefs: []
  type: TYPE_PRE
  zh: '[PRE7]'
- en: Reuse components across pipelines
  id: totrans-37
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: åœ¨æµæ°´çº¿ä¹‹é—´é‡å¤ä½¿ç”¨ç»„ä»¶
- en: 'You can also reuse the same components in multiple pipelines to avoid loading
    the weights into RAM twice. Use the [components](/docs/diffusers/v0.26.3/en/api/pipelines/overview#diffusers.DiffusionPipeline.components)
    method to save the components:'
  id: totrans-38
  prefs: []
  type: TYPE_NORMAL
  zh: æ‚¨è¿˜å¯ä»¥åœ¨å¤šä¸ªæµæ°´çº¿ä¸­é‡å¤ä½¿ç”¨ç›¸åŒçš„ç»„ä»¶ï¼Œä»¥é¿å…å°†æƒé‡åŠ è½½åˆ°RAMä¸¤æ¬¡ã€‚ä½¿ç”¨[components](/docs/diffusers/v0.26.3/en/api/pipelines/overview#diffusers.DiffusionPipeline.components)æ–¹æ³•ä¿å­˜ç»„ä»¶ï¼š
- en: '[PRE8]'
  id: totrans-39
  prefs: []
  type: TYPE_PRE
  zh: '[PRE8]'
- en: 'Then you can pass the `components` to another pipeline without reloading the
    weights into RAM:'
  id: totrans-40
  prefs: []
  type: TYPE_NORMAL
  zh: ç„¶åï¼Œæ‚¨å¯ä»¥å°†`components`ä¼ é€’ç»™å¦ä¸€ä¸ªæµæ°´çº¿ï¼Œè€Œæ— éœ€é‡æ–°åŠ è½½æƒé‡åˆ°RAMï¼š
- en: '[PRE9]'
  id: totrans-41
  prefs: []
  type: TYPE_PRE
  zh: '[PRE9]'
- en: 'You can also pass the components individually to the pipeline if you want more
    flexibility over which components to reuse or disable. For example, to reuse the
    same components in the text-to-image pipeline, except for the safety checker and
    feature extractor, in the image-to-image pipeline:'
  id: totrans-42
  prefs: []
  type: TYPE_NORMAL
  zh: å¦‚æœè¦æ›´çµæ´»åœ°é€‰æ‹©è¦é‡ç”¨æˆ–ç¦ç”¨çš„ç»„ä»¶ï¼Œä¹Ÿå¯ä»¥å°†ç»„ä»¶å•ç‹¬ä¼ é€’ç»™æµæ°´çº¿ã€‚ä¾‹å¦‚ï¼Œåœ¨æ–‡æœ¬åˆ°å›¾åƒæµæ°´çº¿ä¸­é‡ç”¨ç›¸åŒçš„ç»„ä»¶ï¼Œé™¤äº†å®‰å…¨æ£€æŸ¥å™¨å’Œç‰¹å¾æå–å™¨ï¼Œåœ¨å›¾åƒåˆ°å›¾åƒæµæ°´çº¿ä¸­ï¼š
- en: '[PRE10]'
  id: totrans-43
  prefs: []
  type: TYPE_PRE
  zh: '[PRE10]'
- en: Checkpoint variants
  id: totrans-44
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: æ£€æŸ¥ç‚¹å˜ä½“
- en: 'A checkpoint variant is usually a checkpoint whose weights are:'
  id: totrans-45
  prefs: []
  type: TYPE_NORMAL
  zh: æ£€æŸ¥ç‚¹å˜ä½“é€šå¸¸æ˜¯å…¶æƒé‡ä¸ºï¼š
- en: Stored in a different floating point type for lower precision and lower storage,
    such as [`torch.float16`](https://pytorch.org/docs/stable/tensors.html#data-types),
    because it only requires half the bandwidth and storage to download. You canâ€™t
    use this variant if youâ€™re continuing training or using a CPU.
  id: totrans-46
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: å­˜å‚¨åœ¨ä¸åŒçš„æµ®ç‚¹ç±»å‹ä¸­ï¼Œä»¥é™ä½ç²¾åº¦å’Œå­˜å‚¨ï¼Œä¾‹å¦‚[`torch.float16`](https://pytorch.org/docs/stable/tensors.html#data-types)ï¼Œå› ä¸ºå®ƒåªéœ€è¦ä¸€åŠçš„å¸¦å®½å’Œå­˜å‚¨ç©ºé—´æ¥ä¸‹è½½ã€‚å¦‚æœæ‚¨ç»§ç»­è®­ç»ƒæˆ–ä½¿ç”¨CPUï¼Œåˆ™ä¸èƒ½ä½¿ç”¨æ­¤å˜ä½“ã€‚
- en: Non-exponential mean averaged (EMA) weights, which shouldnâ€™t be used for inference.
    You should use these to continue fine-tuning a model.
  id: totrans-47
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: éæŒ‡æ•°å‡å€¼å¹³å‡ï¼ˆEMAï¼‰æƒé‡ï¼Œä¸åº”ç”¨äºæ¨æ–­ã€‚æ‚¨åº”è¯¥ä½¿ç”¨è¿™äº›æƒé‡æ¥ç»§ç»­å¾®è°ƒæ¨¡å‹ã€‚
- en: ğŸ’¡ When the checkpoints have identical model structures, but they were trained
    on different datasets and with a different training setup, they should be stored
    in separate repositories instead of variations (for example, `stable-diffusion-v1-4`
    and `stable-diffusion-v1-5`).
  id: totrans-48
  prefs: []
  type: TYPE_NORMAL
  zh: ğŸ’¡ å½“æ£€æŸ¥ç‚¹å…·æœ‰ç›¸åŒçš„æ¨¡å‹ç»“æ„ï¼Œä½†å®ƒä»¬æ˜¯åœ¨ä¸åŒæ•°æ®é›†ä¸Šè®­ç»ƒå¹¶ä½¿ç”¨ä¸åŒçš„è®­ç»ƒè®¾ç½®æ—¶ï¼Œåº”å°†å®ƒä»¬å­˜å‚¨åœ¨å•ç‹¬çš„å­˜å‚¨åº“ä¸­ï¼Œè€Œä¸æ˜¯å˜ä½“ï¼ˆä¾‹å¦‚ï¼Œ`stable-diffusion-v1-4`å’Œ`stable-diffusion-v1-5`ï¼‰ã€‚
- en: Otherwise, a variant is **identical** to the original checkpoint. They have
    exactly the same serialization format (like [Safetensors](./using_safetensors)),
    model structure, and weights that have identical tensor shapes.
  id: totrans-49
  prefs: []
  type: TYPE_NORMAL
  zh: å¦åˆ™ï¼Œå˜ä½“ä¸åŸå§‹æ£€æŸ¥ç‚¹**å®Œå…¨ç›¸åŒ**ã€‚å®ƒä»¬å…·æœ‰å®Œå…¨ç›¸åŒçš„åºåˆ—åŒ–æ ¼å¼ï¼ˆä¾‹å¦‚[Safetensors](./using_safetensors)ï¼‰ã€æ¨¡å‹ç»“æ„å’Œå…·æœ‰ç›¸åŒå¼ é‡å½¢çŠ¶çš„æƒé‡ã€‚
- en: '| **checkpoint type** | **weight name** | **argument for loading weights**
    |'
  id: totrans-50
  prefs: []
  type: TYPE_TB
  zh: '| **æ£€æŸ¥ç‚¹ç±»å‹** | **æƒé‡åç§°** | **åŠ è½½æƒé‡çš„å‚æ•°** |'
- en: '| --- | --- | --- |'
  id: totrans-51
  prefs: []
  type: TYPE_TB
  zh: '| --- | --- | --- |'
- en: '| original | diffusion_pytorch_model.bin |  |'
  id: totrans-52
  prefs: []
  type: TYPE_TB
  zh: '| åŸå§‹ | diffusion_pytorch_model.bin |  |'
- en: '| floating point | diffusion_pytorch_model.fp16.bin | `variant`, `torch_dtype`
    |'
  id: totrans-53
  prefs: []
  type: TYPE_TB
  zh: '| æµ®ç‚¹æ•° | diffusion_pytorch_model.fp16.bin | `variant`ï¼Œ`torch_dtype` |'
- en: '| non-EMA | diffusion_pytorch_model.non_ema.bin | `variant` |'
  id: totrans-54
  prefs: []
  type: TYPE_TB
  zh: '| éEMA | diffusion_pytorch_model.non_ema.bin | `variant` |'
- en: 'There are two important arguments to know for loading variants:'
  id: totrans-55
  prefs: []
  type: TYPE_NORMAL
  zh: åŠ è½½å˜ä½“æ—¶éœ€è¦äº†è§£çš„ä¸¤ä¸ªé‡è¦å‚æ•°ï¼š
- en: '`torch_dtype` defines the floating point precision of the loaded checkpoints.
    For example, if you want to save bandwidth by loading a `fp16` variant, you should
    specify `torch_dtype=torch.float16` to *convert the weights* to `fp16`. Otherwise,
    the `fp16` weights are converted to the default `fp32` precision. You can also
    load the original checkpoint without defining the `variant` argument, and convert
    it to `fp16` with `torch_dtype=torch.float16`. In this case, the default `fp32`
    weights are downloaded first, and then theyâ€™re converted to `fp16` after loading.'
  id: totrans-56
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`torch_dtype`å®šä¹‰äº†åŠ è½½æ£€æŸ¥ç‚¹çš„æµ®ç‚¹ç²¾åº¦ã€‚ä¾‹å¦‚ï¼Œå¦‚æœæ‚¨æƒ³é€šè¿‡åŠ è½½`fp16`å˜ä½“æ¥èŠ‚çœå¸¦å®½ï¼Œæ‚¨åº”è¯¥æŒ‡å®š`torch_dtype=torch.float16`æ¥*å°†æƒé‡*è½¬æ¢ä¸º`fp16`ã€‚å¦åˆ™ï¼Œ`fp16`æƒé‡å°†è½¬æ¢ä¸ºé»˜è®¤çš„`fp32`ç²¾åº¦ã€‚æ‚¨ä¹Ÿå¯ä»¥åœ¨ä¸å®šä¹‰`variant`å‚æ•°çš„æƒ…å†µä¸‹åŠ è½½åŸå§‹æ£€æŸ¥ç‚¹ï¼Œå¹¶ä½¿ç”¨`torch_dtype=torch.float16`å°†å…¶è½¬æ¢ä¸º`fp16`ã€‚åœ¨è¿™ç§æƒ…å†µä¸‹ï¼Œé¦–å…ˆä¸‹è½½é»˜è®¤çš„`fp32`æƒé‡ï¼Œç„¶ååœ¨åŠ è½½åå°†å…¶è½¬æ¢ä¸º`fp16`ã€‚'
- en: '`variant` defines which files should be loaded from the repository. For example,
    if you want to load a `non_ema` variant from the [`diffusers/stable-diffusion-variants`](https://huggingface.co/diffusers/stable-diffusion-variants/tree/main/unet)
    repository, you should specify `variant="non_ema"` to download the `non_ema` files.'
  id: totrans-57
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`variant`å®šä¹‰äº†åº”ä»å­˜å‚¨åº“åŠ è½½å“ªäº›æ–‡ä»¶ã€‚ä¾‹å¦‚ï¼Œå¦‚æœæ‚¨æƒ³ä»[`diffusers/stable-diffusion-variants`](https://huggingface.co/diffusers/stable-diffusion-variants/tree/main/unet)å­˜å‚¨åº“åŠ è½½`non_ema`å˜ä½“ï¼Œæ‚¨åº”è¯¥æŒ‡å®š`variant="non_ema"`ä»¥ä¸‹è½½`non_ema`æ–‡ä»¶ã€‚'
- en: '[PRE11]'
  id: totrans-58
  prefs: []
  type: TYPE_PRE
  zh: '[PRE11]'
- en: 'To save a checkpoint stored in a different floating-point type or as a non-EMA
    variant, use the [DiffusionPipeline.save_pretrained()](/docs/diffusers/v0.26.3/en/api/pipelines/overview#diffusers.DiffusionPipeline.save_pretrained)
    method and specify the `variant` argument. You should try and save a variant to
    the same folder as the original checkpoint, so you can load both from the same
    folder:'
  id: totrans-59
  prefs: []
  type: TYPE_NORMAL
  zh: è¦ä¿å­˜å­˜å‚¨åœ¨ä¸åŒæµ®ç‚¹ç±»å‹æˆ–éEMAå˜ä½“ä¸­çš„æ£€æŸ¥ç‚¹ï¼Œè¯·ä½¿ç”¨[DiffusionPipeline.save_pretrained()](/docs/diffusers/v0.26.3/en/api/pipelines/overview#diffusers.DiffusionPipeline.save_pretrained)æ–¹æ³•å¹¶æŒ‡å®š`variant`å‚æ•°ã€‚æ‚¨åº”è¯¥å°è¯•å°†å˜ä½“ä¿å­˜åˆ°ä¸åŸå§‹æ£€æŸ¥ç‚¹ç›¸åŒçš„æ–‡ä»¶å¤¹ä¸­ï¼Œä»¥ä¾¿æ‚¨å¯ä»¥ä»åŒä¸€æ–‡ä»¶å¤¹ä¸­åŠ è½½ä¸¤è€…ï¼š
- en: '[PRE12]'
  id: totrans-60
  prefs: []
  type: TYPE_PRE
  zh: '[PRE12]'
- en: 'If you donâ€™t save the variant to an existing folder, you must specify the `variant`
    argument otherwise itâ€™ll throw an `Exception` because it canâ€™t find the original
    checkpoint:'
  id: totrans-61
  prefs: []
  type: TYPE_NORMAL
  zh: å¦‚æœæ‚¨ä¸å°†å˜ä½“ä¿å­˜åˆ°ç°æœ‰æ–‡ä»¶å¤¹ä¸­ï¼Œåˆ™å¿…é¡»æŒ‡å®š`variant`å‚æ•°ï¼Œå¦åˆ™å®ƒä¼šæŠ›å‡ºä¸€ä¸ª`Exception`ï¼Œå› ä¸ºå®ƒæ‰¾ä¸åˆ°åŸå§‹çš„æ£€æŸ¥ç‚¹ï¼š
- en: '[PRE13]'
  id: totrans-62
  prefs: []
  type: TYPE_PRE
  zh: '[PRE13]'
- en: Models
  id: totrans-63
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: æ¨¡å‹
- en: Models are loaded from the [ModelMixin.from_pretrained()](/docs/diffusers/v0.26.3/en/api/models/overview#diffusers.ModelMixin.from_pretrained)
    method, which downloads and caches the latest version of the model weights and
    configurations. If the latest files are available in the local cache, [from_pretrained()](/docs/diffusers/v0.26.3/en/api/models/overview#diffusers.ModelMixin.from_pretrained)
    reuses files in the cache instead of re-downloading them.
  id: totrans-64
  prefs: []
  type: TYPE_NORMAL
  zh: æ¨¡å‹æ˜¯ä»[ModelMixin.from_pretrained()](/docs/diffusers/v0.26.3/en/api/models/overview#diffusers.ModelMixin.from_pretrained)æ–¹æ³•åŠ è½½çš„ï¼Œè¯¥æ–¹æ³•ä¸‹è½½å¹¶ç¼“å­˜æ¨¡å‹æƒé‡å’Œé…ç½®çš„æœ€æ–°ç‰ˆæœ¬ã€‚å¦‚æœæœ€æ–°æ–‡ä»¶åœ¨æœ¬åœ°ç¼“å­˜ä¸­å¯ç”¨ï¼Œ[from_pretrained()](/docs/diffusers/v0.26.3/en/api/models/overview#diffusers.ModelMixin.from_pretrained)å°†é‡ç”¨ç¼“å­˜ä¸­çš„æ–‡ä»¶è€Œä¸æ˜¯é‡æ–°ä¸‹è½½å®ƒä»¬ã€‚
- en: 'Models can be loaded from a subfolder with the `subfolder` argument. For example,
    the model weights for `runwayml/stable-diffusion-v1-5` are stored in the [`unet`](https://huggingface.co/runwayml/stable-diffusion-v1-5/tree/main/unet)
    subfolder:'
  id: totrans-65
  prefs: []
  type: TYPE_NORMAL
  zh: æ¨¡å‹å¯ä»¥é€šè¿‡`subfolder`å‚æ•°ä»å­æ–‡ä»¶å¤¹åŠ è½½ã€‚ä¾‹å¦‚ï¼Œ`runwayml/stable-diffusion-v1-5`çš„æ¨¡å‹æƒé‡å­˜å‚¨åœ¨[`unet`](https://huggingface.co/runwayml/stable-diffusion-v1-5/tree/main/unet)å­æ–‡ä»¶å¤¹ä¸­ï¼š
- en: '[PRE14]'
  id: totrans-66
  prefs: []
  type: TYPE_PRE
  zh: '[PRE14]'
- en: 'Or directly from a repositoryâ€™s [directory](https://huggingface.co/google/ddpm-cifar10-32/tree/main):'
  id: totrans-67
  prefs: []
  type: TYPE_NORMAL
  zh: æˆ–ç›´æ¥ä»å­˜å‚¨åº“çš„[ç›®å½•](https://huggingface.co/google/ddpm-cifar10-32/tree/main)åŠ è½½ï¼š
- en: '[PRE15]'
  id: totrans-68
  prefs: []
  type: TYPE_PRE
  zh: '[PRE15]'
- en: 'You can also load and save model variants by specifying the `variant` argument
    in [ModelMixin.from_pretrained()](/docs/diffusers/v0.26.3/en/api/models/overview#diffusers.ModelMixin.from_pretrained)
    and [ModelMixin.save_pretrained()](/docs/diffusers/v0.26.3/en/api/models/overview#diffusers.ModelMixin.save_pretrained):'
  id: totrans-69
  prefs: []
  type: TYPE_NORMAL
  zh: æ‚¨è¿˜å¯ä»¥é€šè¿‡åœ¨[ModelMixin.from_pretrained()](/docs/diffusers/v0.26.3/en/api/models/overview#diffusers.ModelMixin.from_pretrained)å’Œ[ModelMixin.save_pretrained()](/docs/diffusers/v0.26.3/en/api/models/overview#diffusers.ModelMixin.save_pretrained)ä¸­æŒ‡å®š`variant`å‚æ•°æ¥åŠ è½½å’Œä¿å­˜æ¨¡å‹å˜ä½“ï¼š
- en: '[PRE16]'
  id: totrans-70
  prefs: []
  type: TYPE_PRE
  zh: '[PRE16]'
- en: Schedulers
  id: totrans-71
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: è°ƒåº¦å™¨
- en: Schedulers are loaded from the [SchedulerMixin.from_pretrained()](/docs/diffusers/v0.26.3/en/api/schedulers/overview#diffusers.SchedulerMixin.from_pretrained)
    method, and unlike models, schedulers are **not parameterized** or **trained**;
    they are defined by a configuration file.
  id: totrans-72
  prefs: []
  type: TYPE_NORMAL
  zh: è°ƒåº¦å™¨æ˜¯ä»[SchedulerMixin.from_pretrained()](/docs/diffusers/v0.26.3/en/api/schedulers/overview#diffusers.SchedulerMixin.from_pretrained)æ–¹æ³•åŠ è½½çš„ï¼Œä¸æ¨¡å‹ä¸åŒï¼Œè°ƒåº¦å™¨**ä¸æ˜¯å‚æ•°åŒ–**æˆ–**è®­ç»ƒ**ï¼›å®ƒä»¬ç”±é…ç½®æ–‡ä»¶å®šä¹‰ã€‚
- en: 'Loading schedulers does not consume any significant amount of memory and the
    same configuration file can be used for a variety of different schedulers. For
    example, the following schedulers are compatible with [StableDiffusionPipeline](/docs/diffusers/v0.26.3/en/api/pipelines/stable_diffusion/text2img#diffusers.StableDiffusionPipeline),
    which means you can load the same scheduler configuration file in any of these
    classes:'
  id: totrans-73
  prefs: []
  type: TYPE_NORMAL
  zh: åŠ è½½è°ƒåº¦å™¨ä¸ä¼šæ¶ˆè€—å¤§é‡å†…å­˜ï¼Œå¹¶ä¸”ç›¸åŒçš„é…ç½®æ–‡ä»¶å¯ä»¥ç”¨äºå„ç§ä¸åŒçš„è°ƒåº¦å™¨ã€‚ä¾‹å¦‚ï¼Œä»¥ä¸‹è°ƒåº¦å™¨ä¸[StableDiffusionPipeline](/docs/diffusers/v0.26.3/en/api/pipelines/stable_diffusion/text2img#diffusers.StableDiffusionPipeline)å…¼å®¹ï¼Œè¿™æ„å‘³ç€æ‚¨å¯ä»¥åœ¨è¿™äº›ç±»ä¸­çš„ä»»ä½•ä¸€ä¸ªä¸­åŠ è½½ç›¸åŒçš„è°ƒåº¦å™¨é…ç½®æ–‡ä»¶ï¼š
- en: '[PRE17]'
  id: totrans-74
  prefs: []
  type: TYPE_PRE
  zh: '[PRE17]'
- en: DiffusionPipeline explained
  id: totrans-75
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: DiffusionPipelineè§£é‡Š
- en: 'As a class method, [DiffusionPipeline.from_pretrained()](/docs/diffusers/v0.26.3/en/api/pipelines/overview#diffusers.DiffusionPipeline.from_pretrained)
    is responsible for two things:'
  id: totrans-76
  prefs: []
  type: TYPE_NORMAL
  zh: ä½œä¸ºä¸€ä¸ªç±»æ–¹æ³•ï¼Œ[DiffusionPipeline.from_pretrained()](/docs/diffusers/v0.26.3/en/api/pipelines/overview#diffusers.DiffusionPipeline.from_pretrained)è´Ÿè´£ä¸¤ä»¶äº‹ï¼š
- en: Download the latest version of the folder structure required for inference and
    cache it. If the latest folder structure is available in the local cache, [DiffusionPipeline.from_pretrained()](/docs/diffusers/v0.26.3/en/api/pipelines/overview#diffusers.DiffusionPipeline.from_pretrained)
    reuses the cache and wonâ€™t redownload the files.
  id: totrans-77
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: ä¸‹è½½æ¨ç†æ‰€éœ€çš„æœ€æ–°æ–‡ä»¶å¤¹ç»“æ„å¹¶ç¼“å­˜ã€‚å¦‚æœæœ€æ–°çš„æ–‡ä»¶å¤¹ç»“æ„åœ¨æœ¬åœ°ç¼“å­˜ä¸­å¯ç”¨ï¼Œ[DiffusionPipeline.from_pretrained()](/docs/diffusers/v0.26.3/en/api/pipelines/overview#diffusers.DiffusionPipeline.from_pretrained)å°†é‡ç”¨ç¼“å­˜ï¼Œä¸ä¼šé‡æ–°ä¸‹è½½æ–‡ä»¶ã€‚
- en: Load the cached weights into the correct pipeline [class](../api/pipelines/overview#diffusers-summary)
    - retrieved from the `model_index.json` file - and return an instance of it.
  id: totrans-78
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: å°†ç¼“å­˜çš„æƒé‡åŠ è½½åˆ°æ­£ç¡®çš„æµæ°´çº¿[class](../api/pipelines/overview#diffusers-summary)ä¸­-ä»`model_index.json`æ–‡ä»¶ä¸­æ£€ç´¢-å¹¶è¿”å›å…¶å®ä¾‹ã€‚
- en: The pipelinesâ€™ underlying folder structure corresponds directly with their class
    instances. For example, the [StableDiffusionPipeline](/docs/diffusers/v0.26.3/en/api/pipelines/stable_diffusion/text2img#diffusers.StableDiffusionPipeline)
    corresponds to the folder structure in [`runwayml/stable-diffusion-v1-5`](https://huggingface.co/runwayml/stable-diffusion-v1-5).
  id: totrans-79
  prefs: []
  type: TYPE_NORMAL
  zh: æµæ°´çº¿çš„åŸºç¡€æ–‡ä»¶å¤¹ç»“æ„ç›´æ¥å¯¹åº”äºå®ƒä»¬çš„ç±»å®ä¾‹ã€‚ä¾‹å¦‚ï¼Œ[StableDiffusionPipeline](/docs/diffusers/v0.26.3/en/api/pipelines/stable_diffusion/text2img#diffusers.StableDiffusionPipeline)å¯¹åº”äº[`runwayml/stable-diffusion-v1-5`](https://huggingface.co/runwayml/stable-diffusion-v1-5)ä¸­çš„æ–‡ä»¶å¤¹ç»“æ„ã€‚
- en: '[PRE18]'
  id: totrans-80
  prefs: []
  type: TYPE_PRE
  zh: '[PRE18]'
- en: 'Youâ€™ll see pipeline is an instance of [StableDiffusionPipeline](/docs/diffusers/v0.26.3/en/api/pipelines/stable_diffusion/text2img#diffusers.StableDiffusionPipeline),
    which consists of seven components:'
  id: totrans-81
  prefs: []
  type: TYPE_NORMAL
  zh: æ‚¨å°†çœ‹åˆ°æµæ°´çº¿æ˜¯[StableDiffusionPipeline](/docs/diffusers/v0.26.3/en/api/pipelines/stable_diffusion/text2img#diffusers.StableDiffusionPipeline)çš„ä¸€ä¸ªå®ä¾‹ï¼Œç”±ä¸ƒä¸ªç»„ä»¶ç»„æˆï¼š
- en: '`"feature_extractor"`: a [CLIPImageProcessor](https://huggingface.co/docs/transformers/v4.37.2/en/model_doc/clip#transformers.CLIPImageProcessor)
    from ğŸ¤— Transformers.'
  id: totrans-82
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: â€œfeature_extractorâ€ï¼šæ¥è‡ªğŸ¤— Transformersçš„[CLIPImageProcessor](https://huggingface.co/docs/transformers/v4.37.2/en/model_doc/clip#transformers.CLIPImageProcessor)ã€‚
- en: '`"safety_checker"`: a [component](https://github.com/huggingface/diffusers/blob/e55687e1e15407f60f32242027b7bb8170e58266/src/diffusers/pipelines/stable_diffusion/safety_checker.py#L32)
    for screening against harmful content.'
  id: totrans-83
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: â€œsafety_checkerâ€ï¼šç”¨äºç­›é€‰æœ‰å®³å†…å®¹çš„[ç»„ä»¶](https://github.com/huggingface/diffusers/blob/e55687e1e15407f60f32242027b7bb8170e58266/src/diffusers/pipelines/stable_diffusion/safety_checker.py#L32)ã€‚
- en: '`"scheduler"`: an instance of [PNDMScheduler](/docs/diffusers/v0.26.3/en/api/schedulers/pndm#diffusers.PNDMScheduler).'
  id: totrans-84
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: â€œè°ƒåº¦ç¨‹åºâ€ï¼š[PNDMScheduler](/docs/diffusers/v0.26.3/en/api/schedulers/pndm#diffusers.PNDMScheduler)çš„ä¸€ä¸ªå®ä¾‹ã€‚
- en: '`"text_encoder"`: a [CLIPTextModel](https://huggingface.co/docs/transformers/v4.37.2/en/model_doc/clip#transformers.CLIPTextModel)
    from ğŸ¤— Transformers.'
  id: totrans-85
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: â€œtext_encoderâ€ï¼šæ¥è‡ªğŸ¤— Transformersçš„[CLIPTextModel](https://huggingface.co/docs/transformers/v4.37.2/en/model_doc/clip#transformers.CLIPTextModel)ã€‚
- en: '`"tokenizer"`: a [CLIPTokenizer](https://huggingface.co/docs/transformers/v4.37.2/en/model_doc/clip#transformers.CLIPTokenizer)
    from ğŸ¤— Transformers.'
  id: totrans-86
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: â€œtokenizerâ€ï¼šæ¥è‡ªğŸ¤— Transformersçš„[CLIPTokenizer](https://huggingface.co/docs/transformers/v4.37.2/en/model_doc/clip#transformers.CLIPTokenizer)ã€‚
- en: '`"unet"`: an instance of [UNet2DConditionModel](/docs/diffusers/v0.26.3/en/api/models/unet2d-cond#diffusers.UNet2DConditionModel).'
  id: totrans-87
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: â€œunetâ€ï¼š[UNet2DConditionModel](/docs/diffusers/v0.26.3/en/api/models/unet2d-cond#diffusers.UNet2DConditionModel)çš„ä¸€ä¸ªå®ä¾‹ã€‚
- en: '`"vae"`: an instance of [AutoencoderKL](/docs/diffusers/v0.26.3/en/api/models/autoencoderkl#diffusers.AutoencoderKL).'
  id: totrans-88
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: â€œvaeâ€ï¼š[AutoencoderKL](/docs/diffusers/v0.26.3/en/api/models/autoencoderkl#diffusers.AutoencoderKL)çš„ä¸€ä¸ªå®ä¾‹ã€‚
- en: '[PRE19]'
  id: totrans-89
  prefs: []
  type: TYPE_PRE
  zh: '[PRE19]'
- en: 'Compare the components of the pipeline instance to the [`runwayml/stable-diffusion-v1-5`](https://huggingface.co/runwayml/stable-diffusion-v1-5/tree/main)
    folder structure, and youâ€™ll see there is a separate folder for each of the components
    in the repository:'
  id: totrans-90
  prefs: []
  type: TYPE_NORMAL
  zh: å°†æµæ°´çº¿å®ä¾‹çš„ç»„ä»¶ä¸[`runwayml/stable-diffusion-v1-5`](https://huggingface.co/runwayml/stable-diffusion-v1-5/tree/main)æ–‡ä»¶å¤¹ç»“æ„è¿›è¡Œæ¯”è¾ƒï¼Œæ‚¨å°†çœ‹åˆ°å­˜å‚¨åº“ä¸­æ¯ä¸ªç»„ä»¶éƒ½æœ‰ä¸€ä¸ªå•ç‹¬çš„æ–‡ä»¶å¤¹ï¼š
- en: '[PRE20]'
  id: totrans-91
  prefs: []
  type: TYPE_PRE
  zh: '[PRE20]'
- en: 'You can access each of the components of the pipeline as an attribute to view
    its configuration:'
  id: totrans-92
  prefs: []
  type: TYPE_NORMAL
  zh: æ‚¨å¯ä»¥å°†æµæ°´çº¿çš„æ¯ä¸ªç»„ä»¶ä½œä¸ºå±æ€§è®¿é—®ä»¥æŸ¥çœ‹å…¶é…ç½®ï¼š
- en: '[PRE21]'
  id: totrans-93
  prefs: []
  type: TYPE_PRE
  zh: '[PRE21]'
- en: 'Every pipeline expects a [`model_index.json`](https://huggingface.co/runwayml/stable-diffusion-v1-5/blob/main/model_index.json)
    file that tells the [DiffusionPipeline](/docs/diffusers/v0.26.3/en/api/pipelines/overview#diffusers.DiffusionPipeline):'
  id: totrans-94
  prefs: []
  type: TYPE_NORMAL
  zh: æ¯ä¸ªæµæ°´çº¿éƒ½éœ€è¦ä¸€ä¸ª[`model_index.json`](https://huggingface.co/runwayml/stable-diffusion-v1-5/blob/main/model_index.json)æ–‡ä»¶ï¼Œå‘Šè¯‰[DiffusionPipeline](/docs/diffusers/v0.26.3/en/api/pipelines/overview#diffusers.DiffusionPipeline)ï¼š
- en: which pipeline class to load from `_class_name`
  id: totrans-95
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: ä»`_class_name`åŠ è½½å“ªä¸ªæµæ°´çº¿ç±»
- en: which version of ğŸ§¨ Diffusers was used to create the model in `_diffusers_version`
  id: totrans-96
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: åœ¨`_diffusers_version`ä¸­ä½¿ç”¨å“ªä¸ªç‰ˆæœ¬çš„ğŸ§¨ Diffusersåˆ›å»ºæ¨¡å‹ã€‚
- en: what components from which library are stored in the subfolders (`name` corresponds
    to the component and subfolder name, `library` corresponds to the name of the
    library to load the class from, and `class` corresponds to the class name)
  id: totrans-97
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: ä»å“ªä¸ªåº“çš„å“ªäº›ç»„ä»¶å­˜å‚¨åœ¨å­æ–‡ä»¶å¤¹ä¸­ï¼ˆ`name`å¯¹åº”ç»„ä»¶å’Œå­æ–‡ä»¶å¤¹åç§°ï¼Œ`library`å¯¹åº”è¦ä»ä¸­åŠ è½½ç±»çš„åº“åç§°ï¼Œ`class`å¯¹åº”ç±»åï¼‰
- en: '[PRE22]'
  id: totrans-98
  prefs: []
  type: TYPE_PRE
  zh: '[PRE22]'
