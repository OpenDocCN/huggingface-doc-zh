# UNet3DConditionModel

> åŸå§‹æ–‡æœ¬ï¼š[`huggingface.co/docs/diffusers/api/models/unet3d-cond`](https://huggingface.co/docs/diffusers/api/models/unet3d-cond)

[UNet](https://huggingface.co/papers/1505.04597)æ¨¡å‹æœ€åˆç”± Ronneberger ç­‰äººæå‡ºï¼Œç”¨äºç”Ÿç‰©åŒ»å­¦å›¾åƒåˆ†å‰²ï¼Œä½†å®ƒä¹Ÿå¸¸ç”¨äºğŸ¤— Diffusersï¼Œå› ä¸ºå®ƒè¾“å‡ºä¸è¾“å…¥ç›¸åŒå¤§å°çš„å›¾åƒã€‚å®ƒæ˜¯æ‰©æ•£ç³»ç»Ÿä¸­æœ€é‡è¦çš„ç»„ä»¶ä¹‹ä¸€ï¼Œå› ä¸ºå®ƒä¿ƒè¿›äº†å®é™…çš„æ‰©æ•£è¿‡ç¨‹ã€‚åœ¨ğŸ¤— Diffusers ä¸­æœ‰å‡ ä¸ª UNet æ¨¡å‹çš„å˜ä½“ï¼Œå–å†³äºå®ƒçš„ç»´åº¦æ•°é‡ä»¥åŠæ˜¯å¦æ˜¯æœ‰æ¡ä»¶æ¨¡å‹ã€‚è¿™æ˜¯ä¸€ä¸ª 3D UNet æœ‰æ¡ä»¶æ¨¡å‹ã€‚

è®ºæ–‡æ‘˜è¦ä¸ºï¼š

*æœ‰å¾ˆå¤§çš„å…±è¯†ï¼ŒæˆåŠŸè®­ç»ƒæ·±åº¦ç½‘ç»œéœ€è¦æˆåƒä¸Šä¸‡ä¸ªæ³¨é‡Šçš„è®­ç»ƒæ ·æœ¬ã€‚åœ¨æœ¬æ–‡ä¸­ï¼Œæˆ‘ä»¬æå‡ºäº†ä¸€ç§ä¾èµ–äºå¼ºå¤§æ•°æ®å¢å¼ºçš„ç½‘ç»œå’Œè®­ç»ƒç­–ç•¥ï¼Œä»¥æ›´æœ‰æ•ˆåœ°åˆ©ç”¨å¯ç”¨çš„æ³¨é‡Šæ ·æœ¬ã€‚è¯¥æ¶æ„ç”±ä¸€ä¸ªæ”¶ç¼©è·¯å¾„å’Œä¸€ä¸ªå¯¹ç§°æ‰©å±•è·¯å¾„ç»„æˆï¼Œç”¨äºæ•è·ä¸Šä¸‹æ–‡å’Œå®ç°ç²¾ç¡®å®šä½ã€‚æˆ‘ä»¬å±•ç¤ºäº†è¿™æ ·ä¸€ä¸ªç½‘ç»œå¯ä»¥ä»å¾ˆå°‘çš„å›¾åƒç«¯åˆ°ç«¯è®­ç»ƒï¼Œå¹¶åœ¨ ISBI æŒ‘æˆ˜ä¸­èƒœè¿‡å…ˆå‰æœ€ä½³æ–¹æ³•ï¼ˆæ»‘åŠ¨çª—å£å·ç§¯ç½‘ç»œï¼‰ç”¨äºç”µå­æ˜¾å¾®é•œå †ä¸­ç¥ç»ç»“æ„çš„åˆ†å‰²ã€‚ä½¿ç”¨ç›¸åŒçš„ç½‘ç»œåœ¨é€å°„å…‰æ˜¾å¾®é•œå›¾åƒï¼ˆç›¸å·®å’Œ DICï¼‰ä¸Šè®­ç»ƒï¼Œæˆ‘ä»¬åœ¨è¿™äº›ç±»åˆ«ä¸Šä»¥å¾ˆå¤§çš„ä¼˜åŠ¿èµ¢å¾—äº† 2015 å¹´ ISBI ç»†èƒè·Ÿè¸ªæŒ‘æˆ˜ã€‚æ­¤å¤–ï¼Œè¯¥ç½‘ç»œé€Ÿåº¦å¾ˆå¿«ã€‚åœ¨æœ€æ–°çš„ GPU ä¸Šï¼Œå¯¹ 512x512 å›¾åƒçš„åˆ†å‰²ä¸åˆ°ä¸€ç§’ã€‚å®Œæ•´çš„å®ç°ï¼ˆåŸºäº Caffeï¼‰å’Œè®­ç»ƒç½‘ç»œå¯åœ¨[`lmb.informatik.uni-freiburg.de/people/ronneber/u-net`](http://lmb.informatik.uni-freiburg.de/people/ronneber/u-net)ä¸Šè·å¾—ã€‚*

## UNet3DConditionModel

### `class diffusers.UNet3DConditionModel`

[<æ¥æº>](https://github.com/huggingface/diffusers/blob/v0.26.3/src/diffusers/models/unets/unet_3d_condition.py#L64)

```py
( sample_size: Optional = None in_channels: int = 4 out_channels: int = 4 down_block_types: Tuple = ('CrossAttnDownBlock3D', 'CrossAttnDownBlock3D', 'CrossAttnDownBlock3D', 'DownBlock3D') up_block_types: Tuple = ('UpBlock3D', 'CrossAttnUpBlock3D', 'CrossAttnUpBlock3D', 'CrossAttnUpBlock3D') block_out_channels: Tuple = (320, 640, 1280, 1280) layers_per_block: int = 2 downsample_padding: int = 1 mid_block_scale_factor: float = 1 act_fn: str = 'silu' norm_num_groups: Optional = 32 norm_eps: float = 1e-05 cross_attention_dim: int = 1024 attention_head_dim: Union = 64 num_attention_heads: Union = None )
```

å‚æ•°

+   `sample_size`ï¼ˆ`int`æˆ–`Tuple[int, int]`ï¼Œ*å¯é€‰*ï¼Œé»˜è®¤ä¸º`None`ï¼‰â€” è¾“å…¥/è¾“å‡ºæ ·æœ¬çš„é«˜åº¦å’Œå®½åº¦ã€‚

+   `in_channels`ï¼ˆ`int`ï¼Œ*å¯é€‰*ï¼Œé»˜è®¤ä¸º 4ï¼‰â€” è¾“å…¥æ ·æœ¬ä¸­çš„é€šé“æ•°ã€‚

+   `out_channels`ï¼ˆ`int`ï¼Œ*å¯é€‰*ï¼Œé»˜è®¤ä¸º 4ï¼‰â€” è¾“å‡ºä¸­çš„é€šé“æ•°ã€‚

+   `down_block_types`ï¼ˆ`Tuple[str]`ï¼Œ*å¯é€‰*ï¼Œé»˜è®¤ä¸º`("CrossAttnDownBlock2D", "CrossAttnDownBlock2D", "CrossAttnDownBlock2D", "DownBlock2D")`ï¼‰â€” è¦ä½¿ç”¨çš„ä¸‹é‡‡æ ·å—çš„å…ƒç»„ã€‚

+   `up_block_types`ï¼ˆ`Tuple[str]`ï¼Œ*å¯é€‰*ï¼Œé»˜è®¤ä¸º`("UpBlock2D", "CrossAttnUpBlock2D", "CrossAttnUpBlock2D", "CrossAttnUpBlock2D")`ï¼‰â€” è¦ä½¿ç”¨çš„ä¸Šé‡‡æ ·å—çš„å…ƒç»„ã€‚

+   `block_out_channels`ï¼ˆ`Tuple[int]`ï¼Œ*å¯é€‰*ï¼Œé»˜è®¤ä¸º`(320, 640, 1280, 1280)`ï¼‰â€” æ¯ä¸ªå—çš„è¾“å‡ºé€šé“çš„å…ƒç»„ã€‚

+   `layers_per_block`ï¼ˆ`int`ï¼Œ*å¯é€‰*ï¼Œé»˜è®¤ä¸º 2ï¼‰â€” æ¯ä¸ªå—çš„å±‚æ•°ã€‚

+   `downsample_padding`ï¼ˆ`int`ï¼Œ*å¯é€‰*ï¼Œé»˜è®¤ä¸º 1ï¼‰â€” ç”¨äºä¸‹é‡‡æ ·å·ç§¯çš„å¡«å……ã€‚

+   `mid_block_scale_factor`ï¼ˆ`float`ï¼Œ*å¯é€‰*ï¼Œé»˜è®¤ä¸º 1.0ï¼‰â€” ç”¨äºä¸­é—´å—çš„æ¯”ä¾‹å› å­ã€‚

+   `act_fn`ï¼ˆ`str`ï¼Œ*å¯é€‰*ï¼Œé»˜è®¤ä¸º`"silu"`) â€” è¦ä½¿ç”¨çš„æ¿€æ´»å‡½æ•°ã€‚

+   `norm_num_groups`ï¼ˆ`int`ï¼Œ*å¯é€‰*ï¼Œé»˜è®¤ä¸º 32ï¼‰â€” ç”¨äºè§„èŒƒåŒ–çš„ç»„æ•°ã€‚å¦‚æœä¸º`None`ï¼Œåˆ™åœ¨åå¤„ç†ä¸­è·³è¿‡è§„èŒƒåŒ–å’Œæ¿€æ´»å±‚ã€‚

+   `norm_eps`ï¼ˆ`float`ï¼Œ*å¯é€‰*ï¼Œé»˜è®¤ä¸º 1e-5ï¼‰â€” ç”¨äºè§„èŒƒåŒ–çš„Îµã€‚

+   `cross_attention_dim`ï¼ˆ`int`ï¼Œ*å¯é€‰*ï¼Œé»˜è®¤ä¸º 1280ï¼‰â€” äº¤å‰æ³¨æ„åŠ›ç‰¹å¾çš„ç»´åº¦ã€‚

+   `attention_head_dim`ï¼ˆ`int`ï¼Œ*å¯é€‰*ï¼Œé»˜è®¤ä¸º 8ï¼‰â€” æ³¨æ„åŠ›å¤´çš„ç»´åº¦ã€‚

+   `num_attention_heads`ï¼ˆ`int`ï¼Œ*å¯é€‰*ï¼‰â€” æ³¨æ„åŠ›å¤´çš„æ•°é‡ã€‚

ä¸€ä¸ªæœ‰æ¡ä»¶çš„ 3D UNet æ¨¡å‹ï¼Œæ¥å—ä¸€ä¸ªå˜ˆæ‚çš„æ ·æœ¬ã€æ¡ä»¶çŠ¶æ€å’Œä¸€ä¸ªæ—¶é—´æ­¥ï¼Œå¹¶è¿”å›ä¸€ä¸ªå½¢çŠ¶ä¸ºæ ·æœ¬çš„è¾“å‡ºã€‚

æ­¤æ¨¡å‹ç»§æ‰¿è‡ª ModelMixinã€‚æŸ¥çœ‹è¶…ç±»æ–‡æ¡£ï¼Œäº†è§£ä¸ºæ‰€æœ‰æ¨¡å‹å®ç°çš„é€šç”¨æ–¹æ³•ï¼ˆå¦‚ä¸‹è½½æˆ–ä¿å­˜ï¼‰ã€‚

#### `disable_freeu`

[<æ¥æº>](https://github.com/huggingface/diffusers/blob/v0.26.3/src/diffusers/models/unets/unet_3d_condition.py#L498)

```py
( )
```

ç¦ç”¨ FreeU æœºåˆ¶ã€‚

#### `enable_forward_chunking`

[<æ¥æº>](https://github.com/huggingface/diffusers/blob/v0.26.3/src/diffusers/models/unets/unet_3d_condition.py#L412)

```py
( chunk_size: Optional = None dim: int = 0 )
```

å‚æ•°

+   `chunk_size`ï¼ˆ`int`ï¼Œ*å¯é€‰*ï¼‰â€”å‰é¦ˆå±‚çš„åˆ†å—å¤§å°ã€‚å¦‚æœæœªæŒ‡å®šï¼Œå°†åœ¨ dim=`dim`çš„æ¯ä¸ªå¼ é‡ä¸Šå•ç‹¬è¿è¡Œå‰é¦ˆå±‚ã€‚

+   `dim`ï¼ˆ`int`ï¼Œ*å¯é€‰*ï¼Œé»˜è®¤ä¸º`0`ï¼‰â€”åº”è¯¥å¯¹å…¶è¿›è¡Œåˆ†å—çš„å‰é¦ˆè®¡ç®—çš„ç»´åº¦ã€‚åœ¨ dim=0ï¼ˆæ‰¹å¤„ç†ï¼‰æˆ– dim=1ï¼ˆåºåˆ—é•¿åº¦ï¼‰ä¹‹é—´è¿›è¡Œé€‰æ‹©ã€‚

å°†æ³¨æ„åŠ›å¤„ç†å™¨è®¾ç½®ä¸ºä½¿ç”¨[å‰é¦ˆåˆ†å—](https://huggingface.co/blog/reformer#2-chunked-feed-forward-layers)ã€‚

#### `enable_freeu`

[<æ¥æº>](https://github.com/huggingface/diffusers/blob/v0.26.3/src/diffusers/models/unets/unet_3d_condition.py#L473)

```py
( s1 s2 b1 b2 )
```

å‚æ•°

+   `s1`ï¼ˆ`float`ï¼‰â€”é˜¶æ®µ 1 çš„ç¼©æ”¾å› å­ï¼Œç”¨äºå‡å¼±è·³è¿‡ç‰¹å¾çš„è´¡çŒ®ã€‚è¿™æ ·åšæ˜¯ä¸ºäº†å‡è½»å¢å¼ºå»å™ªè¿‡ç¨‹ä¸­çš„â€œè¿‡åº¦å¹³æ»‘æ•ˆåº”â€ã€‚

+   `s2`ï¼ˆ`float`ï¼‰â€”é˜¶æ®µ 2 çš„ç¼©æ”¾å› å­ï¼Œç”¨äºå‡å¼±è·³è¿‡ç‰¹å¾çš„è´¡çŒ®ã€‚è¿™æ ·åšæ˜¯ä¸ºäº†å‡è½»å¢å¼ºå»å™ªè¿‡ç¨‹ä¸­çš„â€œè¿‡åº¦å¹³æ»‘æ•ˆåº”â€ã€‚

+   `b1`ï¼ˆ`float`ï¼‰â€”é˜¶æ®µ 1 çš„ç¼©æ”¾å› å­ï¼Œç”¨äºæ”¾å¤§éª¨å¹²ç‰¹å¾çš„è´¡çŒ®ã€‚

+   `b2`ï¼ˆ`float`ï¼‰â€”é˜¶æ®µ 2 çš„ç¼©æ”¾å› å­ï¼Œç”¨äºæ”¾å¤§éª¨å¹²ç‰¹å¾çš„è´¡çŒ®ã€‚

ä»[`arxiv.org/abs/2309.11497`](https://arxiv.org/abs/2309.11497)å¯ç”¨ FreeU æœºåˆ¶ã€‚

ç¼©æ”¾å› å­åçš„åç¼€è¡¨ç¤ºå®ƒä»¬è¢«åº”ç”¨çš„é˜¶æ®µå—ã€‚

è¯·å‚è€ƒ[å®˜æ–¹å­˜å‚¨åº“](https://github.com/ChenyangSi/FreeU)ï¼Œäº†è§£å·²çŸ¥é€‚ç”¨äºä¸åŒæµæ°´çº¿ï¼ˆå¦‚ Stable Diffusion v1ã€v2 å’Œ Stable Diffusion XLï¼‰çš„å€¼ç»„åˆã€‚

#### `forward`

[<æ¥æº>](https://github.com/huggingface/diffusers/blob/v0.26.3/src/diffusers/models/unets/unet_3d_condition.py#L518)

```py
( sample: FloatTensor timestep: Union encoder_hidden_states: Tensor class_labels: Optional = None timestep_cond: Optional = None attention_mask: Optional = None cross_attention_kwargs: Optional = None down_block_additional_residuals: Optional = None mid_block_additional_residual: Optional = None return_dict: bool = True ) â†’ export const metadata = 'undefined';~models.unet_3d_condition.UNet3DConditionOutput or tuple
```

å‚æ•°

+   `sample`ï¼ˆ`torch.FloatTensor`ï¼‰â€”å¸¦æœ‰ä»¥ä¸‹å½¢çŠ¶çš„å˜ˆæ‚è¾“å…¥å¼ é‡`(batch, num_frames, channel, height, width)`ã€‚

+   `timestep`ï¼ˆ`torch.FloatTensor`æˆ–`float`æˆ–`int`ï¼‰â€”å»å™ªè¾“å…¥çš„æ—¶é—´æ­¥æ•°ã€‚

+   `encoder_hidden_states`ï¼ˆ`torch.FloatTensor`ï¼‰â€”å½¢çŠ¶ä¸º`(batch, sequence_length, feature_dim)`çš„ç¼–ç å™¨éšè—çŠ¶æ€ã€‚

+   `class_labels`ï¼ˆ`torch.Tensor`ï¼Œ*å¯é€‰*ï¼Œé»˜è®¤ä¸º`None`ï¼‰â€”ç”¨äºæ¡ä»¶åŒ–çš„å¯é€‰ç±»æ ‡ç­¾ã€‚å®ƒä»¬çš„åµŒå…¥å°†ä¸æ—¶é—´æ­¥åµŒå…¥ç›¸åŠ ã€‚timestep_condâ€”ï¼ˆ`torch.Tensor`ï¼Œ*å¯é€‰*ï¼Œé»˜è®¤ä¸º`None`ï¼‰ï¼šæ—¶é—´æ­¥çš„æ¡ä»¶åµŒå…¥ã€‚å¦‚æœæä¾›ï¼ŒåµŒå…¥å°†ä¸é€šè¿‡`self.time_embedding`å±‚ä¼ é€’çš„æ ·æœ¬ç›¸åŠ ï¼Œä»¥è·å¾—æ—¶é—´æ­¥åµŒå…¥ã€‚

+   `attention_mask`ï¼ˆ`torch.Tensor`ï¼Œ*å¯é€‰*ï¼Œé»˜è®¤ä¸º`None`ï¼‰â€”å½¢çŠ¶ä¸º`(batch, key_tokens)`çš„æ³¨æ„åŠ›æ©ç åº”ç”¨äº`encoder_hidden_states`ã€‚å¦‚æœä¸º`1`ï¼Œåˆ™ä¿ç•™æ©ç ï¼Œå¦åˆ™å¦‚æœä¸º`0`ï¼Œåˆ™ä¸¢å¼ƒã€‚æ©ç å°†è¢«è½¬æ¢ä¸ºåç½®ï¼Œå°†å¤§çš„è´Ÿå€¼æ·»åŠ åˆ°ä¸â€œä¸¢å¼ƒâ€æ ‡è®°å¯¹åº”çš„æ³¨æ„åŠ›åˆ†æ•°ä¸­ã€‚

+   `cross_attention_kwargs`ï¼ˆ`dict`ï¼Œ*å¯é€‰*ï¼‰- å¦‚æœæŒ‡å®šï¼Œåˆ™ä¼ é€’ç»™`AttentionProcessor`çš„ kwargs å­—å…¸ï¼Œå¦‚åœ¨[diffusers.models.attention_processor](https://github.com/huggingface/diffusers/blob/main/src/diffusers/models/attention_processor.py)ä¸­çš„`self.processor`ä¸‹å®šä¹‰çš„ã€‚down_block_additional_residuals â€” (`torch.Tensor`çš„`tuple`ï¼Œ*å¯é€‰*ï¼‰ï¼šå¦‚æœæŒ‡å®šï¼Œåˆ™æ·»åŠ åˆ°ä¸‹è¡Œ unet å—çš„æ®‹å·®ä¸­çš„å¼ é‡çš„å…ƒç»„ã€‚mid_block_additional_residual â€” (`torch.Tensor`ï¼Œ*å¯é€‰*ï¼‰ï¼šå¦‚æœæŒ‡å®šï¼Œåˆ™æ·»åŠ åˆ°ä¸­é—´ unet å—çš„æ®‹å·®ä¸­çš„å¼ é‡ã€‚

+   `return_dict`ï¼ˆ`bool`ï¼Œ*å¯é€‰*ï¼Œé»˜è®¤ä¸º`True`ï¼‰- æ˜¯å¦è¿”å›ä¸€ä¸ª`~models.unet_3d_condition.UNet3DConditionOutput`è€Œä¸æ˜¯ä¸€ä¸ªæ™®é€šçš„å…ƒç»„ã€‚

+   `cross_attention_kwargs`ï¼ˆ`dict`ï¼Œ*å¯é€‰*ï¼‰- å¦‚æœæŒ‡å®šï¼Œåˆ™ä¼ é€’ç»™`AttnProcessor`çš„ kwargs å­—å…¸ã€‚

è¿”å›

`~models.unet_3d_condition.UNet3DConditionOutput`æˆ–`tuple`

å¦‚æœ`return_dict`ä¸º Trueï¼Œåˆ™è¿”å›ä¸€ä¸ª`~models.unet_3d_condition.UNet3DConditionOutput`ï¼Œå¦åˆ™è¿”å›ä¸€ä¸ªå…ƒç»„ï¼Œå…¶ä¸­ç¬¬ä¸€ä¸ªå…ƒç´ æ˜¯æ ·æœ¬å¼ é‡ã€‚

UNet3DConditionModel çš„å‰å‘æ–¹æ³•ã€‚

#### `set_attention_slice`

[<æ¥æº>](https://github.com/huggingface/diffusers/blob/v0.26.3/src/diffusers/models/unets/unet_3d_condition.py#L312)

```py
( slice_size: Union )
```

å‚æ•°

+   `slice_size`ï¼ˆ`str`æˆ–`int`æˆ–`list(int)`ï¼Œ*å¯é€‰*ï¼Œé»˜è®¤ä¸º`"auto"`ï¼‰- å½“ä¸º`"auto"`æ—¶ï¼Œæ³¨æ„åŠ›å¤´çš„è¾“å…¥å‡åŠï¼Œå› æ­¤æ³¨æ„åŠ›åœ¨ä¸¤ä¸ªæ­¥éª¤ä¸­è®¡ç®—ã€‚å¦‚æœä¸º`"max"`ï¼Œé€šè¿‡ä¸€æ¬¡åªè¿è¡Œä¸€ä¸ªåˆ‡ç‰‡æ¥èŠ‚çœæœ€å¤§å†…å­˜ã€‚å¦‚æœæä¾›äº†ä¸€ä¸ªæ•°å­—ï¼Œåˆ™ä½¿ç”¨`attention_head_dim // slice_size`ä¸ªåˆ‡ç‰‡ã€‚åœ¨è¿™ç§æƒ…å†µä¸‹ï¼Œ`attention_head_dim`å¿…é¡»æ˜¯`slice_size`çš„å€æ•°ã€‚

å¯ç”¨åˆ‡ç‰‡æ³¨æ„åŠ›è®¡ç®—ã€‚

å½“å¯ç”¨æ­¤é€‰é¡¹æ—¶ï¼Œæ³¨æ„åŠ›æ¨¡å—å°†è¾“å…¥å¼ é‡åˆ†å‰²æˆç‰‡æ®µï¼Œä»¥ä¾¿åœ¨å¤šä¸ªæ­¥éª¤ä¸­è®¡ç®—æ³¨æ„åŠ›ã€‚è¿™å¯¹äºåœ¨èŠ‚çœä¸€äº›å†…å­˜çš„åŒæ—¶æ¢å–ä¸€ç‚¹é€Ÿåº¦ä¸‹é™æ˜¯æœ‰ç”¨çš„ã€‚

#### `set_attn_processor`

[<æ¥æº>](https://github.com/huggingface/diffusers/blob/v0.26.3/src/diffusers/models/unets/unet_3d_condition.py#L378)

```py
( processor: Union )
```

å‚æ•°

+   `processor`ï¼ˆ`dict`ï¼ŒåŒ…å«`AttentionProcessor`æˆ–ä»…`AttentionProcessor`ï¼‰- å®ä¾‹åŒ–çš„å¤„ç†å™¨ç±»æˆ–å°†è®¾ç½®ä¸º**æ‰€æœ‰**`Attention`å±‚çš„å¤„ç†å™¨çš„å¤„ç†å™¨ç±»å­—å…¸ã€‚

    å¦‚æœ`processor`æ˜¯ä¸€ä¸ªå­—å…¸ï¼Œåˆ™é”®éœ€è¦å®šä¹‰åˆ°ç›¸åº”äº¤å‰æ³¨æ„åŠ›å¤„ç†å™¨çš„è·¯å¾„ã€‚åœ¨è®¾ç½®å¯è®­ç»ƒçš„æ³¨æ„åŠ›å¤„ç†å™¨æ—¶ï¼Œå¼ºçƒˆå»ºè®®è¿™æ ·åšã€‚

è®¾ç½®ç”¨äºè®¡ç®—æ³¨æ„åŠ›çš„æ³¨æ„åŠ›å¤„ç†å™¨ã€‚

#### `set_default_attn_processor`

[<æ¥æº>](https://github.com/huggingface/diffusers/blob/v0.26.3/src/diffusers/models/unets/unet_3d_condition.py#L453)

```py
( )
```

ç¦ç”¨è‡ªå®šä¹‰æ³¨æ„åŠ›å¤„ç†å™¨å¹¶è®¾ç½®é»˜è®¤çš„æ³¨æ„åŠ›å®ç°ã€‚

#### `unload_lora`

[<æ¥æº>](https://github.com/huggingface/diffusers/blob/v0.26.3/src/diffusers/models/unets/unet_3d_condition.py#L507)

```py
( )
```

å¸è½½ LoRA æƒé‡ã€‚

## UNet3DConditionOutput

### `class diffusers.models.unets.unet_3d_condition.UNet3DConditionOutput`

[<æ¥æº>](https://github.com/huggingface/diffusers/blob/v0.26.3/src/diffusers/models/unets/unet_3d_condition.py#L51)

```py
( sample: FloatTensor )
```

å‚æ•°

+   `sample`ï¼ˆå½¢çŠ¶ä¸º`(batch_size, num_frames, num_channels, height, width)`çš„`torch.FloatTensor`ï¼‰- åœ¨`encoder_hidden_states`è¾“å…¥æ¡ä»¶ä¸‹çš„éšè—çŠ¶æ€è¾“å‡ºã€‚æ¨¡å‹çš„æœ€åä¸€å±‚çš„è¾“å‡ºã€‚

UNet3DConditionModel çš„è¾“å‡ºã€‚
