- en: Upload files to the Hub
  id: totrans-0
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: ä¸Šä¼ æ–‡ä»¶åˆ°Hub
- en: 'Original text: [https://huggingface.co/docs/huggingface_hub/guides/upload](https://huggingface.co/docs/huggingface_hub/guides/upload)'
  id: totrans-1
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
  zh: åŸå§‹æ–‡æœ¬ï¼š[https://huggingface.co/docs/huggingface_hub/guides/upload](https://huggingface.co/docs/huggingface_hub/guides/upload)
- en: null
  id: totrans-2
  prefs: []
  type: TYPE_NORMAL
- en: 'Sharing your files and work is an important aspect of the Hub. The `huggingface_hub`
    offers several options for uploading your files to the Hub. You can use these
    functions independently or integrate them into your library, making it more convenient
    for your users to interact with the Hub. This guide will show you how to push
    files:'
  id: totrans-3
  prefs: []
  type: TYPE_NORMAL
  zh: åˆ†äº«æ‚¨çš„æ–‡ä»¶å’Œå·¥ä½œæ˜¯Hubçš„é‡è¦æ–¹é¢ã€‚`huggingface_hub`ä¸ºå°†æ–‡ä»¶ä¸Šä¼ åˆ°Hubæä¾›äº†å‡ ç§é€‰é¡¹ã€‚æ‚¨å¯ä»¥ç‹¬ç«‹ä½¿ç”¨è¿™äº›åŠŸèƒ½ï¼Œä¹Ÿå¯ä»¥å°†å®ƒä»¬é›†æˆåˆ°æ‚¨çš„åº“ä¸­ï¼Œä½¿ç”¨æˆ·æ›´æ–¹ä¾¿åœ°ä¸Hubäº¤äº’ã€‚æœ¬æŒ‡å—å°†å‘æ‚¨å±•ç¤ºå¦‚ä½•æ¨é€æ–‡ä»¶ï¼š
- en: without using Git.
  id: totrans-4
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: ä¸ä½¿ç”¨Gitã€‚
- en: that are very large with [Git LFS](https://git-lfs.github.com/).
  id: totrans-5
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: å¯¹äºéå¸¸å¤§çš„æ–‡ä»¶ï¼Œå¯ä»¥ä½¿ç”¨[Git LFS](https://git-lfs.github.com/)ã€‚
- en: with the `commit` context manager.
  id: totrans-6
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: ä½¿ç”¨`commit`ä¸Šä¸‹æ–‡ç®¡ç†å™¨ã€‚
- en: with the [push_to_hub()](/docs/huggingface_hub/v0.20.3/en/package_reference/repository#huggingface_hub.Repository.push_to_hub)
    function.
  id: totrans-7
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: ä½¿ç”¨[push_to_hub()](/docs/huggingface_hub/v0.20.3/en/package_reference/repository#huggingface_hub.Repository.push_to_hub)å‡½æ•°ã€‚
- en: Whenever you want to upload files to the Hub, you need to log in to your Hugging
    Face account. For more details about authentication, check out [this section](../quick-start#authentication).
  id: totrans-8
  prefs: []
  type: TYPE_NORMAL
  zh: æ¯å½“æ‚¨æƒ³è¦å°†æ–‡ä»¶ä¸Šä¼ åˆ°Hubæ—¶ï¼Œæ‚¨éœ€è¦ç™»å½•åˆ°æ‚¨çš„Hugging Faceå¸æˆ·ã€‚æœ‰å…³èº«ä»½éªŒè¯çš„æ›´å¤šè¯¦ç»†ä¿¡æ¯ï¼Œè¯·æŸ¥çœ‹[æ­¤éƒ¨åˆ†](../quick-start#authentication)ã€‚
- en: Upload a file
  id: totrans-9
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: ä¸Šä¼ æ–‡ä»¶
- en: Once youâ€™ve created a repository with [create_repo()](/docs/huggingface_hub/v0.20.3/en/package_reference/hf_api#huggingface_hub.HfApi.create_repo),
    you can upload a file to your repository using [upload_file()](/docs/huggingface_hub/v0.20.3/en/package_reference/hf_api#huggingface_hub.HfApi.upload_file).
  id: totrans-10
  prefs: []
  type: TYPE_NORMAL
  zh: åˆ›å»ºäº†ä¸€ä¸ªå­˜å‚¨åº“åï¼Œæ‚¨å¯ä»¥ä½¿ç”¨[upload_file()](/docs/huggingface_hub/v0.20.3/en/package_reference/hf_api#huggingface_hub.HfApi.upload_file)å°†æ–‡ä»¶ä¸Šä¼ åˆ°æ‚¨çš„å­˜å‚¨åº“ã€‚
- en: Specify the path of the file to upload, where you want to upload the file to
    in the repository, and the name of the repository you want to add the file to.
    Depending on your repository type, you can optionally set the repository type
    as a `dataset`, `model`, or `space`.
  id: totrans-11
  prefs: []
  type: TYPE_NORMAL
  zh: æŒ‡å®šè¦ä¸Šä¼ çš„æ–‡ä»¶çš„è·¯å¾„ï¼Œåœ¨å­˜å‚¨åº“ä¸­è¦ä¸Šä¼ æ–‡ä»¶çš„ä½ç½®ï¼Œä»¥åŠè¦å°†æ–‡ä»¶æ·»åŠ åˆ°çš„å­˜å‚¨åº“çš„åç§°ã€‚æ ¹æ®æ‚¨çš„å­˜å‚¨åº“ç±»å‹ï¼Œæ‚¨å¯ä»¥é€‰æ‹©å°†å­˜å‚¨åº“ç±»å‹è®¾ç½®ä¸º`dataset`ã€`model`æˆ–`space`ã€‚
- en: '[PRE0]'
  id: totrans-12
  prefs: []
  type: TYPE_PRE
  zh: '[PRE0]'
- en: Upload a folder
  id: totrans-13
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: ä¸Šä¼ æ–‡ä»¶å¤¹
- en: Use the [upload_folder()](/docs/huggingface_hub/v0.20.3/en/package_reference/hf_api#huggingface_hub.HfApi.upload_folder)
    function to upload a local folder to an existing repository. Specify the path
    of the local folder to upload, where you want to upload the folder to in the repository,
    and the name of the repository you want to add the folder to. Depending on your
    repository type, you can optionally set the repository type as a `dataset`, `model`,
    or `space`.
  id: totrans-14
  prefs: []
  type: TYPE_NORMAL
  zh: ä½¿ç”¨[upload_folder()](/docs/huggingface_hub/v0.20.3/en/package_reference/hf_api#huggingface_hub.HfApi.upload_folder)å‡½æ•°å°†æœ¬åœ°æ–‡ä»¶å¤¹ä¸Šä¼ åˆ°ç°æœ‰å­˜å‚¨åº“ã€‚æŒ‡å®šè¦ä¸Šä¼ çš„æœ¬åœ°æ–‡ä»¶å¤¹çš„è·¯å¾„ï¼Œåœ¨å­˜å‚¨åº“ä¸­è¦ä¸Šä¼ æ–‡ä»¶å¤¹çš„ä½ç½®ï¼Œä»¥åŠè¦å°†æ–‡ä»¶å¤¹æ·»åŠ åˆ°çš„å­˜å‚¨åº“çš„åç§°ã€‚æ ¹æ®æ‚¨çš„å­˜å‚¨åº“ç±»å‹ï¼Œæ‚¨å¯ä»¥é€‰æ‹©å°†å­˜å‚¨åº“ç±»å‹è®¾ç½®ä¸º`dataset`ã€`model`æˆ–`space`ã€‚
- en: '[PRE1]'
  id: totrans-15
  prefs: []
  type: TYPE_PRE
  zh: '[PRE1]'
- en: By default, the `.gitignore` file will be taken into account to know which files
    should be committed or not. By default we check if a `.gitignore` file is present
    in a commit, and if not, we check if it exists on the Hub. Please be aware that
    only a `.gitignore` file present at the root of the directory with be used. We
    do not check for `.gitignore` files in subdirectories.
  id: totrans-16
  prefs: []
  type: TYPE_NORMAL
  zh: é»˜è®¤æƒ…å†µä¸‹ï¼Œå°†è€ƒè™‘`.gitignore`æ–‡ä»¶ä»¥ç¡®å®šåº”æäº¤å“ªäº›æ–‡ä»¶ã€‚é»˜è®¤æƒ…å†µä¸‹ï¼Œæˆ‘ä»¬ä¼šæ£€æŸ¥æäº¤ä¸­æ˜¯å¦å­˜åœ¨`.gitignore`æ–‡ä»¶ï¼Œå¦‚æœæ²¡æœ‰ï¼Œåˆ™ä¼šæ£€æŸ¥Hubä¸Šæ˜¯å¦å­˜åœ¨ã€‚è¯·æ³¨æ„ï¼Œåªæœ‰æ ¹ç›®å½•ä¸­å­˜åœ¨çš„`.gitignore`æ–‡ä»¶æ‰ä¼šè¢«ä½¿ç”¨ã€‚æˆ‘ä»¬ä¸ä¼šæ£€æŸ¥å­ç›®å½•ä¸­çš„`.gitignore`æ–‡ä»¶ã€‚
- en: If you donâ€™t want to use an hardcoded `.gitignore` file, you can use the `allow_patterns`
    and `ignore_patterns` arguments to filter which files to upload. These parameters
    accept either a single pattern or a list of patterns. Patterns are Standard Wildcards
    (globbing patterns) as documented [here](https://tldp.org/LDP/GNU-Linux-Tools-Summary/html/x11655.htm).
    If both `allow_patterns` and `ignore_patterns` are provided, both constraints
    apply.
  id: totrans-17
  prefs: []
  type: TYPE_NORMAL
  zh: å¦‚æœæ‚¨ä¸æƒ³ä½¿ç”¨ç¡¬ç¼–ç çš„`.gitignore`æ–‡ä»¶ï¼Œå¯ä»¥ä½¿ç”¨`allow_patterns`å’Œ`ignore_patterns`å‚æ•°æ¥è¿‡æ»¤è¦ä¸Šä¼ çš„æ–‡ä»¶ã€‚è¿™äº›å‚æ•°æ¥å—å•ä¸ªæ¨¡å¼æˆ–æ¨¡å¼åˆ—è¡¨ã€‚æ¨¡å¼æ˜¯æ ‡å‡†é€šé…ç¬¦ï¼ˆglobbing
    patternsï¼‰ï¼Œå¦‚[æ­¤å¤„](https://tldp.org/LDP/GNU-Linux-Tools-Summary/html/x11655.htm)æ‰€è¿°ã€‚å¦‚æœåŒæ—¶æä¾›`allow_patterns`å’Œ`ignore_patterns`ï¼Œåˆ™ä¸¤ä¸ªçº¦æŸéƒ½é€‚ç”¨ã€‚
- en: Beside the `.gitignore` file and allow/ignore patterns, any `.git/` folder present
    in any subdirectory will be ignored.
  id: totrans-18
  prefs: []
  type: TYPE_NORMAL
  zh: é™¤äº†`.gitignore`æ–‡ä»¶å’Œå…è®¸/å¿½ç•¥æ¨¡å¼å¤–ï¼Œä»»ä½•å­ç›®å½•ä¸­å­˜åœ¨çš„`.git/`æ–‡ä»¶å¤¹éƒ½å°†è¢«å¿½ç•¥ã€‚
- en: '[PRE2]'
  id: totrans-19
  prefs: []
  type: TYPE_PRE
  zh: '[PRE2]'
- en: You can also use the `delete_patterns` argument to specify files you want to
    delete from the repo in the same commit. This can prove useful if you want to
    clean a remote folder before pushing files in it and you donâ€™t know which files
    already exists.
  id: totrans-20
  prefs: []
  type: TYPE_NORMAL
  zh: æ‚¨è¿˜å¯ä»¥ä½¿ç”¨`delete_patterns`å‚æ•°æŒ‡å®šè¦åœ¨åŒä¸€æäº¤ä¸­ä»å­˜å‚¨åº“ä¸­åˆ é™¤çš„æ–‡ä»¶ã€‚å¦‚æœæ‚¨æƒ³è¦åœ¨æ¨é€æ–‡ä»¶ä¹‹å‰æ¸…ç†è¿œç¨‹æ–‡ä»¶å¤¹å¹¶ä¸”ä¸çŸ¥é“å“ªäº›æ–‡ä»¶å·²ç»å­˜åœ¨ï¼Œè¿™å¯èƒ½ä¼šå¾ˆæœ‰ç”¨ã€‚
- en: The example below uploads the local `./logs` folder to the remote `/experiment/logs/`
    folder. Only txt files are uploaded but before that, all previous logs on the
    repo on deleted. All of this in a single commit.
  id: totrans-21
  prefs: []
  type: TYPE_NORMAL
  zh: ä¸‹é¢çš„ç¤ºä¾‹å°†æœ¬åœ°çš„`./logs`æ–‡ä»¶å¤¹ä¸Šä¼ åˆ°è¿œç¨‹çš„`/experiment/logs/`æ–‡ä»¶å¤¹ã€‚åªæœ‰txtæ–‡ä»¶è¢«ä¸Šä¼ ï¼Œä½†åœ¨æ­¤ä¹‹å‰ï¼Œå­˜å‚¨åº“ä¸­çš„æ‰€æœ‰å…ˆå‰æ—¥å¿—éƒ½è¢«åˆ é™¤ã€‚æ‰€æœ‰è¿™äº›éƒ½åœ¨ä¸€ä¸ªæäº¤ä¸­å®Œæˆã€‚
- en: '[PRE3]'
  id: totrans-22
  prefs: []
  type: TYPE_PRE
  zh: '[PRE3]'
- en: Upload from the CLI
  id: totrans-23
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: ä»CLIä¸Šä¼ 
- en: You can use the `huggingface-cli upload` command from the terminal to directly
    upload files to the Hub. Internally it uses the same [upload_file()](/docs/huggingface_hub/v0.20.3/en/package_reference/hf_api#huggingface_hub.HfApi.upload_file)
    and [upload_folder()](/docs/huggingface_hub/v0.20.3/en/package_reference/hf_api#huggingface_hub.HfApi.upload_folder)
    helpers described above.
  id: totrans-24
  prefs: []
  type: TYPE_NORMAL
  zh: æ‚¨å¯ä»¥ä½¿ç”¨ç»ˆç«¯ä¸­çš„`huggingface-cli upload`å‘½ä»¤ç›´æ¥å°†æ–‡ä»¶ä¸Šä¼ åˆ°Hubã€‚å†…éƒ¨ä½¿ç”¨ä¸Šè¿°æè¿°çš„ç›¸åŒ[upload_file()](/docs/huggingface_hub/v0.20.3/en/package_reference/hf_api#huggingface_hub.HfApi.upload_file)å’Œ[upload_folder()](/docs/huggingface_hub/v0.20.3/en/package_reference/hf_api#huggingface_hub.HfApi.upload_folder)åŠ©æ‰‹ã€‚
- en: 'You can either upload a single file or an entire folder:'
  id: totrans-25
  prefs: []
  type: TYPE_NORMAL
  zh: æ‚¨å¯ä»¥ä¸Šä¼ å•ä¸ªæ–‡ä»¶æˆ–æ•´ä¸ªæ–‡ä»¶å¤¹ï¼š
- en: '[PRE4]'
  id: totrans-26
  prefs: []
  type: TYPE_PRE
  zh: '[PRE4]'
- en: '`local_path` and `path_in_repo` are optional and can be implicitly inferred.
    If `local_path` is not set, the tool will check if a local folder or file has
    the same name as the `repo_id`. If thatâ€™s the case, its content will be uploaded.
    Otherwise, an exception is raised asking the user to explicitly set `local_path`.
    In any case, if `path_in_repo` is not set, files are uploaded at the root of the
    repo.'
  id: totrans-27
  prefs: []
  type: TYPE_NORMAL
  zh: '`local_path`å’Œ`path_in_repo`æ˜¯å¯é€‰çš„ï¼Œå¯ä»¥è¢«éšå¼æ¨æ–­ã€‚å¦‚æœæœªè®¾ç½®`local_path`ï¼Œåˆ™å·¥å…·å°†æ£€æŸ¥æœ¬åœ°æ–‡ä»¶å¤¹æˆ–æ–‡ä»¶æ˜¯å¦ä¸`repo_id`å…·æœ‰ç›¸åŒçš„åç§°ã€‚å¦‚æœæ˜¯è¿™æ ·ï¼Œå…¶å†…å®¹å°†è¢«ä¸Šä¼ ã€‚å¦åˆ™ï¼Œå°†å¼•å‘å¼‚å¸¸ï¼Œè¦æ±‚ç”¨æˆ·æ˜ç¡®è®¾ç½®`local_path`ã€‚æ— è®ºå¦‚ä½•ï¼Œå¦‚æœæœªè®¾ç½®`path_in_repo`ï¼Œæ–‡ä»¶å°†è¢«ä¸Šä¼ åˆ°å­˜å‚¨åº“çš„æ ¹ç›®å½•ã€‚'
- en: For more details about the CLI upload command, please refer to the [CLI guide](./cli#huggingface-cli-upload).
  id: totrans-28
  prefs: []
  type: TYPE_NORMAL
  zh: æœ‰å…³CLIä¸Šä¼ å‘½ä»¤çš„æ›´å¤šè¯¦ç»†ä¿¡æ¯ï¼Œè¯·å‚è€ƒ[CLIæŒ‡å—](./cli#huggingface-cli-upload)ã€‚
- en: Advanced features
  id: totrans-29
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: é«˜çº§åŠŸèƒ½
- en: In most cases, you wonâ€™t need more than [upload_file()](/docs/huggingface_hub/v0.20.3/en/package_reference/hf_api#huggingface_hub.HfApi.upload_file)
    and [upload_folder()](/docs/huggingface_hub/v0.20.3/en/package_reference/hf_api#huggingface_hub.HfApi.upload_folder)
    to upload your files to the Hub. However, `huggingface_hub` has more advanced
    features to make things easier. Letâ€™s have a look at them!
  id: totrans-30
  prefs: []
  type: TYPE_NORMAL
  zh: åœ¨å¤§å¤šæ•°æƒ…å†µä¸‹ï¼Œæ‚¨ä¸éœ€è¦æ›´å¤šçš„[upload_file()](/docs/huggingface_hub/v0.20.3/en/package_reference/hf_api#huggingface_hub.HfApi.upload_file)å’Œ[upload_folder()](/docs/huggingface_hub/v0.20.3/en/package_reference/hf_api#huggingface_hub.HfApi.upload_folder)æ¥å°†æ–‡ä»¶ä¸Šä¼ åˆ°Hubã€‚ç„¶è€Œï¼Œ`huggingface_hub`å…·æœ‰æ›´å¤šé«˜çº§åŠŸèƒ½ï¼Œä½¿äº‹æƒ…å˜å¾—æ›´å®¹æ˜“ã€‚è®©æˆ‘ä»¬æ¥çœ‹çœ‹å®ƒä»¬ï¼
- en: Non-blocking uploads
  id: totrans-31
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: éé˜»å¡ä¸Šä¼ 
- en: In some cases, you want to push data without blocking your main thread. This
    is particularly useful to upload logs and artifacts while continuing a training.
    To do so, you can use the `run_as_future` argument in both [upload_file()](/docs/huggingface_hub/v0.20.3/en/package_reference/hf_api#huggingface_hub.HfApi.upload_file)
    and [upload_folder()](/docs/huggingface_hub/v0.20.3/en/package_reference/hf_api#huggingface_hub.HfApi.upload_folder).
    This will return a [`concurrent.futures.Future`](https://docs.python.org/3/library/concurrent.futures.html#future-objects)
    object that you can use to check the status of the upload.
  id: totrans-32
  prefs: []
  type: TYPE_NORMAL
  zh: åœ¨æŸäº›æƒ…å†µä¸‹ï¼Œæ‚¨å¸Œæœ›åœ¨ä¸é˜»å¡ä¸»çº¿ç¨‹çš„æƒ…å†µä¸‹æ¨é€æ•°æ®ã€‚è¿™å¯¹äºåœ¨ç»§ç»­è®­ç»ƒçš„åŒæ—¶ä¸Šä¼ æ—¥å¿—å’Œå·¥ä»¶ç‰¹åˆ«æœ‰ç”¨ã€‚ä¸ºæ­¤ï¼Œæ‚¨å¯ä»¥åœ¨[upload_file()](/docs/huggingface_hub/v0.20.3/en/package_reference/hf_api#huggingface_hub.HfApi.upload_file)å’Œ[upload_folder()](/docs/huggingface_hub/v0.20.3/en/package_reference/hf_api#huggingface_hub.HfApi.upload_folder)ä¸­ä½¿ç”¨`run_as_future`å‚æ•°ã€‚è¿™å°†è¿”å›ä¸€ä¸ª[`concurrent.futures.Future`](https://docs.python.org/3/library/concurrent.futures.html#future-objects)å¯¹è±¡ï¼Œæ‚¨å¯ä»¥ä½¿ç”¨å®ƒæ¥æ£€æŸ¥ä¸Šä¼ çš„çŠ¶æ€ã€‚
- en: '[PRE5]'
  id: totrans-33
  prefs: []
  type: TYPE_PRE
  zh: '[PRE5]'
- en: Background jobs are queued when using `run_as_future=True`. This means that
    you are guaranteed that the jobs will be executed in the correct order.
  id: totrans-34
  prefs: []
  type: TYPE_NORMAL
  zh: ä½¿ç”¨`run_as_future=True`æ—¶ï¼Œåå°ä½œä¸šå°†è¢«æ’é˜Ÿã€‚è¿™æ„å‘³ç€æ‚¨å¯ä»¥ç¡®ä¿ä½œä¸šå°†æŒ‰æ­£ç¡®çš„é¡ºåºæ‰§è¡Œã€‚
- en: Even though background jobs are mostly useful to upload data/create commits,
    you can queue any method you like using [run_as_future()](/docs/huggingface_hub/v0.20.3/en/package_reference/hf_api#huggingface_hub.HfApi.run_as_future).
    For instance, you can use it to create a repo and then upload data to it in the
    background. The built-in `run_as_future` argument in upload methods is just an
    alias around it.
  id: totrans-35
  prefs: []
  type: TYPE_NORMAL
  zh: å³ä½¿åå°ä½œä¸šå¤§å¤šç”¨äºä¸Šä¼ æ•°æ®/åˆ›å»ºæäº¤ï¼Œæ‚¨ä¹Ÿå¯ä»¥ä½¿ç”¨[run_as_future()](/docs/huggingface_hub/v0.20.3/en/package_reference/hf_api#huggingface_hub.HfApi.run_as_future)æ¥æ’é˜Ÿä»»ä½•æ‚¨å–œæ¬¢çš„æ–¹æ³•ã€‚ä¾‹å¦‚ï¼Œæ‚¨å¯ä»¥ä½¿ç”¨å®ƒåœ¨åå°åˆ›å»ºä¸€ä¸ªå­˜å‚¨åº“ï¼Œç„¶åä¸Šä¼ æ•°æ®åˆ°å…¶ä¸­ã€‚ä¸Šä¼ æ–¹æ³•ä¸­å†…ç½®çš„`run_as_future`å‚æ•°åªæ˜¯å®ƒçš„ä¸€ä¸ªåˆ«åã€‚
- en: '[PRE6]'
  id: totrans-36
  prefs: []
  type: TYPE_PRE
  zh: '[PRE6]'
- en: Upload a folder by chunks
  id: totrans-37
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: æŒ‰å—ä¸Šä¼ æ–‡ä»¶å¤¹
- en: '[upload_folder()](/docs/huggingface_hub/v0.20.3/en/package_reference/hf_api#huggingface_hub.HfApi.upload_folder)
    makes it easy to upload an entire folder to the Hub. However, for large folders
    (thousands of files or hundreds of GB), it can still be challenging. If you have
    a folder with a lot of files, you might want to upload it in several commits.
    If you experience an error or a connection issue during the upload, you would
    not have to resume the process from the beginning.'
  id: totrans-38
  prefs: []
  type: TYPE_NORMAL
  zh: '[upload_folder()](/docs/huggingface_hub/v0.20.3/en/package_reference/hf_api#huggingface_hub.HfApi.upload_folder)ä½¿å¾—å°†æ•´ä¸ªæ–‡ä»¶å¤¹ä¸Šä¼ åˆ°Hubå˜å¾—å®¹æ˜“ã€‚ç„¶è€Œï¼Œå¯¹äºå¤§å‹æ–‡ä»¶å¤¹ï¼ˆæ•°åƒä¸ªæ–‡ä»¶æˆ–æ•°ç™¾GBï¼‰ï¼Œä»ç„¶å¯èƒ½å…·æœ‰æŒ‘æˆ˜æ€§ã€‚å¦‚æœæ‚¨æœ‰ä¸€ä¸ªåŒ…å«å¤§é‡æ–‡ä»¶çš„æ–‡ä»¶å¤¹ï¼Œæ‚¨å¯èƒ½å¸Œæœ›å°†å…¶åˆ†æ‰¹ä¸Šä¼ ã€‚å¦‚æœåœ¨ä¸Šä¼ è¿‡ç¨‹ä¸­é‡åˆ°é”™è¯¯æˆ–è¿æ¥é—®é¢˜ï¼Œæ‚¨å°†ä¸å¿…ä»å¤´å¼€å§‹æ¢å¤è¯¥è¿‡ç¨‹ã€‚'
- en: To upload a folder in multiple commits, just pass `multi_commits=True` as argument.
    Under the hood, `huggingface_hub` will list the files to upload/delete and split
    them in several commits. The â€œstrategyâ€ (i.e. how to split the commits) is based
    on the number and size of the files to upload. A PR is open on the Hub to push
    all the commits. Once the PR is ready, the commits are squashed into a single
    commit. If the process is interrupted before completing, you can rerun your script
    to resume the upload. The created PR will be automatically detected and the upload
    will resume from where it stopped. It is recommended to pass `multi_commits_verbose=True`
    to get a better understanding of the upload and its progress.
  id: totrans-39
  prefs: []
  type: TYPE_NORMAL
  zh: è¦å°†æ–‡ä»¶å¤¹ä¸Šä¼ åˆ°å¤šä¸ªæäº¤ä¸­ï¼Œåªéœ€å°†`multi_commits=True`ä½œä¸ºå‚æ•°ä¼ é€’ã€‚åœ¨å¹•åï¼Œ`huggingface_hub`å°†åˆ—å‡ºè¦ä¸Šä¼ /åˆ é™¤çš„æ–‡ä»¶å¹¶å°†å®ƒä»¬åˆ†æˆå‡ ä¸ªæäº¤ã€‚â€œç­–ç•¥â€ï¼ˆå³å¦‚ä½•åˆ†å‰²æäº¤ï¼‰åŸºäºè¦ä¸Šä¼ çš„æ–‡ä»¶æ•°é‡å’Œå¤§å°ã€‚åœ¨Hubä¸Šæ‰“å¼€äº†ä¸€ä¸ªPRæ¥æ¨é€æ‰€æœ‰æäº¤ã€‚ä¸€æ—¦PRå‡†å¤‡å°±ç»ªï¼Œæäº¤å°†è¢«å‹ç¼©ä¸ºå•ä¸ªæäº¤ã€‚å¦‚æœåœ¨å®Œæˆä¹‹å‰ä¸­æ–­äº†è¯¥è¿‡ç¨‹ï¼Œæ‚¨å¯ä»¥é‡æ–°è¿è¡Œè„šæœ¬ä»¥æ¢å¤ä¸Šä¼ ã€‚åˆ›å»ºçš„PRå°†è¢«è‡ªåŠ¨æ£€æµ‹åˆ°ï¼Œå¹¶ä¸”ä¸Šä¼ å°†ä»åœæ­¢çš„åœ°æ–¹ç»§ç»­ã€‚å»ºè®®ä¼ é€’`multi_commits_verbose=True`ä»¥æ›´å¥½åœ°äº†è§£ä¸Šä¼ åŠå…¶è¿›åº¦ã€‚
- en: The example below will upload the checkpoints folder to a dataset in multiple
    commits. A PR will be created on the Hub and merged automatically once the upload
    is complete. If you prefer the PR to stay open and review it manually, you can
    pass `create_pr=True`.
  id: totrans-40
  prefs: []
  type: TYPE_NORMAL
  zh: ä¸‹é¢çš„ç¤ºä¾‹å°†æŠŠæ£€æŸ¥ç‚¹æ–‡ä»¶å¤¹ä¸Šä¼ åˆ°æ•°æ®é›†ä¸­çš„å¤šä¸ªæäº¤ä¸­ã€‚åœ¨Hubä¸Šå°†åˆ›å»ºä¸€ä¸ªPRï¼Œå¹¶åœ¨ä¸Šä¼ å®Œæˆåè‡ªåŠ¨åˆå¹¶ã€‚å¦‚æœæ‚¨å¸Œæœ›PRä¿æŒæ‰“å¼€çŠ¶æ€å¹¶æ‰‹åŠ¨å®¡æŸ¥å®ƒï¼Œå¯ä»¥ä¼ é€’`create_pr=True`ã€‚
- en: '[PRE7]'
  id: totrans-41
  prefs: []
  type: TYPE_PRE
  zh: '[PRE7]'
- en: If you want a better control on the upload strategy (i.e. the commits that are
    created), you can have a look at the low-level [plan_multi_commits()](/docs/huggingface_hub/v0.20.3/en/package_reference/hf_api#huggingface_hub.plan_multi_commits)
    and [create_commits_on_pr()](/docs/huggingface_hub/v0.20.3/en/package_reference/hf_api#huggingface_hub.HfApi.create_commits_on_pr)
    methods.
  id: totrans-42
  prefs: []
  type: TYPE_NORMAL
  zh: å¦‚æœæ‚¨å¸Œæœ›æ›´å¥½åœ°æ§åˆ¶ä¸Šä¼ ç­–ç•¥ï¼ˆå³åˆ›å»ºçš„æäº¤ï¼‰ï¼Œæ‚¨å¯ä»¥æŸ¥çœ‹ä½çº§åˆ«çš„[plan_multi_commits()](/docs/huggingface_hub/v0.20.3/en/package_reference/hf_api#huggingface_hub.plan_multi_commits)å’Œ[create_commits_on_pr()](/docs/huggingface_hub/v0.20.3/en/package_reference/hf_api#huggingface_hub.HfApi.create_commits_on_pr)æ–¹æ³•ã€‚
- en: '`multi_commits` is still an experimental feature. Its API and behavior is subject
    to change in the future without prior notice.'
  id: totrans-43
  prefs: []
  type: TYPE_NORMAL
  zh: '`multi_commits`ä»ç„¶æ˜¯ä¸€ä¸ªå®éªŒæ€§åŠŸèƒ½ã€‚å…¶APIå’Œè¡Œä¸ºå¯èƒ½ä¼šåœ¨æœªæ¥å‘ç”Ÿå˜åŒ–ï¼Œæ•ä¸å¦è¡Œé€šçŸ¥ã€‚'
- en: Scheduled uploads
  id: totrans-44
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: å®šæœŸä¸Šä¼ 
- en: The Hugging Face Hub makes it easy to save and version data. However, there
    are some limitations when updating the same file thousands of times. For instance,
    you might want to save logs of a training process or user feedback on a deployed
    Space. In these cases, uploading the data as a dataset on the Hub makes sense,
    but it can be hard to do properly. The main reason is that you donâ€™t want to version
    every update of your data because itâ€™ll make the git repository unusable. The
    [CommitScheduler](/docs/huggingface_hub/v0.20.3/en/package_reference/hf_api#huggingface_hub.CommitScheduler)
    class offers a solution to this problem.
  id: totrans-45
  prefs: []
  type: TYPE_NORMAL
  zh: Hugging Face Hubä½¿ä¿å­˜å’Œç‰ˆæœ¬åŒ–æ•°æ®å˜å¾—ç®€å•ã€‚ç„¶è€Œï¼Œå½“æ›´æ–°åŒä¸€æ–‡ä»¶æ•°åƒæ¬¡æ—¶ä¼šæœ‰ä¸€äº›é™åˆ¶ã€‚ä¾‹å¦‚ï¼Œæ‚¨å¯èƒ½å¸Œæœ›ä¿å­˜è®­ç»ƒè¿‡ç¨‹çš„æ—¥å¿—æˆ–ç”¨æˆ·å¯¹éƒ¨ç½²ç©ºé—´çš„åé¦ˆã€‚åœ¨è¿™äº›æƒ…å†µä¸‹ï¼Œå°†æ•°æ®ä½œä¸ºæ•°æ®é›†ä¸Šä¼ åˆ°Hubæ˜¯æœ‰æ„ä¹‰çš„ï¼Œä½†å¯èƒ½å¾ˆéš¾æ­£ç¡®æ‰§è¡Œã€‚ä¸»è¦åŸå› æ˜¯æ‚¨ä¸å¸Œæœ›å¯¹æ•°æ®çš„æ¯æ¬¡æ›´æ–°è¿›è¡Œç‰ˆæœ¬åŒ–ï¼Œå› ä¸ºè¿™ä¼šä½¿gitå­˜å‚¨åº“æ— æ³•ä½¿ç”¨ã€‚[CommitScheduler](/docs/huggingface_hub/v0.20.3/en/package_reference/hf_api#huggingface_hub.CommitScheduler)ç±»æä¾›äº†è§£å†³è¿™ä¸ªé—®é¢˜çš„æ–¹æ³•ã€‚
- en: 'The idea is to run a background job that regularly pushes a local folder to
    the Hub. Letâ€™s assume you have a Gradio Space that takes as input some text and
    generates two translations of it. Then, the user can select their preferred translation.
    For each run, you want to save the input, output, and user preference to analyze
    the results. This is a perfect use case for [CommitScheduler](/docs/huggingface_hub/v0.20.3/en/package_reference/hf_api#huggingface_hub.CommitScheduler);
    you want to save data to the Hub (potentially millions of user feedback), but
    you donâ€™t *need* to save in real-time each userâ€™s input. Instead, you can save
    the data locally in a JSON file and upload it every 10 minutes. For example:'
  id: totrans-46
  prefs: []
  type: TYPE_NORMAL
  zh: è¿™ä¸ªæƒ³æ³•æ˜¯è¿è¡Œä¸€ä¸ªå®šæœŸå°†æœ¬åœ°æ–‡ä»¶å¤¹æ¨é€åˆ°Hubçš„åå°ä½œä¸šã€‚å‡è®¾æ‚¨æœ‰ä¸€ä¸ªGradioç©ºé—´ï¼Œè¯¥ç©ºé—´ä»¥ä¸€äº›æ–‡æœ¬ä½œä¸ºè¾“å…¥ï¼Œå¹¶ç”Ÿæˆå…¶ä¸¤ç§ç¿»è¯‘ã€‚ç„¶åï¼Œç”¨æˆ·å¯ä»¥é€‰æ‹©ä»–ä»¬å–œæ¬¢çš„ç¿»è¯‘ã€‚å¯¹äºæ¯æ¬¡è¿è¡Œï¼Œæ‚¨å¸Œæœ›ä¿å­˜è¾“å…¥ã€è¾“å‡ºå’Œç”¨æˆ·åå¥½ä»¥åˆ†æç»“æœã€‚è¿™æ˜¯[CommitScheduler](/docs/huggingface_hub/v0.20.3/en/package_reference/hf_api#huggingface_hub.CommitScheduler)çš„ä¸€ä¸ªå®Œç¾ç”¨ä¾‹ï¼›æ‚¨å¸Œæœ›å°†æ•°æ®ä¿å­˜åˆ°Hubï¼ˆå¯èƒ½æ˜¯æ•°ç™¾ä¸‡æ¡ç”¨æˆ·åé¦ˆï¼‰ï¼Œä½†æ‚¨ä¸*éœ€è¦*å®æ—¶ä¿å­˜æ¯ä¸ªç”¨æˆ·çš„è¾“å…¥ã€‚ç›¸åï¼Œæ‚¨å¯ä»¥å°†æ•°æ®ä¿å­˜åœ¨æœ¬åœ°çš„JSONæ–‡ä»¶ä¸­ï¼Œå¹¶æ¯10åˆ†é’Ÿä¸Šä¼ ä¸€æ¬¡ã€‚ä¾‹å¦‚ï¼š
- en: '[PRE8]'
  id: totrans-47
  prefs: []
  type: TYPE_PRE
  zh: '[PRE8]'
- en: And thatâ€™s it! User input/outputs and feedback will be available as a dataset
    on the Hub. By using a unique JSON file name, you are guaranteed you wonâ€™t overwrite
    data from a previous run or data from another Spaces/replicas pushing concurrently
    to the same repository.
  id: totrans-48
  prefs: []
  type: TYPE_NORMAL
  zh: å°±æ˜¯è¿™æ ·ï¼ç”¨æˆ·è¾“å…¥/è¾“å‡ºå’Œåé¦ˆå°†ä½œä¸ºHubä¸Šçš„æ•°æ®é›†å¯ç”¨ã€‚é€šè¿‡ä½¿ç”¨å”¯ä¸€çš„JSONæ–‡ä»¶åï¼Œæ‚¨å¯ä»¥ç¡®ä¿ä¸ä¼šè¦†ç›–ä»¥å‰è¿è¡Œçš„æ•°æ®æˆ–åŒæ—¶æ¨é€åˆ°åŒä¸€å­˜å‚¨åº“çš„å…¶ä»–ç©ºé—´/å‰¯æœ¬çš„æ•°æ®ã€‚
- en: 'For more details about the [CommitScheduler](/docs/huggingface_hub/v0.20.3/en/package_reference/hf_api#huggingface_hub.CommitScheduler),
    here is what you need to know:'
  id: totrans-49
  prefs: []
  type: TYPE_NORMAL
  zh: æœ‰å…³[CommitScheduler](/docs/huggingface_hub/v0.20.3/en/package_reference/hf_api#huggingface_hub.CommitScheduler)çš„æ›´å¤šè¯¦ç»†ä¿¡æ¯ï¼Œè¯·çœ‹ä»¥ä¸‹å†…å®¹ï¼š
- en: '**append-only:** It is assumed that you will only add content to the folder.
    You must only append data to existing files or create new files. Deleting or overwriting
    a file might corrupt your repository.'
  id: totrans-50
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**ä»…è¿½åŠ :** å‡å®šæ‚¨åªä¼šå‘æ–‡ä»¶å¤¹æ·»åŠ å†…å®¹ã€‚æ‚¨åªèƒ½å‘ç°æœ‰æ–‡ä»¶è¿½åŠ æ•°æ®æˆ–åˆ›å»ºæ–°æ–‡ä»¶ã€‚åˆ é™¤æˆ–è¦†ç›–æ–‡ä»¶å¯èƒ½ä¼šæŸåæ‚¨çš„å­˜å‚¨åº“ã€‚'
- en: '**git history**: The scheduler will commit the folder every `every` minutes.
    To avoid polluting the git repository too much, it is recommended to set a minimal
    value of 5 minutes. Besides, the scheduler is designed to avoid empty commits.
    If no new content is detected in the folder, the scheduled commit is dropped.'
  id: totrans-51
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**gitå†å²è®°å½•:** è°ƒåº¦ç¨‹åºå°†æ¯`every`åˆ†é’Ÿæäº¤ä¸€æ¬¡æ–‡ä»¶å¤¹ã€‚ä¸ºäº†é¿å…è¿‡å¤šåœ°æ±¡æŸ“gitå­˜å‚¨åº“ï¼Œå»ºè®®å°†æœ€å°å€¼è®¾ç½®ä¸º5åˆ†é’Ÿã€‚æ­¤å¤–ï¼Œè°ƒåº¦ç¨‹åºæ—¨åœ¨é¿å…ç©ºæäº¤ã€‚å¦‚æœåœ¨æ–‡ä»¶å¤¹ä¸­æœªæ£€æµ‹åˆ°æ–°å†…å®¹ï¼Œåˆ™è®¡åˆ’çš„æäº¤å°†è¢«ä¸¢å¼ƒã€‚'
- en: '**errors:** The scheduler run as background thread. It is started when you
    instantiate the class and never stops. In particular, if an error occurs during
    the upload (example: connection issue), the scheduler will silently ignore it
    and retry at the next scheduled commit.'
  id: totrans-52
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**é”™è¯¯:** è°ƒåº¦ç¨‹åºä½œä¸ºåå°çº¿ç¨‹è¿è¡Œã€‚å½“æ‚¨å®ä¾‹åŒ–ç±»æ—¶å¯åŠ¨å®ƒï¼Œå¹¶ä¸”æ°¸è¿œä¸ä¼šåœæ­¢ã€‚ç‰¹åˆ«æ˜¯ï¼Œå¦‚æœåœ¨ä¸Šä¼ è¿‡ç¨‹ä¸­å‘ç”Ÿé”™è¯¯ï¼ˆä¾‹å¦‚ï¼šè¿æ¥é—®é¢˜ï¼‰ï¼Œè°ƒåº¦ç¨‹åºå°†é»˜é»˜åœ°å¿½ç•¥å®ƒï¼Œå¹¶åœ¨ä¸‹ä¸€ä¸ªè®¡åˆ’çš„æäº¤æ—¶é‡è¯•ã€‚'
- en: '**thread-safety:** In most cases it is safe to assume that you can write to
    a file without having to worry about a lock file. The scheduler will not crash
    or be corrupted if you write content to the folder while itâ€™s uploading. In practice,
    *it is possible* that concurrency issues happen for heavy-loaded apps. In this
    case, we advice to use the `scheduler.lock` lock to ensure thread-safety. The
    lock is blocked only when the scheduler scans the folder for changes, not when
    it uploads data. You can safely assume that it will not affect the user experience
    on your Space.'
  id: totrans-53
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**çº¿ç¨‹å®‰å…¨:** åœ¨å¤§å¤šæ•°æƒ…å†µä¸‹ï¼Œå¯ä»¥å®‰å…¨åœ°å‡è®¾å¯ä»¥å†™å…¥æ–‡ä»¶è€Œæ— éœ€æ‹…å¿ƒé”æ–‡ä»¶ã€‚å¦‚æœåœ¨ä¸Šä¼ æ—¶å‘æ–‡ä»¶å¤¹å†™å…¥å†…å®¹ï¼Œè°ƒåº¦ç¨‹åºä¸ä¼šå´©æºƒæˆ–æŸåã€‚å®é™…ä¸Šï¼Œå¯¹äºè´Ÿè½½è¾ƒé‡çš„åº”ç”¨ç¨‹åºï¼Œå¯èƒ½ä¼šå‘ç”Ÿå¹¶å‘é—®é¢˜ã€‚åœ¨è¿™ç§æƒ…å†µä¸‹ï¼Œæˆ‘ä»¬å»ºè®®ä½¿ç”¨`scheduler.lock`é”æ¥ç¡®ä¿çº¿ç¨‹å®‰å…¨ã€‚åªæœ‰åœ¨è°ƒåº¦ç¨‹åºæ‰«ææ–‡ä»¶å¤¹ä»¥æŸ¥æ‰¾æ›´æ”¹æ—¶ï¼Œé”æ‰ä¼šè¢«é˜»å¡ï¼Œè€Œåœ¨ä¸Šä¼ æ•°æ®æ—¶ä¸ä¼šã€‚æ‚¨å¯ä»¥æ”¾å¿ƒåœ°è®¤ä¸ºå®ƒä¸ä¼šå½±å“æ‚¨çš„ç©ºé—´ä¸Šçš„ç”¨æˆ·ä½“éªŒã€‚'
- en: Space persistence demo
  id: totrans-54
  prefs:
  - PREF_H4
  type: TYPE_NORMAL
  zh: ç©ºé—´æŒä¹…æ€§æ¼”ç¤º
- en: Persisting data from a Space to a Dataset on the Hub is the main use case for
    [CommitScheduler](/docs/huggingface_hub/v0.20.3/en/package_reference/hf_api#huggingface_hub.CommitScheduler).
    Depending on the use case, you might want to structure your data differently.
    The structure has to be robust to concurrent users and restarts which often implies
    generating UUIDs. Besides robustness, you should upload data in a format readable
    by the ğŸ¤— Datasets library for later reuse. We created a [Space](https://huggingface.co/spaces/Wauplin/space_to_dataset_saver)
    that demonstrates how to save several different data formats (you may need to
    adapt it for your own specific needs).
  id: totrans-55
  prefs: []
  type: TYPE_NORMAL
  zh: ä»ç©ºé—´æŒä¹…åŒ–æ•°æ®åˆ°Hubä¸Šçš„æ•°æ®é›†æ˜¯[CommitScheduler](/docs/huggingface_hub/v0.20.3/en/package_reference/hf_api#huggingface_hub.CommitScheduler)çš„ä¸»è¦ç”¨ä¾‹ã€‚æ ¹æ®ç”¨ä¾‹çš„ä¸åŒï¼Œæ‚¨å¯èƒ½å¸Œæœ›ä»¥ä¸åŒçš„æ–¹å¼ç»“æ„åŒ–æ•°æ®ã€‚ç»“æ„å¿…é¡»å¯¹å¹¶å‘ç”¨æˆ·å’Œé‡æ–°å¯åŠ¨å…·æœ‰é²æ£’æ€§ï¼Œè¿™é€šå¸¸æ„å‘³ç€ç”ŸæˆUUIDã€‚é™¤äº†é²æ£’æ€§ï¼Œæ‚¨è¿˜åº”è¯¥ä»¥ğŸ¤—
    Datasetsåº“å¯è¯»çš„æ ¼å¼ä¸Šä¼ æ•°æ®ï¼Œä»¥ä¾¿ä»¥åé‡ç”¨ã€‚æˆ‘ä»¬åˆ›å»ºäº†ä¸€ä¸ª[Space](https://huggingface.co/spaces/Wauplin/space_to_dataset_saver)ï¼Œæ¼”ç¤ºäº†å¦‚ä½•ä¿å­˜å‡ ç§ä¸åŒçš„æ•°æ®æ ¼å¼ï¼ˆæ‚¨å¯èƒ½éœ€è¦æ ¹æ®è‡ªå·±çš„ç‰¹å®šéœ€æ±‚è¿›è¡Œè°ƒæ•´ï¼‰ã€‚
- en: Custom uploads
  id: totrans-56
  prefs:
  - PREF_H4
  type: TYPE_NORMAL
  zh: è‡ªå®šä¹‰ä¸Šä¼ 
- en: '[CommitScheduler](/docs/huggingface_hub/v0.20.3/en/package_reference/hf_api#huggingface_hub.CommitScheduler)
    assumes your data is append-only and should be uploading â€œas isâ€. However, you
    might want to customize the way data is uploaded. You can do that by creating
    a class inheriting from [CommitScheduler](/docs/huggingface_hub/v0.20.3/en/package_reference/hf_api#huggingface_hub.CommitScheduler)
    and overwrite the `push_to_hub` method (feel free to overwrite it any way you
    want). You are guaranteed it will be called every `every` minutes in a background
    thread. You donâ€™t have to worry about concurrency and errors but you must be careful
    about other aspects, such as pushing empty commits or duplicated data.'
  id: totrans-57
  prefs: []
  type: TYPE_NORMAL
  zh: '[CommitScheduler](/docs/huggingface_hub/v0.20.3/en/package_reference/hf_api#huggingface_hub.CommitScheduler)å‡å®šæ‚¨çš„æ•°æ®æ˜¯è¿½åŠ çš„ï¼Œå¹¶ä¸”åº”è¯¥æŒ‰åŸæ ·ä¸Šä¼ ã€‚ä½†æ˜¯ï¼Œæ‚¨å¯èƒ½å¸Œæœ›è‡ªå®šä¹‰æ•°æ®ä¸Šä¼ æ–¹å¼ã€‚æ‚¨å¯ä»¥é€šè¿‡åˆ›å»ºä¸€ä¸ªä»[CommitScheduler](/docs/huggingface_hub/v0.20.3/en/package_reference/hf_api#huggingface_hub.CommitScheduler)ç»§æ‰¿çš„ç±»ï¼Œå¹¶è¦†ç›–`push_to_hub`æ–¹æ³•ï¼ˆéšæ„ä»¥ä»»ä½•æ–¹å¼è¦†ç›–å®ƒï¼‰æ¥å®ç°ã€‚ä¿è¯å®ƒå°†åœ¨åå°çº¿ç¨‹ä¸­æ¯éš”`every`åˆ†é’Ÿè°ƒç”¨ä¸€æ¬¡ã€‚æ‚¨æ— éœ€æ‹…å¿ƒå¹¶å‘å’Œé”™è¯¯ï¼Œä½†å¿…é¡»æ³¨æ„å…¶ä»–æ–¹é¢ï¼Œä¾‹å¦‚æ¨é€ç©ºæäº¤æˆ–é‡å¤æ•°æ®ã€‚'
- en: 'In the (simplified) example below, we overwrite `push_to_hub` to zip all PNG
    files in a single archive to avoid overloading the repo on the Hub:'
  id: totrans-58
  prefs: []
  type: TYPE_NORMAL
  zh: åœ¨ä¸‹é¢ï¼ˆç®€åŒ–çš„ï¼‰ç¤ºä¾‹ä¸­ï¼Œæˆ‘ä»¬è¦†ç›–`push_to_hub`ä»¥å°†æ‰€æœ‰PNGæ–‡ä»¶å‹ç¼©åˆ°å•ä¸ªå­˜æ¡£ä¸­ï¼Œä»¥é¿å…åœ¨Hubä¸Šè¿‡è½½å­˜å‚¨åº“ï¼š
- en: '[PRE9]'
  id: totrans-59
  prefs: []
  type: TYPE_PRE
  zh: '[PRE9]'
- en: 'When you overwrite `push_to_hub`, you have access to the attributes of [CommitScheduler](/docs/huggingface_hub/v0.20.3/en/package_reference/hf_api#huggingface_hub.CommitScheduler)
    and especially:'
  id: totrans-60
  prefs: []
  type: TYPE_NORMAL
  zh: å½“è¦†ç›–`push_to_hub`æ—¶ï¼Œæ‚¨å¯ä»¥è®¿é—®[CommitScheduler](/docs/huggingface_hub/v0.20.3/en/package_reference/hf_api#huggingface_hub.CommitScheduler)çš„å±æ€§ï¼Œç‰¹åˆ«æ˜¯ï¼š
- en: '[HfApi](/docs/huggingface_hub/v0.20.3/en/package_reference/hf_api#huggingface_hub.HfApi)
    client: `api`'
  id: totrans-61
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[HfApi](/docs/huggingface_hub/v0.20.3/en/package_reference/hf_api#huggingface_hub.HfApi)å®¢æˆ·ç«¯ï¼š`api`'
- en: 'Folder parameters: `folder_path` and `path_in_repo`'
  id: totrans-62
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: æ–‡ä»¶å¤¹å‚æ•°ï¼š`folder_path`å’Œ`path_in_repo`
- en: 'Repo parameters: `repo_id`, `repo_type`, `revision`'
  id: totrans-63
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: ä»“åº“å‚æ•°ï¼š`repo_id`ã€`repo_type`ã€`revision`
- en: 'The thread lock: `lock`'
  id: totrans-64
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: çº¿ç¨‹é”ï¼š`lock`
- en: For more examples of custom schedulers, check out our [demo Space](https://huggingface.co/spaces/Wauplin/space_to_dataset_saver)
    containing different implementations depending on your use cases.
  id: totrans-65
  prefs: []
  type: TYPE_NORMAL
  zh: æŸ¥çœ‹æˆ‘ä»¬çš„[æ¼”ç¤ºç©ºé—´](https://huggingface.co/spaces/Wauplin/space_to_dataset_saver)ä¸­çš„æ›´å¤šè‡ªå®šä¹‰è°ƒåº¦ç¨‹åºç¤ºä¾‹ï¼Œå…¶ä¸­åŒ…å«æ ¹æ®æ‚¨çš„ç”¨ä¾‹ä¸åŒçš„ä¸åŒå®ç°ã€‚
- en: create_commit
  id: totrans-66
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: create_commit
- en: The [upload_file()](/docs/huggingface_hub/v0.20.3/en/package_reference/hf_api#huggingface_hub.HfApi.upload_file)
    and [upload_folder()](/docs/huggingface_hub/v0.20.3/en/package_reference/hf_api#huggingface_hub.HfApi.upload_folder)
    functions are high-level APIs that are generally convenient to use. We recommend
    trying these functions first if you donâ€™t need to work at a lower level. However,
    if you want to work at a commit-level, you can use the [create_commit()](/docs/huggingface_hub/v0.20.3/en/package_reference/hf_api#huggingface_hub.HfApi.create_commit)
    function directly.
  id: totrans-67
  prefs: []
  type: TYPE_NORMAL
  zh: '[upload_file()](/docs/huggingface_hub/v0.20.3/en/package_reference/hf_api#huggingface_hub.HfApi.upload_file)å’Œ[upload_folder()](/docs/huggingface_hub/v0.20.3/en/package_reference/hf_api#huggingface_hub.HfApi.upload_folder)å‡½æ•°æ˜¯é€šå¸¸æ–¹ä¾¿ä½¿ç”¨çš„é«˜çº§APIã€‚å¦‚æœæ‚¨ä¸éœ€è¦åœ¨è¾ƒä½çº§åˆ«å·¥ä½œï¼Œæˆ‘ä»¬å»ºè®®é¦–å…ˆå°è¯•è¿™äº›å‡½æ•°ã€‚ä½†æ˜¯ï¼Œå¦‚æœæ‚¨æƒ³åœ¨æäº¤çº§åˆ«å·¥ä½œï¼Œå¯ä»¥ç›´æ¥ä½¿ç”¨[create_commit()](/docs/huggingface_hub/v0.20.3/en/package_reference/hf_api#huggingface_hub.HfApi.create_commit)å‡½æ•°ã€‚'
- en: 'There are three types of operations supported by [create_commit()](/docs/huggingface_hub/v0.20.3/en/package_reference/hf_api#huggingface_hub.HfApi.create_commit):'
  id: totrans-68
  prefs: []
  type: TYPE_NORMAL
  zh: '[create_commit()](/docs/huggingface_hub/v0.20.3/en/package_reference/hf_api#huggingface_hub.HfApi.create_commit)æ”¯æŒä¸‰ç§ç±»å‹çš„æ“ä½œï¼š'
- en: '[CommitOperationAdd](/docs/huggingface_hub/v0.20.3/en/package_reference/hf_api#huggingface_hub.CommitOperationAdd)
    uploads a file to the Hub. If the file already exists, the file contents are overwritten.
    This operation accepts two arguments:'
  id: totrans-69
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[CommitOperationAdd](/docs/huggingface_hub/v0.20.3/en/package_reference/hf_api#huggingface_hub.CommitOperationAdd)å°†æ–‡ä»¶ä¸Šä¼ åˆ°Hubã€‚å¦‚æœæ–‡ä»¶å·²ç»å­˜åœ¨ï¼Œåˆ™æ–‡ä»¶å†…å®¹å°†è¢«è¦†ç›–ã€‚æ­¤æ“ä½œæ¥å—ä¸¤ä¸ªå‚æ•°ï¼š'
- en: '`path_in_repo`: the repository path to upload a file to.'
  id: totrans-70
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`path_in_repo`ï¼šè¦ä¸Šä¼ æ–‡ä»¶çš„å­˜å‚¨åº“è·¯å¾„ã€‚'
- en: '`path_or_fileobj`: either a path to a file on your filesystem or a file-like
    object. This is the content of the file to upload to the Hub.'
  id: totrans-71
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`path_or_fileobj`ï¼šè¦ä¸Šä¼ åˆ°Hubçš„æ–‡ä»¶çš„è·¯å¾„æˆ–ç±»ä¼¼æ–‡ä»¶çš„å¯¹è±¡ã€‚è¿™æ˜¯è¦ä¸Šä¼ åˆ°Hubçš„æ–‡ä»¶å†…å®¹ã€‚'
- en: '[CommitOperationDelete](/docs/huggingface_hub/v0.20.3/en/package_reference/hf_api#huggingface_hub.CommitOperationDelete)
    removes a file or a folder from a repository. This operation accepts `path_in_repo`
    as an argument.'
  id: totrans-72
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[CommitOperationDelete](/docs/huggingface_hub/v0.20.3/en/package_reference/hf_api#huggingface_hub.CommitOperationDelete)ä»å­˜å‚¨åº“ä¸­åˆ é™¤æ–‡ä»¶æˆ–æ–‡ä»¶å¤¹ã€‚æ­¤æ“ä½œæ¥å—`path_in_repo`ä½œä¸ºå‚æ•°ã€‚'
- en: '[CommitOperationCopy](/docs/huggingface_hub/v0.20.3/en/package_reference/hf_api#huggingface_hub.CommitOperationCopy)
    copies a file within a repository. This operation accepts three arguments:'
  id: totrans-73
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[CommitOperationCopy](/docs/huggingface_hub/v0.20.3/en/package_reference/hf_api#huggingface_hub.CommitOperationCopy)åœ¨å­˜å‚¨åº“å†…å¤åˆ¶æ–‡ä»¶ã€‚æ­¤æ“ä½œæ¥å—ä¸‰ä¸ªå‚æ•°ï¼š'
- en: '`src_path_in_repo`: the repository path of the file to copy.'
  id: totrans-74
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`src_path_in_repo`ï¼šè¦å¤åˆ¶çš„æ–‡ä»¶çš„å­˜å‚¨åº“è·¯å¾„ã€‚'
- en: '`path_in_repo`: the repository path where the file should be copied.'
  id: totrans-75
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`path_in_repo`ï¼šåº”å°†æ–‡ä»¶å¤åˆ¶åˆ°çš„å­˜å‚¨åº“è·¯å¾„ã€‚'
- en: '`src_revision`: optional - the revision of the file to copy if your want to
    copy a file from a different branch/revision.'
  id: totrans-76
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`src_revision`ï¼šå¯é€‰ - å¦‚æœè¦ä»ä¸åŒçš„åˆ†æ”¯/ä¿®è®¢ç‰ˆå¤åˆ¶æ–‡ä»¶ï¼Œåˆ™ä¸ºè¦å¤åˆ¶çš„æ–‡ä»¶çš„ä¿®è®¢ç‰ˆã€‚'
- en: 'For example, if you want to upload two files and delete a file in a Hub repository:'
  id: totrans-77
  prefs: []
  type: TYPE_NORMAL
  zh: ä¾‹å¦‚ï¼Œå¦‚æœæ‚¨æƒ³è¦åœ¨ Hub å­˜å‚¨åº“ä¸­ä¸Šä¼ ä¸¤ä¸ªæ–‡ä»¶å¹¶åˆ é™¤ä¸€ä¸ªæ–‡ä»¶ï¼š
- en: 'Use the appropriate `CommitOperation` to add or delete a file and to delete
    a folder:'
  id: totrans-78
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: ä½¿ç”¨é€‚å½“çš„ `CommitOperation` æ¥æ·»åŠ æˆ–åˆ é™¤æ–‡ä»¶ä»¥åŠåˆ é™¤æ–‡ä»¶å¤¹ï¼š
- en: '[PRE10]'
  id: totrans-79
  prefs: []
  type: TYPE_PRE
  zh: '[PRE10]'
- en: 'Pass your operations to [create_commit()](/docs/huggingface_hub/v0.20.3/en/package_reference/hf_api#huggingface_hub.HfApi.create_commit):'
  id: totrans-80
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: å°†æ‚¨çš„æ“ä½œä¼ é€’ç»™ [create_commit()](/docs/huggingface_hub/v0.20.3/en/package_reference/hf_api#huggingface_hub.HfApi.create_commit)ï¼š
- en: '[PRE11]'
  id: totrans-81
  prefs: []
  type: TYPE_PRE
  zh: '[PRE11]'
- en: 'In addition to [upload_file()](/docs/huggingface_hub/v0.20.3/en/package_reference/hf_api#huggingface_hub.HfApi.upload_file)
    and [upload_folder()](/docs/huggingface_hub/v0.20.3/en/package_reference/hf_api#huggingface_hub.HfApi.upload_folder),
    the following functions also use [create_commit()](/docs/huggingface_hub/v0.20.3/en/package_reference/hf_api#huggingface_hub.HfApi.create_commit)
    under the hood:'
  id: totrans-82
  prefs: []
  type: TYPE_NORMAL
  zh: é™¤äº† [upload_file()](/docs/huggingface_hub/v0.20.3/en/package_reference/hf_api#huggingface_hub.HfApi.upload_file)
    å’Œ [upload_folder()](/docs/huggingface_hub/v0.20.3/en/package_reference/hf_api#huggingface_hub.HfApi.upload_folder)
    å¤–ï¼Œä»¥ä¸‹åŠŸèƒ½è¿˜åœ¨å†…éƒ¨ä½¿ç”¨ [create_commit()](/docs/huggingface_hub/v0.20.3/en/package_reference/hf_api#huggingface_hub.HfApi.create_commit)ï¼š
- en: '[delete_file()](/docs/huggingface_hub/v0.20.3/en/package_reference/hf_api#huggingface_hub.HfApi.delete_file)
    deletes a single file from a repository on the Hub.'
  id: totrans-83
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[delete_file()](/docs/huggingface_hub/v0.20.3/en/package_reference/hf_api#huggingface_hub.HfApi.delete_file)
    ä» Hub ä¸Šçš„å­˜å‚¨åº“ä¸­åˆ é™¤å•ä¸ªæ–‡ä»¶ã€‚'
- en: '[delete_folder()](/docs/huggingface_hub/v0.20.3/en/package_reference/hf_api#huggingface_hub.HfApi.delete_folder)
    deletes an entire folder from a repository on the Hub.'
  id: totrans-84
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[delete_folder()](/docs/huggingface_hub/v0.20.3/en/package_reference/hf_api#huggingface_hub.HfApi.delete_folder)
    ä» Hub ä¸Šçš„å­˜å‚¨åº“ä¸­åˆ é™¤æ•´ä¸ªæ–‡ä»¶å¤¹ã€‚'
- en: '[metadata_update()](/docs/huggingface_hub/v0.20.3/en/package_reference/cards#huggingface_hub.metadata_update)
    updates a repositoryâ€™s metadata.'
  id: totrans-85
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[metadata_update()](/docs/huggingface_hub/v0.20.3/en/package_reference/cards#huggingface_hub.metadata_update)
    æ›´æ–°å­˜å‚¨åº“çš„å…ƒæ•°æ®ã€‚'
- en: For more detailed information, take a look at the [HfApi](/docs/huggingface_hub/v0.20.3/en/package_reference/hf_api#huggingface_hub.HfApi)
    reference.
  id: totrans-86
  prefs: []
  type: TYPE_NORMAL
  zh: æœ‰å…³æ›´è¯¦ç»†çš„ä¿¡æ¯ï¼Œè¯·æŸ¥çœ‹ [HfApi](/docs/huggingface_hub/v0.20.3/en/package_reference/hf_api#huggingface_hub.HfApi)
    å‚è€ƒã€‚
- en: Preupload LFS files before commit
  id: totrans-87
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: åœ¨æäº¤ä¹‹å‰é¢„å…ˆä¸Šä¼  LFS æ–‡ä»¶
- en: In some cases, you might want to upload huge files to S3 **before** making the
    commit call. For example, if you are committing a dataset in several shards that
    are generated in-memory, you would need to upload the shards one by one to avoid
    an out-of-memory issue. A solution is to upload each shard as a separate commit
    on the repo. While being perfectly valid, this solution has the drawback of potentially
    messing the git history by generating tens of commits. To overcome this issue,
    you can upload your files one by one to S3 and then create a single commit at
    the end. This is possible using [preupload_lfs_files()](/docs/huggingface_hub/v0.20.3/en/package_reference/hf_api#huggingface_hub.HfApi.preupload_lfs_files)
    in combination with [create_commit()](/docs/huggingface_hub/v0.20.3/en/package_reference/hf_api#huggingface_hub.HfApi.create_commit).
  id: totrans-88
  prefs: []
  type: TYPE_NORMAL
  zh: åœ¨æŸäº›æƒ…å†µä¸‹ï¼Œæ‚¨å¯èƒ½å¸Œæœ›åœ¨è¿›è¡Œæäº¤è°ƒç”¨ä¹‹å‰å°†å¤§å‹æ–‡ä»¶ä¸Šä¼ åˆ° S3 **ä¹‹å‰**ã€‚ä¾‹å¦‚ï¼Œå¦‚æœæ‚¨æ­£åœ¨æäº¤ä¸€ä¸ªåœ¨å†…å­˜ä¸­ç”Ÿæˆçš„æ•°æ®é›†çš„å¤šä¸ªåˆ†ç‰‡ï¼Œæ‚¨éœ€è¦é€ä¸ªä¸Šä¼ è¿™äº›åˆ†ç‰‡ä»¥é¿å…å†…å­˜ä¸è¶³é—®é¢˜ã€‚ä¸€ç§è§£å†³æ–¹æ¡ˆæ˜¯å°†æ¯ä¸ªåˆ†ç‰‡ä½œä¸ºå­˜å‚¨åº“ä¸Šçš„å•ç‹¬æäº¤ä¸Šä¼ ã€‚è™½ç„¶è¿™æ˜¯å®Œå…¨æœ‰æ•ˆçš„ï¼Œä½†è¿™ç§è§£å†³æ–¹æ¡ˆçš„ç¼ºç‚¹æ˜¯å¯èƒ½é€šè¿‡ç”Ÿæˆæ•°åä¸ªæäº¤æ¥æä¹±
    git å†å²ã€‚ä¸ºäº†è§£å†³è¿™ä¸ªé—®é¢˜ï¼Œæ‚¨å¯ä»¥é€ä¸ªå°†æ–‡ä»¶ä¸Šä¼ åˆ° S3ï¼Œç„¶ååœ¨æœ€ååˆ›å»ºä¸€ä¸ªå•ç‹¬çš„æäº¤ã€‚è¿™å¯ä»¥ä½¿ç”¨ [preupload_lfs_files()](/docs/huggingface_hub/v0.20.3/en/package_reference/hf_api#huggingface_hub.HfApi.preupload_lfs_files)
    ç»“åˆ [create_commit()](/docs/huggingface_hub/v0.20.3/en/package_reference/hf_api#huggingface_hub.HfApi.create_commit)
    æ¥å®ç°ã€‚
- en: This is a power-user method. Directly using [upload_file()](/docs/huggingface_hub/v0.20.3/en/package_reference/hf_api#huggingface_hub.HfApi.upload_file),
    [upload_folder()](/docs/huggingface_hub/v0.20.3/en/package_reference/hf_api#huggingface_hub.HfApi.upload_folder)
    or [create_commit()](/docs/huggingface_hub/v0.20.3/en/package_reference/hf_api#huggingface_hub.HfApi.create_commit)
    instead of handling the low-level logic of pre-uploading files is the way to go
    in the vast majority of cases. The main caveat of [preupload_lfs_files()](/docs/huggingface_hub/v0.20.3/en/package_reference/hf_api#huggingface_hub.HfApi.preupload_lfs_files)
    is that until the commit is actually made, the upload files are not accessible
    on the repo on the Hub. If you have a question, feel free to ping us on our Discord
    or in a GitHub issue.
  id: totrans-89
  prefs: []
  type: TYPE_NORMAL
  zh: è¿™æ˜¯ä¸€ç§é«˜çº§ç”¨æˆ·æ–¹æ³•ã€‚åœ¨ç»å¤§å¤šæ•°æƒ…å†µä¸‹ï¼Œç›´æ¥ä½¿ç”¨ [upload_file()](/docs/huggingface_hub/v0.20.3/en/package_reference/hf_api#huggingface_hub.HfApi.upload_file)ã€[upload_folder()](/docs/huggingface_hub/v0.20.3/en/package_reference/hf_api#huggingface_hub.HfApi.upload_folder)
    æˆ– [create_commit()](/docs/huggingface_hub/v0.20.3/en/package_reference/hf_api#huggingface_hub.HfApi.create_commit)
    è€Œä¸æ˜¯å¤„ç†é¢„å…ˆä¸Šä¼ æ–‡ä»¶çš„ä½çº§é€»è¾‘æ˜¯æ›´å¥½çš„é€‰æ‹©ã€‚[preupload_lfs_files()](/docs/huggingface_hub/v0.20.3/en/package_reference/hf_api#huggingface_hub.HfApi.preupload_lfs_files)
    çš„ä¸»è¦æ³¨æ„äº‹é¡¹æ˜¯ï¼Œåœ¨å®é™…è¿›è¡Œæäº¤ä¹‹å‰ï¼Œä¸Šä¼ çš„æ–‡ä»¶åœ¨ Hub ä¸Šçš„å­˜å‚¨åº“ä¸Šæ˜¯ä¸å¯è®¿é—®çš„ã€‚å¦‚æœæ‚¨æœ‰ä»»ä½•é—®é¢˜ï¼Œè¯·éšæ—¶åœ¨æˆ‘ä»¬çš„ Discord æˆ– GitHub é—®é¢˜ä¸­è”ç³»æˆ‘ä»¬ã€‚
- en: 'Here is a simple example illustrating how to pre-upload files:'
  id: totrans-90
  prefs: []
  type: TYPE_NORMAL
  zh: ä»¥ä¸‹æ˜¯ä¸€ä¸ªç®€å•çš„ç¤ºä¾‹ï¼Œè¯´æ˜å¦‚ä½•é¢„å…ˆä¸Šä¼ æ–‡ä»¶ï¼š
- en: '[PRE12]'
  id: totrans-91
  prefs: []
  type: TYPE_PRE
  zh: '[PRE12]'
- en: First, we create the [CommitOperationAdd](/docs/huggingface_hub/v0.20.3/en/package_reference/hf_api#huggingface_hub.CommitOperationAdd)
    objects one by one. In a real-world example, those would contain the generated
    shards. Each file is uploaded before generating the next one. During the [preupload_lfs_files()](/docs/huggingface_hub/v0.20.3/en/package_reference/hf_api#huggingface_hub.HfApi.preupload_lfs_files)
    step, **the `CommitOperationAdd` object is mutated**. You should only use it to
    pass it directly to [create_commit()](/docs/huggingface_hub/v0.20.3/en/package_reference/hf_api#huggingface_hub.HfApi.create_commit).
    The main update of the object is that **the binary content is removed** from it,
    meaning that it will be garbage-collected if you donâ€™t store another reference
    to it. This is expected as we donâ€™t want to keep in memory the content that is
    already uploaded. Finally we create the commit by passing all the operations to
    [create_commit()](/docs/huggingface_hub/v0.20.3/en/package_reference/hf_api#huggingface_hub.HfApi.create_commit).
    You can pass additional operations (add, delete or copy) that have not been processed
    yet and they will be handled correctly.
  id: totrans-92
  prefs: []
  type: TYPE_NORMAL
  zh: é¦–å…ˆï¼Œæˆ‘ä»¬é€ä¸ªåˆ›å»º [CommitOperationAdd](/docs/huggingface_hub/v0.20.3/en/package_reference/hf_api#huggingface_hub.CommitOperationAdd)
    å¯¹è±¡ã€‚åœ¨å®é™…ç¤ºä¾‹ä¸­ï¼Œè¿™äº›å¯¹è±¡å°†åŒ…å«ç”Ÿæˆçš„åˆ†ç‰‡ã€‚åœ¨ç”Ÿæˆä¸‹ä¸€ä¸ªæ–‡ä»¶ä¹‹å‰ï¼Œæ¯ä¸ªæ–‡ä»¶éƒ½ä¼šè¢«ä¸Šä¼ ã€‚åœ¨ [preupload_lfs_files()](/docs/huggingface_hub/v0.20.3/en/package_reference/hf_api#huggingface_hub.HfApi.preupload_lfs_files)
    æ­¥éª¤ä¸­ï¼Œ**`CommitOperationAdd` å¯¹è±¡ä¼šè¢«æ”¹å˜**ã€‚æ‚¨åº”è¯¥åªä½¿ç”¨å®ƒç›´æ¥ä¼ é€’ç»™ [create_commit()](/docs/huggingface_hub/v0.20.3/en/package_reference/hf_api#huggingface_hub.HfApi.create_commit)ã€‚å¯¹è±¡çš„ä¸»è¦æ›´æ–°æ˜¯**äºŒè¿›åˆ¶å†…å®¹è¢«ä»ä¸­åˆ é™¤**ï¼Œè¿™æ„å‘³ç€å¦‚æœæ‚¨æ²¡æœ‰å­˜å‚¨å¦ä¸€ä¸ªå¼•ç”¨ï¼Œå®ƒå°†è¢«åƒåœ¾å›æ”¶ã€‚è¿™æ˜¯é¢„æœŸçš„ï¼Œå› ä¸ºæˆ‘ä»¬ä¸å¸Œæœ›åœ¨å†…å­˜ä¸­ä¿ç•™å·²ç»ä¸Šä¼ çš„å†…å®¹ã€‚æœ€åï¼Œé€šè¿‡å°†æ‰€æœ‰æ“ä½œä¼ é€’ç»™
    [create_commit()](/docs/huggingface_hub/v0.20.3/en/package_reference/hf_api#huggingface_hub.HfApi.create_commit)
    æ¥åˆ›å»ºæäº¤ã€‚æ‚¨å¯ä»¥ä¼ é€’å°šæœªå¤„ç†çš„å…¶ä»–æ“ä½œï¼ˆæ·»åŠ ã€åˆ é™¤æˆ–å¤åˆ¶ï¼‰ï¼Œå®ƒä»¬å°†è¢«æ­£ç¡®å¤„ç†ã€‚
- en: Tips and tricks for large uploads
  id: totrans-93
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: å¤§æ–‡ä»¶ä¸Šä¼ çš„æŠ€å·§å’Œçªé—¨
- en: There are some limitations to be aware of when dealing with a large amount of
    data in your repo. Given the time it takes to stream the data, getting an upload/push
    to fail at the end of the process or encountering a degraded experience, be it
    on hf.co or when working locally, can be very annoying.
  id: totrans-94
  prefs: []
  type: TYPE_NORMAL
  zh: åœ¨å¤„ç†å­˜å‚¨åº“ä¸­çš„å¤§é‡æ•°æ®æ—¶ï¼Œæœ‰ä¸€äº›é™åˆ¶éœ€è¦æ³¨æ„ã€‚ç”±äºæµå¼ä¼ è¾“æ•°æ®æ‰€éœ€çš„æ—¶é—´ï¼Œä½¿å¾—ä¸Šä¼ /æ¨é€åœ¨æµç¨‹ç»“æŸæ—¶å¤±è´¥æˆ–é‡åˆ°é™çº§ä½“éªŒï¼Œæ— è®ºæ˜¯åœ¨ hf.co ä¸Šè¿˜æ˜¯åœ¨æœ¬åœ°å·¥ä½œæ—¶ï¼Œéƒ½å¯èƒ½éå¸¸æ¼äººã€‚
- en: Check out our [Repository limitations and recommendations](https://huggingface.co/docs/hub/repositories-recommendations)
    guide for best practices on how to structure your repositories on the Hub. Next,
    letâ€™s move on with some practical tips to make your upload process as smooth as
    possible.
  id: totrans-95
  prefs: []
  type: TYPE_NORMAL
  zh: æŸ¥çœ‹æˆ‘ä»¬çš„ [å­˜å‚¨åº“é™åˆ¶å’Œå»ºè®®](https://huggingface.co/docs/hub/repositories-recommendations)
    æŒ‡å—ï¼Œäº†è§£å¦‚ä½•åœ¨ Hub ä¸Šæ„å»ºå­˜å‚¨åº“çš„æœ€ä½³å®è·µã€‚æ¥ä¸‹æ¥ï¼Œè®©æˆ‘ä»¬ç»§ç»­ä¸€äº›å®ç”¨çš„æç¤ºï¼Œä½¿æ‚¨çš„ä¸Šä¼ è¿‡ç¨‹å°½å¯èƒ½é¡ºåˆ©ã€‚
- en: '**Start small**: We recommend starting with a small amount of data to test
    your upload script. Itâ€™s easier to iterate on a script when failing takes only
    a little time.'
  id: totrans-96
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**ä»å°å¼€å§‹**ï¼šæˆ‘ä»¬å»ºè®®ä»å°‘é‡æ•°æ®å¼€å§‹æµ‹è¯•æ‚¨çš„ä¸Šä¼ è„šæœ¬ã€‚å½“å¤±è´¥åªéœ€è¦å¾ˆå°‘çš„æ—¶é—´æ—¶ï¼Œæ›´å®¹æ˜“è¿­ä»£è„šæœ¬ã€‚'
- en: '**Expect failures**: Streaming large amounts of data is challenging. You donâ€™t
    know what can happen, but itâ€™s always best to consider that something will fail
    at least once -no matter if itâ€™s due to your machine, your connection, or our
    servers. For example, if you plan to upload a large number of files, itâ€™s best
    to keep track locally of which files you already uploaded before uploading the
    next batch. You are ensured that an LFS file that is already committed will never
    be re-uploaded twice but checking it client-side can still save some time.'
  id: totrans-97
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**æœŸæœ›å¤±è´¥**ï¼šæµå¼ä¼ è¾“å¤§é‡æ•°æ®æ˜¯å…·æœ‰æŒ‘æˆ˜æ€§çš„ã€‚ä½ ä¸çŸ¥é“ä¼šå‘ç”Ÿä»€ä¹ˆï¼Œä½†æœ€å¥½å§‹ç»ˆè€ƒè™‘åˆ°è‡³å°‘ä¼šæœ‰ä¸€æ¬¡å¤±è´¥ - æ— è®ºæ˜¯ç”±äºæ‚¨çš„æœºå™¨ã€æ‚¨çš„è¿æ¥è¿˜æ˜¯æˆ‘ä»¬çš„æœåŠ¡å™¨ã€‚ä¾‹å¦‚ï¼Œå¦‚æœæ‚¨è®¡åˆ’ä¸Šä¼ å¤§é‡æ–‡ä»¶ï¼Œæœ€å¥½åœ¨ä¸Šä¼ ä¸‹ä¸€æ‰¹æ–‡ä»¶ä¹‹å‰åœ¨æœ¬åœ°è·Ÿè¸ªæ‚¨å·²ç»ä¸Šä¼ çš„æ–‡ä»¶ã€‚æ‚¨å¯ä»¥ç¡®ä¿å·²ç»æäº¤çš„
    LFS æ–‡ä»¶æ°¸è¿œä¸ä¼šè¢«é‡æ–°ä¸Šä¼ ä¸¤æ¬¡ï¼Œä½†åœ¨å®¢æˆ·ç«¯æ£€æŸ¥å®ƒä»ç„¶å¯ä»¥èŠ‚çœä¸€äº›æ—¶é—´ã€‚'
- en: '**Use `hf_transfer`**: this is a Rust-based [library](https://github.com/huggingface/hf_transfer)
    meant to speed up uploads on machines with very high bandwidth. To use it, you
    must install it (`pip install hf_transfer`) and enable it by setting `HF_HUB_ENABLE_HF_TRANSFER=1`
    as an environment variable. You can then use `huggingface_hub` normally. Disclaimer:
    this is a power user tool. It is tested and production-ready but lacks user-friendly
    features like advanced error handling or proxies. For more details, please refer
    to this [section](https://huggingface.co/docs/huggingface_hub/hf_transfer).'
  id: totrans-98
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**ä½¿ç”¨ `hf_transfer`**ï¼šè¿™æ˜¯ä¸€ä¸ªåŸºäº Rust çš„ [åº“](https://github.com/huggingface/hf_transfer)ï¼Œæ—¨åœ¨åŠ å¿«å…·æœ‰éå¸¸é«˜å¸¦å®½çš„æœºå™¨ä¸Šçš„ä¸Šä¼ é€Ÿåº¦ã€‚è¦ä½¿ç”¨å®ƒï¼Œæ‚¨å¿…é¡»å®‰è£…å®ƒï¼ˆ`pip
    install hf_transfer`ï¼‰å¹¶é€šè¿‡å°† `HF_HUB_ENABLE_HF_TRANSFER=1` è®¾ç½®ä¸ºç¯å¢ƒå˜é‡æ¥å¯ç”¨å®ƒã€‚ç„¶åæ‚¨å¯ä»¥æ­£å¸¸ä½¿ç”¨
    `huggingface_hub`ã€‚å…è´£å£°æ˜ï¼šè¿™æ˜¯ä¸€ä¸ªé¢å‘é«˜çº§ç”¨æˆ·çš„å·¥å…·ã€‚å®ƒç»è¿‡æµ‹è¯•å¹¶å·²å‡†å¤‡æŠ•å…¥ç”Ÿäº§ï¼Œä½†ç¼ºä¹åƒé«˜çº§é”™è¯¯å¤„ç†æˆ–ä»£ç†ç­‰ç”¨æˆ·å‹å¥½çš„åŠŸèƒ½ã€‚æœ‰å…³æ›´å¤šè¯¦ç»†ä¿¡æ¯ï¼Œè¯·å‚é˜…æ­¤
    [éƒ¨åˆ†](https://huggingface.co/docs/huggingface_hub/hf_transfer)ã€‚'
- en: Progress bars are supported in `hf_transfer` starting from version `0.1.4`.
    Consider upgrading (`pip install -U hf-transfer`) if you plan to enable faster
    uploads.
  id: totrans-99
  prefs: []
  type: TYPE_NORMAL
  zh: è¿›åº¦æ¡åœ¨ `hf_transfer` ç‰ˆæœ¬ `0.1.4` å¼€å§‹å¾—åˆ°æ”¯æŒã€‚å¦‚æœæ‚¨è®¡åˆ’å¯ç”¨æ›´å¿«çš„ä¸Šä¼ ï¼Œè¯·è€ƒè™‘å‡çº§ï¼ˆ`pip install -U hf-transfer`ï¼‰ã€‚
- en: (legacy) Upload files with Git LFS
  id: totrans-100
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: ï¼ˆä¼ ç»Ÿï¼‰ä½¿ç”¨ Git LFS ä¸Šä¼ æ–‡ä»¶
- en: All the methods described above use the Hubâ€™s API to upload files. This is the
    recommended way to upload files to the Hub. However, we also provide [Repository](/docs/huggingface_hub/v0.20.3/en/package_reference/repository#huggingface_hub.Repository),
    a wrapper around the git tool to manage a local repository.
  id: totrans-101
  prefs: []
  type: TYPE_NORMAL
  zh: ä¸Šè¿°æ‰€æœ‰æ–¹æ³•éƒ½ä½¿ç”¨ Hub çš„ API æ¥ä¸Šä¼ æ–‡ä»¶ã€‚è¿™æ˜¯ä¸Šä¼ æ–‡ä»¶åˆ° Hub çš„æ¨èæ–¹å¼ã€‚ä½†æ˜¯ï¼Œæˆ‘ä»¬è¿˜æä¾› [Repository](/docs/huggingface_hub/v0.20.3/en/package_reference/repository#huggingface_hub.Repository)ï¼Œè¿™æ˜¯ä¸€ä¸ªå›´ç»•
    git å·¥å…·çš„åŒ…è£…å™¨ï¼Œç”¨äºç®¡ç†æœ¬åœ°å­˜å‚¨åº“ã€‚
- en: Although [Repository](/docs/huggingface_hub/v0.20.3/en/package_reference/repository#huggingface_hub.Repository)
    is not formally deprecated, we recommend using the HTTP-based methods described
    above instead. For more details about this recommendation, please have a look
    at [this guide](../concepts/git_vs_http) explaining the core differences between
    HTTP-based and Git-based approaches.
  id: totrans-102
  prefs: []
  type: TYPE_NORMAL
  zh: è™½ç„¶[Repository](/docs/huggingface_hub/v0.20.3/en/package_reference/repository#huggingface_hub.Repository)æ²¡æœ‰æ­£å¼å¼ƒç”¨ï¼Œä½†æˆ‘ä»¬å»ºè®®ä½¿ç”¨ä¸Šé¢æè¿°çš„åŸºäºHTTPçš„æ–¹æ³•ã€‚æœ‰å…³æ­¤å»ºè®®çš„æ›´å¤šè¯¦ç»†ä¿¡æ¯ï¼Œè¯·æŸ¥çœ‹è§£é‡ŠåŸºäºHTTPå’ŒåŸºäºGitæ–¹æ³•ä¹‹é—´æ ¸å¿ƒå·®å¼‚çš„[æ­¤æŒ‡å—](../concepts/git_vs_http)ã€‚
- en: 'Git LFS automatically handles files larger than 10MB. But for very large files
    (>5GB), you need to install a custom transfer agent for Git LFS:'
  id: totrans-103
  prefs: []
  type: TYPE_NORMAL
  zh: Git LFSä¼šè‡ªåŠ¨å¤„ç†å¤§äº10MBçš„æ–‡ä»¶ã€‚ä½†å¯¹äºéå¸¸å¤§çš„æ–‡ä»¶ï¼ˆ>5GBï¼‰ï¼Œæ‚¨éœ€è¦ä¸ºGit LFSå®‰è£…è‡ªå®šä¹‰ä¼ è¾“ä»£ç†ï¼š
- en: '[PRE13]'
  id: totrans-104
  prefs: []
  type: TYPE_PRE
  zh: '[PRE13]'
- en: You should install this for each repository that has a very large file. Once
    installed, youâ€™ll be able to push files larger than 5GB.
  id: totrans-105
  prefs: []
  type: TYPE_NORMAL
  zh: æ‚¨åº”è¯¥ä¸ºæ¯ä¸ªå…·æœ‰éå¸¸å¤§æ–‡ä»¶çš„å­˜å‚¨åº“å®‰è£…æ­¤ã€‚å®‰è£…åï¼Œæ‚¨å°†èƒ½å¤Ÿæ¨é€å¤§äº5GBçš„æ–‡ä»¶ã€‚
- en: commit context manager
  id: totrans-106
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: commitä¸Šä¸‹æ–‡ç®¡ç†å™¨
- en: 'The `commit` context manager handles four of the most common Git commands:
    pull, add, commit, and push. `git-lfs` automatically tracks any file larger than
    10MB. In the following example, the `commit` context manager:'
  id: totrans-107
  prefs: []
  type: TYPE_NORMAL
  zh: '`commit`ä¸Šä¸‹æ–‡ç®¡ç†å™¨å¤„ç†å››ä¸ªæœ€å¸¸è§çš„Gitå‘½ä»¤ï¼špullã€addã€commitå’Œpushã€‚`git-lfs`ä¼šè‡ªåŠ¨è·Ÿè¸ªä»»ä½•å¤§äº10MBçš„æ–‡ä»¶ã€‚åœ¨ä¸‹é¢çš„ç¤ºä¾‹ä¸­ï¼Œ`commit`ä¸Šä¸‹æ–‡ç®¡ç†å™¨ï¼š'
- en: Pulls from the `text-files` repository.
  id: totrans-108
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: ä»`text-files`å­˜å‚¨åº“ä¸­æ‹‰å–ã€‚
- en: Adds a change made to `file.txt`.
  id: totrans-109
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: æ·»åŠ å¯¹`file.txt`æ‰€åšçš„æ›´æ”¹ã€‚
- en: Commits the change.
  id: totrans-110
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: æäº¤æ›´æ”¹ã€‚
- en: Pushes the change to the `text-files` repository.
  id: totrans-111
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: å°†æ›´æ”¹æ¨é€åˆ°`text-files`å­˜å‚¨åº“ã€‚
- en: '[PRE14]'
  id: totrans-112
  prefs: []
  type: TYPE_PRE
  zh: '[PRE14]'
- en: 'Here is another example of how to use the `commit` context manager to save
    and upload a file to a repository:'
  id: totrans-113
  prefs: []
  type: TYPE_NORMAL
  zh: ä»¥ä¸‹æ˜¯å¦‚ä½•ä½¿ç”¨`commit`ä¸Šä¸‹æ–‡ç®¡ç†å™¨å°†æ–‡ä»¶ä¿å­˜å¹¶ä¸Šä¼ åˆ°å­˜å‚¨åº“çš„å¦ä¸€ä¸ªç¤ºä¾‹ï¼š
- en: '[PRE15]'
  id: totrans-114
  prefs: []
  type: TYPE_PRE
  zh: '[PRE15]'
- en: Set `blocking=False` if you would like to push your commits asynchronously.
    Non-blocking behavior is helpful when you want to continue running your script
    while your commits are being pushed.
  id: totrans-115
  prefs: []
  type: TYPE_NORMAL
  zh: å¦‚æœè¦å¼‚æ­¥æ¨é€æäº¤ï¼Œè¯·è®¾ç½®`blocking=False`ã€‚éé˜»å¡è¡Œä¸ºåœ¨æ‚¨å¸Œæœ›åœ¨æäº¤è¢«æ¨é€æ—¶ç»§ç»­è¿è¡Œè„šæœ¬æ—¶å¾ˆæœ‰å¸®åŠ©ã€‚
- en: '[PRE16]'
  id: totrans-116
  prefs: []
  type: TYPE_PRE
  zh: '[PRE16]'
- en: 'You can check the status of your push with the `command_queue` method:'
  id: totrans-117
  prefs: []
  type: TYPE_NORMAL
  zh: æ‚¨å¯ä»¥ä½¿ç”¨`command_queue`æ–¹æ³•æ£€æŸ¥æ¨é€çš„çŠ¶æ€ï¼š
- en: '[PRE17]'
  id: totrans-118
  prefs: []
  type: TYPE_PRE
  zh: '[PRE17]'
- en: 'Refer to the table below for the possible statuses:'
  id: totrans-119
  prefs: []
  type: TYPE_NORMAL
  zh: è¯·å‚è€ƒä¸‹è¡¨ä»¥è·å–å¯èƒ½çš„çŠ¶æ€ï¼š
- en: '| Status | Description |'
  id: totrans-120
  prefs: []
  type: TYPE_TB
  zh: '| çŠ¶æ€ | æè¿° |'
- en: '| --- | --- |'
  id: totrans-121
  prefs: []
  type: TYPE_TB
  zh: '| --- | --- |'
- en: '| -1 | The push is ongoing. |'
  id: totrans-122
  prefs: []
  type: TYPE_TB
  zh: '| -1 | æ¨é€æ­£åœ¨è¿›è¡Œä¸­ã€‚|'
- en: '| 0 | The push has completed successfully. |'
  id: totrans-123
  prefs: []
  type: TYPE_TB
  zh: '| 0 | æ¨é€å·²æˆåŠŸå®Œæˆã€‚|'
- en: '| Non-zero | An error has occurred. |'
  id: totrans-124
  prefs: []
  type: TYPE_TB
  zh: '| éé›¶ | å‘ç”Ÿäº†é”™è¯¯ã€‚|'
- en: 'When `blocking=False`, commands are tracked, and your script will only exit
    when all pushes are completed, even if other errors occur in your script. Some
    additional useful commands for checking the status of a push include:'
  id: totrans-125
  prefs: []
  type: TYPE_NORMAL
  zh: å½“`blocking=False`æ—¶ï¼Œå‘½ä»¤ä¼šè¢«è·Ÿè¸ªï¼Œåªæœ‰å½“æ‰€æœ‰æ¨é€å®Œæˆæ—¶ï¼Œæ‚¨çš„è„šæœ¬æ‰ä¼šé€€å‡ºï¼Œå³ä½¿åœ¨è„šæœ¬ä¸­å‘ç”Ÿå…¶ä»–é”™è¯¯ã€‚ç”¨äºæ£€æŸ¥æ¨é€çŠ¶æ€çš„ä¸€äº›é¢å¤–æœ‰ç”¨çš„å‘½ä»¤åŒ…æ‹¬ï¼š
- en: '[PRE18]'
  id: totrans-126
  prefs: []
  type: TYPE_PRE
  zh: '[PRE18]'
- en: push_to_hub
  id: totrans-127
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: push_to_hub
- en: The [Repository](/docs/huggingface_hub/v0.20.3/en/package_reference/repository#huggingface_hub.Repository)
    class has a [push_to_hub()](/docs/huggingface_hub/v0.20.3/en/package_reference/repository#huggingface_hub.Repository.push_to_hub)
    function to add files, make a commit, and push them to a repository. Unlike the
    `commit` context manager, youâ€™ll need to pull from a repository first before calling
    [push_to_hub()](/docs/huggingface_hub/v0.20.3/en/package_reference/repository#huggingface_hub.Repository.push_to_hub).
  id: totrans-128
  prefs: []
  type: TYPE_NORMAL
  zh: '[Repository](/docs/huggingface_hub/v0.20.3/en/package_reference/repository#huggingface_hub.Repository)ç±»æœ‰ä¸€ä¸ª[push_to_hub()](/docs/huggingface_hub/v0.20.3/en/package_reference/repository#huggingface_hub.Repository.push_to_hub)å‡½æ•°ï¼Œç”¨äºæ·»åŠ æ–‡ä»¶ï¼Œè¿›è¡Œæäº¤å¹¶å°†å®ƒä»¬æ¨é€åˆ°å­˜å‚¨åº“ã€‚ä¸`commit`ä¸Šä¸‹æ–‡ç®¡ç†å™¨ä¸åŒï¼Œæ‚¨éœ€è¦å…ˆä»å­˜å‚¨åº“ä¸­æ‹‰å–ï¼Œç„¶åæ‰èƒ½è°ƒç”¨[push_to_hub()](/docs/huggingface_hub/v0.20.3/en/package_reference/repository#huggingface_hub.Repository.push_to_hub)ã€‚'
- en: 'For example, if youâ€™ve already cloned a repository from the Hub, then you can
    initialize the `repo` from the local directory:'
  id: totrans-129
  prefs: []
  type: TYPE_NORMAL
  zh: ä¾‹å¦‚ï¼Œå¦‚æœæ‚¨å·²ç»ä»Hubå…‹éš†äº†ä¸€ä¸ªå­˜å‚¨åº“ï¼Œé‚£ä¹ˆæ‚¨å¯ä»¥ä»æœ¬åœ°ç›®å½•åˆå§‹åŒ–`repo`ï¼š
- en: '[PRE19]'
  id: totrans-130
  prefs: []
  type: TYPE_PRE
  zh: '[PRE19]'
- en: 'Update your local clone with [git_pull()](/docs/huggingface_hub/v0.20.3/en/package_reference/repository#huggingface_hub.Repository.git_pull)
    and then push your file to the Hub:'
  id: totrans-131
  prefs: []
  type: TYPE_NORMAL
  zh: ä½¿ç”¨[git_pull()](/docs/huggingface_hub/v0.20.3/en/package_reference/repository#huggingface_hub.Repository.git_pull)æ›´æ–°æœ¬åœ°å…‹éš†ï¼Œç„¶åå°†æ–‡ä»¶æ¨é€åˆ°Hubï¼š
- en: '[PRE20]'
  id: totrans-132
  prefs: []
  type: TYPE_PRE
  zh: '[PRE20]'
- en: 'However, if you arenâ€™t ready to push a file yet, you can use [git_add()](/docs/huggingface_hub/v0.20.3/en/package_reference/repository#huggingface_hub.Repository.git_add)
    and [git_commit()](/docs/huggingface_hub/v0.20.3/en/package_reference/repository#huggingface_hub.Repository.git_commit)
    to only add and commit your file:'
  id: totrans-133
  prefs: []
  type: TYPE_NORMAL
  zh: ä½†æ˜¯ï¼Œå¦‚æœæ‚¨è¿˜æ²¡æœ‰å‡†å¤‡å¥½æ¨é€æ–‡ä»¶ï¼Œæ‚¨å¯ä»¥ä½¿ç”¨[git_add()](/docs/huggingface_hub/v0.20.3/en/package_reference/repository#huggingface_hub.Repository.git_add)å’Œ[git_commit()](/docs/huggingface_hub/v0.20.3/en/package_reference/repository#huggingface_hub.Repository.git_commit)ä»…æ·»åŠ å’Œæäº¤æ‚¨çš„æ–‡ä»¶ï¼š
- en: '[PRE21]'
  id: totrans-134
  prefs: []
  type: TYPE_PRE
  zh: '[PRE21]'
- en: 'When youâ€™re ready, push the file to your repository with [git_push()](/docs/huggingface_hub/v0.20.3/en/package_reference/repository#huggingface_hub.Repository.git_push):'
  id: totrans-135
  prefs: []
  type: TYPE_NORMAL
  zh: å‡†å¤‡å¥½åï¼Œä½¿ç”¨[git_push()](/docs/huggingface_hub/v0.20.3/en/package_reference/repository#huggingface_hub.Repository.git_push)å°†æ–‡ä»¶æ¨é€åˆ°æ‚¨çš„å­˜å‚¨åº“ï¼š
- en: '[PRE22]'
  id: totrans-136
  prefs: []
  type: TYPE_PRE
  zh: '[PRE22]'
