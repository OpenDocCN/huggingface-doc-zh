- en: Create a dataset
  id: totrans-0
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: åˆ›å»ºæ•°æ®é›†
- en: 'Original text: [https://huggingface.co/docs/datasets/create_dataset](https://huggingface.co/docs/datasets/create_dataset)'
  id: totrans-1
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
  zh: åŸå§‹æ–‡æœ¬ï¼š[https://huggingface.co/docs/datasets/create_dataset](https://huggingface.co/docs/datasets/create_dataset)
- en: null
  id: totrans-2
  prefs: []
  type: TYPE_NORMAL
- en: 'Sometimes, you may need to create a dataset if youâ€™re working with your own
    data. Creating a dataset with ğŸ¤— Datasets confers all the advantages of the library
    to your dataset: fast loading and processing, [stream enormous datasets](stream),
    [memory-mapping](https://huggingface.co/course/chapter5/4?fw=pt#the-magic-of-memory-mapping),
    and more. You can easily and rapidly create a dataset with ğŸ¤— Datasets low-code
    approaches, reducing the time it takes to start training a model. In many cases,
    it is as easy as [dragging and dropping](upload_dataset#upload-with-the-hub-ui)
    your data files into a dataset repository on the Hub.'
  id: totrans-3
  prefs: []
  type: TYPE_NORMAL
  zh: æœ‰æ—¶ï¼Œå¦‚æœæ‚¨ä½¿ç”¨è‡ªå·±çš„æ•°æ®ï¼Œå¯èƒ½éœ€è¦åˆ›å»ºæ•°æ®é›†ã€‚ä½¿ç”¨ğŸ¤—æ•°æ®é›†åˆ›å»ºæ•°æ®é›†å°†ä¸ºæ‚¨çš„æ•°æ®é›†æä¾›åº“çš„æ‰€æœ‰ä¼˜åŠ¿ï¼šå¿«é€ŸåŠ è½½å’Œå¤„ç†ï¼Œ[æµå¼å¤„ç†å¤§å‹æ•°æ®é›†](stream)ï¼Œ[å†…å­˜æ˜ å°„](https://huggingface.co/course/chapter5/4?fw=pt#the-magic-of-memory-mapping)ç­‰ã€‚æ‚¨å¯ä»¥ä½¿ç”¨ğŸ¤—æ•°æ®é›†çš„ä½ä»£ç æ–¹æ³•è½»æ¾å¿«é€Ÿåœ°åˆ›å»ºæ•°æ®é›†ï¼Œç¼©çŸ­å¯åŠ¨è®­ç»ƒæ¨¡å‹æ‰€éœ€çš„æ—¶é—´ã€‚åœ¨è®¸å¤šæƒ…å†µä¸‹ï¼Œåªéœ€å°†æ•°æ®æ–‡ä»¶[æ‹–æ”¾](upload_dataset#upload-with-the-hub-ui)åˆ°Hubä¸Šçš„æ•°æ®é›†å­˜å‚¨åº“ä¸­å³å¯ã€‚
- en: 'In this tutorial, youâ€™ll learn how to use ğŸ¤— Datasets low-code methods for creating
    all types of datasets:'
  id: totrans-4
  prefs: []
  type: TYPE_NORMAL
  zh: åœ¨æœ¬æ•™ç¨‹ä¸­ï¼Œæ‚¨å°†å­¦ä¹ å¦‚ä½•ä½¿ç”¨ğŸ¤—æ•°æ®é›†çš„ä½ä»£ç æ–¹æ³•åˆ›å»ºå„ç§ç±»å‹çš„æ•°æ®é›†ï¼š
- en: Folder-based builders for quickly creating an image or audio dataset
  id: totrans-5
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: ç”¨äºå¿«é€Ÿåˆ›å»ºå›¾åƒæˆ–éŸ³é¢‘æ•°æ®é›†çš„åŸºäºæ–‡ä»¶å¤¹çš„æ„å»ºå™¨
- en: '`from_` methods for creating datasets from local files'
  id: totrans-6
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`from_`æ–¹æ³•ç”¨äºä»æœ¬åœ°æ–‡ä»¶åˆ›å»ºæ•°æ®é›†'
- en: Folder-based builders
  id: totrans-7
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: åŸºäºæ–‡ä»¶å¤¹çš„æ„å»ºå™¨
- en: 'There are two folder-based builders, `ImageFolder` and `AudioFolder`. These
    are low-code methods for quickly creating an image or speech and audio dataset
    with several thousand examples. They are great for rapidly prototyping computer
    vision and speech models before scaling to a larger dataset. Folder-based builders
    takes your data and automatically generates the datasetâ€™s features, splits, and
    labels. Under the hood:'
  id: totrans-8
  prefs: []
  type: TYPE_NORMAL
  zh: æœ‰ä¸¤ç§åŸºäºæ–‡ä»¶å¤¹çš„æ„å»ºå™¨ï¼Œ`ImageFolder`å’Œ`AudioFolder`ã€‚è¿™äº›æ˜¯ç”¨äºå¿«é€Ÿåˆ›å»ºå…·æœ‰æ•°åƒä¸ªç¤ºä¾‹çš„å›¾åƒæˆ–è¯­éŸ³å’ŒéŸ³é¢‘æ•°æ®é›†çš„ä½ä»£ç æ–¹æ³•ã€‚å®ƒä»¬éå¸¸é€‚åˆåœ¨æ‰©å±•åˆ°æ›´å¤§æ•°æ®é›†ä¹‹å‰å¿«é€ŸåŸå‹åŒ–è®¡ç®—æœºè§†è§‰å’Œè¯­éŸ³æ¨¡å‹ã€‚åŸºäºæ–‡ä»¶å¤¹çš„æ„å»ºå™¨ä¼šè·å–æ‚¨çš„æ•°æ®å¹¶è‡ªåŠ¨ç”Ÿæˆæ•°æ®é›†çš„ç‰¹å¾ã€æ‹†åˆ†å’Œæ ‡ç­¾ã€‚åœ¨å¹•åï¼š
- en: '`ImageFolder` uses the [Image](/docs/datasets/v2.17.0/en/package_reference/main_classes#datasets.Image)
    feature to decode an image file. Many image extension formats are supported, such
    as jpg and png, but other formats are also supported. You can check the complete
    [list](https://github.com/huggingface/datasets/blob/b5672a956d5de864e6f5550e493527d962d6ae55/src/datasets/packaged_modules/imagefolder/imagefolder.py#L39)
    of supported image extensions.'
  id: totrans-9
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`ImageFolder`ä½¿ç”¨[Image](/docs/datasets/v2.17.0/en/package_reference/main_classes#datasets.Image)åŠŸèƒ½æ¥è§£ç å›¾åƒæ–‡ä»¶ã€‚æ”¯æŒè®¸å¤šå›¾åƒæ‰©å±•æ ¼å¼ï¼Œå¦‚jpgå’Œpngï¼Œä½†ä¹Ÿæ”¯æŒå…¶ä»–æ ¼å¼ã€‚æ‚¨å¯ä»¥æŸ¥çœ‹æ”¯æŒçš„å›¾åƒæ‰©å±•çš„å®Œæ•´[åˆ—è¡¨](https://github.com/huggingface/datasets/blob/b5672a956d5de864e6f5550e493527d962d6ae55/src/datasets/packaged_modules/imagefolder/imagefolder.py#L39)ã€‚'
- en: '`AudioFolder` uses the [Audio](/docs/datasets/v2.17.0/en/package_reference/main_classes#datasets.Audio)
    feature to decode an audio file. Audio extensions such as wav and mp3 are supported,
    and you can check the complete [list](https://github.com/huggingface/datasets/blob/b5672a956d5de864e6f5550e493527d962d6ae55/src/datasets/packaged_modules/audiofolder/audiofolder.py#L39)
    of supported audio extensions.'
  id: totrans-10
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`AudioFolder`ä½¿ç”¨[Audio](/docs/datasets/v2.17.0/en/package_reference/main_classes#datasets.Audio)åŠŸèƒ½æ¥è§£ç éŸ³é¢‘æ–‡ä»¶ã€‚æ”¯æŒéŸ³é¢‘æ‰©å±•åï¼Œå¦‚wavå’Œmp3ï¼Œå¹¶ä¸”æ‚¨å¯ä»¥æŸ¥çœ‹æ”¯æŒçš„éŸ³é¢‘æ‰©å±•çš„å®Œæ•´[åˆ—è¡¨](https://github.com/huggingface/datasets/blob/b5672a956d5de864e6f5550e493527d962d6ae55/src/datasets/packaged_modules/audiofolder/audiofolder.py#L39)ã€‚'
- en: The dataset splits are generated from the repository structure, and the label
    names are automatically inferred from the directory name.
  id: totrans-11
  prefs: []
  type: TYPE_NORMAL
  zh: æ•°æ®é›†æ‹†åˆ†æ˜¯ä»å­˜å‚¨åº“ç»“æ„ç”Ÿæˆçš„ï¼Œæ ‡ç­¾åç§°æ˜¯ä»ç›®å½•åç§°è‡ªåŠ¨æ¨æ–­çš„ã€‚
- en: 'For example, if your image dataset (it is the same for an audio dataset) is
    stored like this:'
  id: totrans-12
  prefs: []
  type: TYPE_NORMAL
  zh: ä¾‹å¦‚ï¼Œå¦‚æœæ‚¨çš„å›¾åƒæ•°æ®é›†ï¼ˆéŸ³é¢‘æ•°æ®é›†ä¹Ÿæ˜¯å¦‚æ­¤ï¼‰å­˜å‚¨å¦‚ä¸‹ï¼š
- en: '[PRE0]'
  id: totrans-13
  prefs: []
  type: TYPE_PRE
  zh: '[PRE0]'
- en: 'Then this is how the folder-based builder generates an example:'
  id: totrans-14
  prefs: []
  type: TYPE_NORMAL
  zh: ç„¶åè¿™æ˜¯åŸºäºæ–‡ä»¶å¤¹çš„æ„å»ºå™¨ç”Ÿæˆç¤ºä¾‹çš„æ–¹å¼ï¼š
- en: '![](../Images/d6a5c14251bdec13daced7044c522123.png)'
  id: totrans-15
  prefs: []
  type: TYPE_IMG
  zh: '![](../Images/d6a5c14251bdec13daced7044c522123.png)'
- en: 'Create the image dataset by specifying `imagefolder` in [load_dataset()](/docs/datasets/v2.17.0/en/package_reference/loading_methods#datasets.load_dataset):'
  id: totrans-16
  prefs: []
  type: TYPE_NORMAL
  zh: é€šè¿‡åœ¨[load_dataset()](/docs/datasets/v2.17.0/en/package_reference/loading_methods#datasets.load_dataset)ä¸­æŒ‡å®š`imagefolder`æ¥åˆ›å»ºå›¾åƒæ•°æ®é›†ï¼š
- en: '[PRE1]'
  id: totrans-17
  prefs: []
  type: TYPE_PRE
  zh: '[PRE1]'
- en: 'An audio dataset is created in the same way, except you specify `audiofolder`
    in [load_dataset()](/docs/datasets/v2.17.0/en/package_reference/loading_methods#datasets.load_dataset)
    instead:'
  id: totrans-18
  prefs: []
  type: TYPE_NORMAL
  zh: éŸ³é¢‘æ•°æ®é›†çš„åˆ›å»ºæ–¹å¼ä¸ä¹‹ç›¸åŒï¼Œåªæ˜¯æ‚¨åœ¨[load_dataset()](/docs/datasets/v2.17.0/en/package_reference/loading_methods#datasets.load_dataset)ä¸­æŒ‡å®š`audiofolder`ï¼š
- en: '[PRE2]'
  id: totrans-19
  prefs: []
  type: TYPE_PRE
  zh: '[PRE2]'
- en: 'Any additional information about your dataset, such as text captions or transcriptions,
    can be included with a `metadata.csv` file in the folder containing your dataset.
    The metadata file needs to have a `file_name` column that links the image or audio
    file to its corresponding metadata:'
  id: totrans-20
  prefs: []
  type: TYPE_NORMAL
  zh: æ‚¨çš„æ•°æ®é›†ä¸­å¯ä»¥åŒ…å«æœ‰å…³æ•°æ®é›†çš„ä»»ä½•å…¶ä»–ä¿¡æ¯ï¼Œä¾‹å¦‚æ–‡æœ¬æ ‡é¢˜æˆ–è½¬å½•ï¼Œå¯ä»¥åœ¨åŒ…å«æ•°æ®é›†çš„æ–‡ä»¶å¤¹ä¸­ä½¿ç”¨`metadata.csv`æ–‡ä»¶åŒ…å«ã€‚å…ƒæ•°æ®æ–‡ä»¶éœ€è¦æœ‰ä¸€ä¸ª`file_name`åˆ—ï¼Œå°†å›¾åƒæˆ–éŸ³é¢‘æ–‡ä»¶ä¸å…¶å¯¹åº”çš„å…ƒæ•°æ®é“¾æ¥èµ·æ¥ï¼š
- en: '[PRE3]'
  id: totrans-21
  prefs: []
  type: TYPE_PRE
  zh: '[PRE3]'
- en: To learn more about each of these folder-based builders, check out the and [ImageFolder](https://huggingface.co/docs/datasets/image_dataset#imagefolder)
    or [AudioFolder](https://huggingface.co/docs/datasets/audio_dataset#audiofolder)
    guides.
  id: totrans-22
  prefs: []
  type: TYPE_NORMAL
  zh: è¦äº†è§£æ¯ä¸ªåŸºäºæ–‡ä»¶å¤¹çš„æ„å»ºå™¨çš„æ›´å¤šä¿¡æ¯ï¼Œè¯·æŸ¥çœ‹[ImageFolder](https://huggingface.co/docs/datasets/image_dataset#imagefolder)æˆ–[AudioFolder](https://huggingface.co/docs/datasets/audio_dataset#audiofolder)æŒ‡å—ã€‚
- en: From local files
  id: totrans-23
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: ä»æœ¬åœ°æ–‡ä»¶
- en: 'You can also create a dataset from local files by specifying the path to the
    data files. There are two ways you can create a dataset using the `from_` methods:'
  id: totrans-24
  prefs: []
  type: TYPE_NORMAL
  zh: æ‚¨è¿˜å¯ä»¥é€šè¿‡æŒ‡å®šæ•°æ®æ–‡ä»¶çš„è·¯å¾„ä»æœ¬åœ°æ–‡ä»¶åˆ›å»ºæ•°æ®é›†ã€‚æœ‰ä¸¤ç§ä½¿ç”¨`from_`æ–¹æ³•åˆ›å»ºæ•°æ®é›†çš„æ–¹å¼ï¼š
- en: The [from_generator()](/docs/datasets/v2.17.0/en/package_reference/main_classes#datasets.Dataset.from_generator)
    method is the most memory-efficient way to create a dataset from a [generator](https://wiki.python.org/moin/Generators)
    due to a generators iterative behavior. This is especially useful when youâ€™re
    working with a really large dataset that may not fit in memory, since the dataset
    is generated on disk progressively and then memory-mapped.
  id: totrans-25
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[from_generator()](/docs/datasets/v2.17.0/en/package_reference/main_classes#datasets.Dataset.from_generator)
    æ–¹æ³•æ˜¯ä»[generator](https://wiki.python.org/moin/Generators)åˆ›å»ºæ•°æ®é›†çš„æœ€èŠ‚çœå†…å­˜çš„æ–¹å¼ï¼Œå› ä¸ºç”Ÿæˆå™¨å…·æœ‰è¿­ä»£è¡Œä¸ºã€‚å½“æ‚¨å¤„ç†å¯èƒ½æ— æ³•æ”¾å…¥å†…å­˜çš„éå¸¸å¤§çš„æ•°æ®é›†æ—¶ï¼Œè¿™æ˜¯ç‰¹åˆ«æœ‰ç”¨çš„ï¼Œå› ä¸ºæ•°æ®é›†æ˜¯é€æ­¥åœ¨ç£ç›˜ä¸Šç”Ÿæˆï¼Œç„¶åè¿›è¡Œå†…å­˜æ˜ å°„ã€‚'
- en: '[PRE4]'
  id: totrans-26
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE4]'
- en: 'A generator-based [IterableDataset](/docs/datasets/v2.17.0/en/package_reference/main_classes#datasets.IterableDataset)
    needs to be iterated over with a `for` loop for example:'
  id: totrans-27
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: åŸºäºç”Ÿæˆå™¨çš„[IterableDataset](/docs/datasets/v2.17.0/en/package_reference/main_classes#datasets.IterableDataset)éœ€è¦ä½¿ç”¨`for`å¾ªç¯è¿›è¡Œè¿­ä»£ï¼Œä¾‹å¦‚ï¼š
- en: '[PRE5]'
  id: totrans-28
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE5]'
- en: 'The [from_dict()](/docs/datasets/v2.17.0/en/package_reference/main_classes#datasets.Dataset.from_dict)
    method is a straightforward way to create a dataset from a dictionary:'
  id: totrans-29
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[from_dict()](/docs/datasets/v2.17.0/en/package_reference/main_classes#datasets.Dataset.from_dict)
    æ–¹æ³•æ˜¯ä»å­—å…¸åˆ›å»ºæ•°æ®é›†çš„ç›´æ¥æ–¹å¼ï¼š'
- en: '[PRE6]'
  id: totrans-30
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE6]'
- en: 'To create an image or audio dataset, chain the [cast_column()](/docs/datasets/v2.17.0/en/package_reference/main_classes#datasets.Dataset.cast_column)
    method with [from_dict()](/docs/datasets/v2.17.0/en/package_reference/main_classes#datasets.Dataset.from_dict)
    and specify the column and feature type. For example, to create an audio dataset:'
  id: totrans-31
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: è¦åˆ›å»ºå›¾åƒæˆ–éŸ³é¢‘æ•°æ®é›†ï¼Œè¯·ä½¿ç”¨[cast_column()](/docs/datasets/v2.17.0/en/package_reference/main_classes#datasets.Dataset.cast_column)æ–¹æ³•ä¸[from_dict()](/docs/datasets/v2.17.0/en/package_reference/main_classes#datasets.Dataset.from_dict)é“¾æ¥ï¼Œå¹¶æŒ‡å®šåˆ—å’Œç‰¹å¾ç±»å‹ã€‚ä¾‹å¦‚ï¼Œè¦åˆ›å»ºéŸ³é¢‘æ•°æ®é›†ï¼š
- en: '[PRE7]'
  id: totrans-32
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE7]'
- en: Next steps
  id: totrans-33
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: ä¸‹ä¸€æ­¥
- en: We didnâ€™t mention this in the tutorial, but you can also create a dataset with
    a loading script. A loading script is a more manual and code-intensive method
    for creating a dataset, but it also gives you the most flexibility and control
    over how a dataset is generated. It lets you configure additional options such
    as creating multiple configurations within a dataset, or enabling your dataset
    to be streamed.
  id: totrans-34
  prefs: []
  type: TYPE_NORMAL
  zh: æˆ‘ä»¬åœ¨æ•™ç¨‹ä¸­æ²¡æœ‰æåˆ°è¿™ä¸€ç‚¹ï¼Œä½†æ‚¨ä¹Ÿå¯ä»¥ä½¿ç”¨åŠ è½½è„šæœ¬åˆ›å»ºæ•°æ®é›†ã€‚åŠ è½½è„šæœ¬æ˜¯åˆ›å»ºæ•°æ®é›†çš„ä¸€ç§æ›´æ‰‹åŠ¨å’Œä»£ç å¯†é›†çš„æ–¹æ³•ï¼Œä½†å®ƒä¹Ÿä¸ºæ‚¨æä¾›äº†æœ€çµæ´»å’Œæ§åˆ¶æ•°æ®é›†ç”Ÿæˆæ–¹å¼çš„æ–¹å¼ã€‚å®ƒå…è®¸æ‚¨é…ç½®é¢å¤–é€‰é¡¹ï¼Œä¾‹å¦‚åœ¨æ•°æ®é›†ä¸­åˆ›å»ºå¤šä¸ªé…ç½®ï¼Œæˆ–ä½¿æ•°æ®é›†èƒ½å¤Ÿæµå¼ä¼ è¾“ã€‚
- en: To learn more about how to write loading scripts, take a look at the [image
    loading script](https://huggingface.co/docs/datasets/main/en/image_dataset#loading-script),
    [audio loading script](https://huggingface.co/docs/datasets/main/en/audio_dataset),
    and [text loading script](https://huggingface.co/docs/datasets/main/en/dataset_script)
    guides.
  id: totrans-35
  prefs: []
  type: TYPE_NORMAL
  zh: è¦äº†è§£æ›´å¤šå…³äºå¦‚ä½•ç¼–å†™åŠ è½½è„šæœ¬çš„ä¿¡æ¯ï¼Œè¯·æŸ¥çœ‹[å›¾åƒåŠ è½½è„šæœ¬](https://huggingface.co/docs/datasets/main/en/image_dataset#loading-script)ã€[éŸ³é¢‘åŠ è½½è„šæœ¬](https://huggingface.co/docs/datasets/main/en/audio_dataset)å’Œ[æ–‡æœ¬åŠ è½½è„šæœ¬](https://huggingface.co/docs/datasets/main/en/dataset_script)æŒ‡å—ã€‚
- en: Now that you know how to create a dataset, consider sharing it on the Hub so
    the community can also benefit from your work! Go on to the next section to learn
    how to share your dataset.
  id: totrans-36
  prefs: []
  type: TYPE_NORMAL
  zh: ç°åœ¨æ‚¨çŸ¥é“å¦‚ä½•åˆ›å»ºæ•°æ®é›†ï¼Œè¯·è€ƒè™‘åœ¨Hubä¸Šå…±äº«ï¼Œä»¥ä¾¿ç¤¾åŒºä¹Ÿå¯ä»¥ä»æ‚¨çš„å·¥ä½œä¸­å—ç›Šï¼ç»§ç»­ä¸‹ä¸€èŠ‚ï¼Œäº†è§£å¦‚ä½•å…±äº«æ‚¨çš„æ•°æ®é›†ã€‚
