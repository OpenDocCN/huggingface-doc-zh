- en: Distilled Stable Diffusion inference
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
- en: 原文：[https://huggingface.co/docs/diffusers/using-diffusers/distilled_sd](https://huggingface.co/docs/diffusers/using-diffusers/distilled_sd)
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
- en: <link href="/docs/diffusers/v0.26.3/en/_app/immutable/assets/0.e3b0c442.css"
    rel="modulepreload"> <link rel="modulepreload" href="/docs/diffusers/v0.26.3/en/_app/immutable/entry/start.99629b4a.js">
    <link rel="modulepreload" href="/docs/diffusers/v0.26.3/en/_app/immutable/chunks/scheduler.182ea377.js">
    <link rel="modulepreload" href="/docs/diffusers/v0.26.3/en/_app/immutable/chunks/singletons.fade7992.js">
    <link rel="modulepreload" href="/docs/diffusers/v0.26.3/en/_app/immutable/chunks/index.1f6d62f6.js">
    <link rel="modulepreload" href="/docs/diffusers/v0.26.3/en/_app/immutable/chunks/paths.108a236d.js">
    <link rel="modulepreload" href="/docs/diffusers/v0.26.3/en/_app/immutable/entry/app.2b3eaeb0.js">
    <link rel="modulepreload" href="/docs/diffusers/v0.26.3/en/_app/immutable/chunks/index.abf12888.js">
    <link rel="modulepreload" href="/docs/diffusers/v0.26.3/en/_app/immutable/nodes/0.3862a335.js">
    <link rel="modulepreload" href="/docs/diffusers/v0.26.3/en/_app/immutable/chunks/each.e59479a4.js">
    <link rel="modulepreload" href="/docs/diffusers/v0.26.3/en/_app/immutable/nodes/167.f604da24.js">
    <link rel="modulepreload" href="/docs/diffusers/v0.26.3/en/_app/immutable/chunks/Tip.230e2334.js">
    <link rel="modulepreload" href="/docs/diffusers/v0.26.3/en/_app/immutable/chunks/CodeBlock.57fe6e13.js">
    <link rel="modulepreload" href="/docs/diffusers/v0.26.3/en/_app/immutable/chunks/DocNotebookDropdown.5fa27ace.js">
    <link rel="modulepreload" href="/docs/diffusers/v0.26.3/en/_app/immutable/chunks/globals.7f7f1b26.js">
    <link rel="modulepreload" href="/docs/diffusers/v0.26.3/en/_app/immutable/chunks/Heading.16916d63.js">
  prefs: []
  type: TYPE_NORMAL
- en: Stable Diffusion inference can be a computationally intensive process because
    it must iteratively denoise the latents to generate an image. To reduce the computational
    burden, you can use a *distilled* version of the Stable Diffusion model from [Nota
    AI](https://huggingface.co/nota-ai). The distilled version of their Stable Diffusion
    model eliminates some of the residual and attention blocks from the UNet, reducing
    the model size by 51% and improving latency on CPU/GPU by 43%.
  prefs: []
  type: TYPE_NORMAL
- en: Read this [blog post](https://huggingface.co/blog/sd_distillation) to learn
    more about how knowledge distillation training works to produce a faster, smaller,
    and cheaper generative model.
  prefs: []
  type: TYPE_NORMAL
- en: 'Let’s load the distilled Stable Diffusion model and compare it against the
    original Stable Diffusion model:'
  prefs: []
  type: TYPE_NORMAL
- en: '[PRE0]'
  prefs: []
  type: TYPE_PRE
- en: 'Given a prompt, get the inference time for the original model:'
  prefs: []
  type: TYPE_NORMAL
- en: '[PRE1]'
  prefs: []
  type: TYPE_PRE
- en: 'Time the distilled model inference:'
  prefs: []
  type: TYPE_NORMAL
- en: '[PRE2]'
  prefs: []
  type: TYPE_PRE
- en: '![](../Images/f82acf1004076b7b492a9df026e46793.png)'
  prefs: []
  type: TYPE_IMG
- en: original Stable Diffusion (45781.5 ms)
  prefs: []
  type: TYPE_NORMAL
- en: '![](../Images/fdcbeffef0420159642acccb6336a302.png)'
  prefs: []
  type: TYPE_IMG
- en: distilled Stable Diffusion (29884.2 ms)
  prefs: []
  type: TYPE_NORMAL
- en: Tiny AutoEncoder
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
- en: 'To speed inference up even more, use a tiny distilled version of the [Stable
    Diffusion VAE](https://huggingface.co/sayakpaul/taesdxl-diffusers) to denoise
    the latents into images. Replace the VAE in the distilled Stable Diffusion model
    with the tiny VAE:'
  prefs: []
  type: TYPE_NORMAL
- en: '[PRE3]'
  prefs: []
  type: TYPE_PRE
- en: 'Time the distilled model and distilled VAE inference:'
  prefs: []
  type: TYPE_NORMAL
- en: '[PRE4]'
  prefs: []
  type: TYPE_PRE
- en: '![](../Images/3eae18d18492330797db5d70b23824f7.png)'
  prefs: []
  type: TYPE_IMG
- en: distilled Stable Diffusion + Tiny AutoEncoder (27165.7 ms)
  prefs: []
  type: TYPE_NORMAL
