- en: Set up AWS Trainium instance
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
- en: 原文：[https://huggingface.co/docs/optimum-neuron/guides/setup_aws_instance](https://huggingface.co/docs/optimum-neuron/guides/setup_aws_instance)
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
- en: <link href="/docs/optimum.neuron/main/en/_app/immutable/assets/0.e3b0c442.css"
    rel="modulepreload"> <link rel="modulepreload" href="/docs/optimum.neuron/main/en/_app/immutable/entry/start.abfe5599.js">
    <link rel="modulepreload" href="/docs/optimum.neuron/main/en/_app/immutable/chunks/scheduler.9039eef2.js">
    <link rel="modulepreload" href="/docs/optimum.neuron/main/en/_app/immutable/chunks/singletons.9144bb03.js">
    <link rel="modulepreload" href="/docs/optimum.neuron/main/en/_app/immutable/chunks/paths.e169ac99.js">
    <link rel="modulepreload" href="/docs/optimum.neuron/main/en/_app/immutable/entry/app.df8ec0a0.js">
    <link rel="modulepreload" href="/docs/optimum.neuron/main/en/_app/immutable/chunks/index.cdcc3d35.js">
    <link rel="modulepreload" href="/docs/optimum.neuron/main/en/_app/immutable/nodes/0.a52c6f40.js">
    <link rel="modulepreload" href="/docs/optimum.neuron/main/en/_app/immutable/chunks/each.e59479a4.js">
    <link rel="modulepreload" href="/docs/optimum.neuron/main/en/_app/immutable/nodes/12.c8eb5f59.js">
    <link rel="modulepreload" href="/docs/optimum.neuron/main/en/_app/immutable/chunks/CodeBlock.e3ac94d9.js">
    <link rel="modulepreload" href="/docs/optimum.neuron/main/en/_app/immutable/chunks/Heading.96ce3702.js">
  prefs: []
  type: TYPE_NORMAL
- en: The simplest way to work with AWS Trainium and Hugging Face Transformers is
    the [Hugging Face Neuron Deep Learning AMI](https://aws.amazon.com/marketplace/pp/prodview-gr3e6yiscria2)
    (DLAMI). The DLAMI comes with all required libraries pre-packaged for you, including
    the Neuron Drivers, Transformers, Datasets, and Accelerate.
  prefs: []
  type: TYPE_NORMAL
- en: To create an EC2 Trainium instance, you can start from the console or the Marketplace.
    This guide will start from the [EC2 console](https://console.aws.amazon.com/ec2sp/v2/).
  prefs: []
  type: TYPE_NORMAL
- en: Starting from the [EC2 console](https://console.aws.amazon.com/ec2sp/v2/) in
    the us-east-1 region, You first click on **Launch an instance** and define a name
    for the instance (`trainium-huggingface-demo`).
  prefs: []
  type: TYPE_NORMAL
- en: '![name instance](../Images/4ae118d91de241a02eac5a60a7c84c19.png)'
  prefs: []
  type: TYPE_IMG
- en: Next, you search the Amazon Marketplace for Hugging Face AMIs. Entering “Hugging
    Face” in the search bar for “Application and OS Images” and hitting “enter”.
  prefs: []
  type: TYPE_NORMAL
- en: '![search ami](../Images/6772b24124cd0cb5cd9fdc06ab3b2ff2.png)'
  prefs: []
  type: TYPE_IMG
- en: This should now open the “Choose an Amazon Machine Image” view with the search.
    You can now navigate to “AWS Marketplace AMIs” and find the [Hugging Face Neuron
    Deep Learning AMI](https://aws.amazon.com/marketplace/pp/prodview-gr3e6yiscria2)
    and click select.
  prefs: []
  type: TYPE_NORMAL
- en: '![select ami](../Images/ab2cb4242e9e18c0b05b0ac11d48ff22.png)'
  prefs: []
  type: TYPE_IMG
- en: '*You will be asked to subscribe if you aren’t. The AMI is completely free of
    charge, and you will only pay for the EC2 compute.*'
  prefs: []
  type: TYPE_NORMAL
- en: Then you need to define a key pair, which will be used to connect to the instance
    via `ssh`. You can create one in place if you don’t have a key pair.
  prefs: []
  type: TYPE_NORMAL
- en: '![select ssh key](../Images/a99df5d0152559b2dcff6e7ff9c05679.png)'
  prefs: []
  type: TYPE_IMG
- en: After that, create or select a [security group](https://docs.aws.amazon.com/vpc/latest/userguide/VPC_SecurityGroups.html).
    Important you want to allow `ssh` traffic.
  prefs: []
  type: TYPE_NORMAL
- en: '![select security group](../Images/32154190fe81f40c25c6c084be8f12b2.png)'
  prefs: []
  type: TYPE_IMG
- en: You are ready to launch our instance. Therefore click on “Launch Instance” on
    the right side.
  prefs: []
  type: TYPE_NORMAL
- en: '![select ssh key](../Images/a0f0c6ff8e4c6b8b3663e667ef1ade7f.png)'
  prefs: []
  type: TYPE_IMG
- en: AWS will now provision the instance using the [Hugging Face Neuron Deep Learning
    AMI](https://aws.amazon.com/marketplace/pp/prodview-gr3e6yiscria2). Additional
    configurations can be made by increasing the disk space or creating an instance
    profile to access other AWS services.
  prefs: []
  type: TYPE_NORMAL
- en: After the instance runs, you can view and copy the public IPv4 address to `ssh`
    into the machine.
  prefs: []
  type: TYPE_NORMAL
- en: '![select public dns](../Images/34825c7d759e01cf6360f461f88978e1.png)'
  prefs: []
  type: TYPE_IMG
- en: Replace the empty strings `""` in the snippet below with the IP address of your
    instances and the path to the key pair you created/selected when launching the
    instance.
  prefs: []
  type: TYPE_NORMAL
- en: '[PRE0]'
  prefs: []
  type: TYPE_PRE
- en: After you are connected, you can run `neuron-ls` to ensure you have access to
    the Trainium accelerators. You should see a similar output than below.
  prefs: []
  type: TYPE_NORMAL
- en: '[PRE1]'
  prefs: []
  type: TYPE_PRE
- en: You are done! You can now start using the Trainium accelerators with Hugging
    Face Transformers. Check out the [Fine-tune Transformers with AWS Trainium](./fine_tune)
    guide to get started.
  prefs: []
  type: TYPE_NORMAL
