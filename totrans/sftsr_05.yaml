- en: Metadata Parsing
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
- en: 'Original text: [https://huggingface.co/docs/safetensors/metadata_parsing](https://huggingface.co/docs/safetensors/metadata_parsing)'
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
- en:  
    
    
    
    
    
    
    
    
    
    
    
  prefs: []
  type: TYPE_NORMAL
- en: Given the simplicity of the format, itâ€™s very simple and efficient to fetch
    and parse metadata about Safetensors weights â€“ i.e. the list of tensors, their
    types, and their shapes or numbers of parameters â€“ using small [(Range) HTTP requests](https://developer.mozilla.org/en-US/docs/Web/HTTP/Range_requests).
  prefs: []
  type: TYPE_NORMAL
- en: This parsing has been implemented in JS in [`huggingface.js`](https://huggingface.co/docs/huggingface.js/main/en/hub/modules#parsesafetensorsmetadata)
    (sample code follows below), but it would be similar in any language.
  prefs: []
  type: TYPE_NORMAL
- en: Example use case
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
- en: 'There can be many potential use cases. For instance, we use it on the HuggingFace
    Hub to display info about models which have safetensors weights:'
  prefs: []
  type: TYPE_NORMAL
- en: '![](../Images/555be3a5ebb40fdd1a0fbd5277d15b1a.png) ![](../Images/1feaa6e3290eb5ae97b1e2e5279e0de1.png)![](../Images/213783eaa480d7a50c99889522778fdd.png)
    ![](../Images/b63c0bdd195755851d17295e7a367d1b.png)'
  prefs: []
  type: TYPE_IMG
- en: Usage
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
- en: httpjavascriptpython
  prefs: []
  type: TYPE_NORMAL
- en: From [ðŸ¤— Hub](hf.co/models), you can get metadata of a model with [HTTP range
    requests](https://developer.mozilla.org/en-US/docs/Web/HTTP/Range_requests) instead
    of downloading the entire safetensors file with all the weights. In this example
    python script below (you can use any language that has HTTP requests support),
    we are parsing metadata of [gpt2](https://huggingface.co/gpt2/blob/main/model.safetensors).
  prefs: []
  type: TYPE_NORMAL
- en: '[PRE0]'
  prefs: []
  type: TYPE_PRE
- en: Example output
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
- en: For instance, here are the number of params per dtype for a few models on the
    HuggingFace Hub. Also see [this issue](https://github.com/huggingface/safetensors/issues/44)
    for more examples of usage.
  prefs: []
  type: TYPE_NORMAL
- en: '| model | safetensors | params |'
  prefs: []
  type: TYPE_TB
- en: '| --- | --- | --- |'
  prefs: []
  type: TYPE_TB
- en: '| [gpt2](https://huggingface.co/gpt2?show_tensors=true) | single-file | { â€˜F32â€™
    => 137022720 } |'
  prefs: []
  type: TYPE_TB
- en: '| [roberta-base](https://huggingface.co/roberta-base?show_tensors=true) | single-file
    | { â€˜F32â€™ => 124697433, â€˜I64â€™ => 514 } |'
  prefs: []
  type: TYPE_TB
- en: '| [Jean-Baptiste/camembert-ner](https://huggingface.co/Jean-Baptiste/camembert-ner?show_tensors=true)
    | single-file | { â€˜F32â€™ => 110035205, â€˜I64â€™ => 514 } |'
  prefs: []
  type: TYPE_TB
- en: '| [roberta-large](https://huggingface.co/roberta-large?show_tensors=true) |
    single-file | { â€˜F32â€™ => 355412057, â€˜I64â€™ => 514 } |'
  prefs: []
  type: TYPE_TB
- en: '| [distilbert-base-german-cased](https://huggingface.co/distilbert-base-german-cased?show_tensors=true)
    | single-file | { â€˜F32â€™ => 67431550 } |'
  prefs: []
  type: TYPE_TB
- en: '| [EleutherAI/gpt-neox-20b](https://huggingface.co/EleutherAI/gpt-neox-20b?show_tensors=true)
    | sharded | { â€˜F16â€™ => 20554568208, â€˜U8â€™ => 184549376 } |'
  prefs: []
  type: TYPE_TB
- en: '| [bigscience/bloom-560m](https://huggingface.co/bigscience/bloom-560m?show_tensors=true)
    | single-file | { â€˜F16â€™ => 559214592 } |'
  prefs: []
  type: TYPE_TB
- en: '| [bigscience/bloom](https://huggingface.co/bigscience/bloom?show_tensors=true)
    | sharded | { â€˜BF16â€™ => 176247271424 } |'
  prefs: []
  type: TYPE_TB
- en: '| [bigscience/bloom-3b](https://huggingface.co/bigscience/bloom-3b?show_tensors=true)
    | single-file | { â€˜F16â€™ => 3002557440 } |'
  prefs: []
  type: TYPE_TB
