- en: Process text data
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
- en: 'Original text: [https://huggingface.co/docs/datasets/nlp_process](https://huggingface.co/docs/datasets/nlp_process)'
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
- en:  
    
    
    
    
    
    
    
    
    
    
    
  prefs: []
  type: TYPE_NORMAL
- en: 'This guide shows specific methods for processing text datasets. Learn how to:'
  prefs: []
  type: TYPE_NORMAL
- en: Tokenize a dataset with [map()](/docs/datasets/v2.17.0/en/package_reference/main_classes#datasets.Dataset.map).
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: Align dataset labels with label ids for NLI datasets.
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: For a guide on how to process any type of dataset, take a look at the [general
    process guide](./process).
  prefs: []
  type: TYPE_NORMAL
- en: Map
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
- en: The [map()](/docs/datasets/v2.17.0/en/package_reference/main_classes#datasets.Dataset.map)
    function supports processing batches of examples at once which speeds up tokenization.
  prefs: []
  type: TYPE_NORMAL
- en: 'Load a tokenizer from ðŸ¤— [Transformers](https://huggingface.co/transformers/):'
  prefs: []
  type: TYPE_NORMAL
- en: '[PRE0]'
  prefs: []
  type: TYPE_PRE
- en: 'Set the `batched` parameter to `True` in the [map()](/docs/datasets/v2.17.0/en/package_reference/main_classes#datasets.Dataset.map)
    function to apply the tokenizer to batches of examples:'
  prefs: []
  type: TYPE_NORMAL
- en: '[PRE1]'
  prefs: []
  type: TYPE_PRE
- en: 'The [map()](/docs/datasets/v2.17.0/en/package_reference/main_classes#datasets.Dataset.map)
    function converts the returned values to a PyArrow-supported format. But explicitly
    returning the tensors as NumPy arrays is faster because it is a natively supported
    PyArrow format. Set `return_tensors="np"` when you tokenize your text:'
  prefs: []
  type: TYPE_NORMAL
- en: '[PRE2]'
  prefs: []
  type: TYPE_PRE
- en: Align
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
- en: 'The [align_labels_with_mapping()](/docs/datasets/v2.17.0/en/package_reference/main_classes#datasets.Dataset.align_labels_with_mapping)
    function aligns a dataset label id with the label name. Not all ðŸ¤— Transformers
    models follow the prescribed label mapping of the original dataset, especially
    for NLI datasets. For example, the [MNLI](https://huggingface.co/datasets/glue)
    dataset uses the following label mapping:'
  prefs: []
  type: TYPE_NORMAL
- en: '[PRE3]'
  prefs: []
  type: TYPE_PRE
- en: 'To align the dataset label mapping with the mapping used by a model, create
    a dictionary of the label name and id to align on:'
  prefs: []
  type: TYPE_NORMAL
- en: '[PRE4]'
  prefs: []
  type: TYPE_PRE
- en: 'Pass the dictionary of the label mappings to the [align_labels_with_mapping()](/docs/datasets/v2.17.0/en/package_reference/main_classes#datasets.Dataset.align_labels_with_mapping)
    function, and the column to align on:'
  prefs: []
  type: TYPE_NORMAL
- en: '[PRE5]'
  prefs: []
  type: TYPE_PRE
- en: You can also use this function to assign a custom mapping of labels to ids.
  prefs: []
  type: TYPE_NORMAL
