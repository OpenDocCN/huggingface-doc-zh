# UNet1DModel

> åŸæ–‡é“¾æ¥: [`huggingface.co/docs/diffusers/api/models/unet`](https://huggingface.co/docs/diffusers/api/models/unet)

[UNet](https://huggingface.co/papers/1505.04597) æ¨¡å‹æœ€åˆç”± Ronneberger ç­‰äººæå‡ºï¼Œç”¨äºç”Ÿç‰©åŒ»å­¦å›¾åƒåˆ†å‰²ï¼Œä½†å®ƒä¹Ÿå¸¸ç”¨äº ğŸ¤— Diffusersï¼Œå› ä¸ºå®ƒè¾“å‡ºä¸è¾“å…¥ç›¸åŒå¤§å°çš„å›¾åƒã€‚å®ƒæ˜¯æ‰©æ•£ç³»ç»Ÿä¸­æœ€é‡è¦çš„ç»„ä»¶ä¹‹ä¸€ï¼Œå› ä¸ºå®ƒä¿ƒè¿›äº†å®é™…çš„æ‰©æ•£è¿‡ç¨‹ã€‚åœ¨ ğŸ¤— Diffusers ä¸­æœ‰å‡ ä¸ª UNet æ¨¡å‹çš„å˜ä½“ï¼Œå–å†³äºå…¶ç»´åº¦æ•°é‡ä»¥åŠæ˜¯å¦æ˜¯æ¡ä»¶æ¨¡å‹ã€‚è¿™æ˜¯ä¸€ä¸ª 1D UNet æ¨¡å‹ã€‚

è®ºæ–‡æ‘˜è¦å¦‚ä¸‹ï¼š

*æœ‰å¾ˆå¤šäººè®¤ä¸ºæˆåŠŸè®­ç»ƒæ·±åº¦ç½‘ç»œéœ€è¦æˆåƒä¸Šä¸‡ä¸ªæ³¨é‡Šçš„è®­ç»ƒæ ·æœ¬ã€‚åœ¨æœ¬æ–‡ä¸­ï¼Œæˆ‘ä»¬æå‡ºäº†ä¸€ç§ä¾èµ–äºå¼ºå¤§æ•°æ®å¢å¼ºçš„ç½‘ç»œå’Œè®­ç»ƒç­–ç•¥ï¼Œä»¥æ›´æœ‰æ•ˆåœ°åˆ©ç”¨å¯ç”¨çš„æ³¨é‡Šæ ·æœ¬ã€‚è¯¥æ¶æ„ç”±ä¸€ä¸ªæ”¶ç¼©è·¯å¾„å’Œä¸€ä¸ªå¯¹ç§°æ‰©å±•è·¯å¾„ç»„æˆï¼Œç”¨äºæ•è·ä¸Šä¸‹æ–‡å’Œå®ç°ç²¾ç¡®çš„å®šä½ã€‚æˆ‘ä»¬å±•ç¤ºäº†è¿™æ ·ä¸€ä¸ªç½‘ç»œå¯ä»¥ä»å¾ˆå°‘çš„å›¾åƒç«¯åˆ°ç«¯åœ°è®­ç»ƒï¼Œå¹¶ä¸”åœ¨ ISBI æŒ‘æˆ˜ä¸­ï¼ˆç”¨äºç”µå­æ˜¾å¾®é•œå †ä¸­ç¥ç»ç»“æ„åˆ†å‰²ï¼‰èƒœè¿‡å…ˆå‰æœ€ä½³æ–¹æ³•ï¼ˆæ»‘åŠ¨çª—å£å·ç§¯ç½‘ç»œï¼‰ã€‚ä½¿ç”¨ç›¸åŒçš„ç½‘ç»œåœ¨é€å°„å…‰å­¦æ˜¾å¾®é•œå›¾åƒï¼ˆç›¸å·®å’Œ DICï¼‰ä¸Šè®­ç»ƒï¼Œæˆ‘ä»¬åœ¨è¿™äº›ç±»åˆ«ä¸Šä»¥å¾ˆå¤§çš„ä¼˜åŠ¿èµ¢å¾—äº† 2015 å¹´ ISBI ç»†èƒè·Ÿè¸ªæŒ‘æˆ˜ã€‚æ­¤å¤–ï¼Œè¯¥ç½‘ç»œé€Ÿåº¦å¾ˆå¿«ã€‚åœ¨æœ€æ–°çš„ GPU ä¸Šï¼Œå¯¹ 512x512 å›¾åƒçš„åˆ†å‰²ä¸åˆ°ä¸€ç§’ã€‚å®Œæ•´çš„å®ç°ï¼ˆåŸºäº Caffeï¼‰å’Œè®­ç»ƒçš„ç½‘ç»œå¯åœ¨ [`lmb.informatik.uni-freiburg.de/people/ronneber/u-net`](http://lmb.informatik.uni-freiburg.de/people/ronneber/u-net) ä¸Šè·å¾—ã€‚*

## UNet1DModel

### `class diffusers.UNet1DModel`

[<æ¥æº>](https://github.com/huggingface/diffusers/blob/v0.26.3/src/diffusers/models/unets/unet_1d.py#L41)

```py
( sample_size: int = 65536 sample_rate: Optional = None in_channels: int = 2 out_channels: int = 2 extra_in_channels: int = 0 time_embedding_type: str = 'fourier' flip_sin_to_cos: bool = True use_timestep_embedding: bool = False freq_shift: float = 0.0 down_block_types: Tuple = ('DownBlock1DNoSkip', 'DownBlock1D', 'AttnDownBlock1D') up_block_types: Tuple = ('AttnUpBlock1D', 'UpBlock1D', 'UpBlock1DNoSkip') mid_block_type: Tuple = 'UNetMidBlock1D' out_block_type: str = None block_out_channels: Tuple = (32, 32, 64) act_fn: str = None norm_num_groups: int = 8 layers_per_block: int = 1 downsample_each_block: bool = False )
```

å‚æ•°

+   `sample_size` (`int`, *optional*) â€” æ ·æœ¬çš„é»˜è®¤é•¿åº¦ã€‚åº”åœ¨è¿è¡Œæ—¶é€‚åº”ã€‚

+   `in_channels` (`int`, *optional*, é»˜è®¤ä¸º 2) â€” è¾“å…¥æ ·æœ¬ä¸­çš„é€šé“æ•°ã€‚

+   `out_channels` (`int`, *optional*, é»˜è®¤ä¸º 2) â€” è¾“å‡ºä¸­çš„é€šé“æ•°ã€‚

+   `extra_in_channels` (`int`, *optional*, é»˜è®¤ä¸º 0) â€” è¦æ·»åŠ åˆ°ç¬¬ä¸€ä¸ªä¸‹å—è¾“å…¥çš„é¢å¤–é€šé“æ•°ã€‚åœ¨è¾“å…¥æ•°æ®çš„é€šé“æ•°å¤šäºæ¨¡å‹æœ€åˆè®¾è®¡çš„æƒ…å†µä¸‹å¾ˆæœ‰ç”¨ã€‚

+   `time_embedding_type` (`str`, *optional*, é»˜è®¤ä¸º `"fourier"`) â€” è¦ä½¿ç”¨çš„æ—¶é—´åµŒå…¥ç±»å‹ã€‚

+   `freq_shift` (`float`, *optional*, é»˜è®¤ä¸º 0.0) â€” ç”¨äºå‚…ç«‹å¶æ—¶é—´åµŒå…¥çš„é¢‘ç‡åç§»ã€‚

+   `flip_sin_to_cos` (`bool`, *optional*, é»˜è®¤ä¸º `False`) â€” æ˜¯å¦å°†æ­£å¼¦ç¿»è½¬ä¸ºä½™å¼¦ä»¥ç”¨äºå‚…ç«‹å¶æ—¶é—´åµŒå…¥ã€‚

+   `down_block_types` (`Tuple[str]`, *optional*, é»˜è®¤ä¸º `("DownBlock1DNoSkip", "DownBlock1D", "AttnDownBlock1D")`) â€” ä¸‹é‡‡æ ·å—ç±»å‹çš„å…ƒç»„ã€‚

+   `up_block_types` (`Tuple[str]`, *optional*, é»˜è®¤ä¸º `("AttnUpBlock1D", "UpBlock1D", "UpBlock1DNoSkip")`) â€” ä¸Šé‡‡æ ·å—ç±»å‹çš„å…ƒç»„ã€‚

+   `block_out_channels` (`Tuple[int]`, *optional*, é»˜è®¤ä¸º `(32, 32, 64)`) â€” å—è¾“å‡ºé€šé“çš„å…ƒç»„ã€‚

+   `mid_block_type` (`str`, *optional*, é»˜è®¤ä¸º `"UNetMidBlock1D"`) â€” UNet ä¸­é—´å—çš„ç±»å‹ã€‚

+   `out_block_type` (`str`, *optional*, é»˜è®¤ä¸º `None`) â€” UNet çš„å¯é€‰è¾“å‡ºå¤„ç†å—ã€‚

+   `act_fn` (`str`, *optional*, é»˜è®¤ä¸º `None`) â€” UNet å—ä¸­çš„å¯é€‰æ¿€æ´»å‡½æ•°ã€‚

+   `norm_num_groups` (`int`, *optional*, é»˜è®¤ä¸º 8) â€” ç”¨äºå½’ä¸€åŒ–çš„ç»„æ•°ã€‚

+   `layers_per_block` (`int`, *optional*, é»˜è®¤ä¸º 1) â€” æ¯ä¸ªå—çš„å±‚æ•°ã€‚

+   `downsample_each_block` (`int`, *optional*, é»˜è®¤ä¸º `False`) â€” ç”¨äºä½¿ç”¨æ— ä¸Šé‡‡æ ·çš„ UNet çš„å®éªŒæ€§åŠŸèƒ½ã€‚

ä¸€ä¸ª 1D UNet æ¨¡å‹ï¼Œæ¥å—ä¸€ä¸ªå˜ˆæ‚çš„æ ·æœ¬å’Œä¸€ä¸ªæ—¶é—´æ­¥é•¿ï¼Œå¹¶è¿”å›ä¸€ä¸ªå½¢çŠ¶ç›¸åŒçš„è¾“å‡ºæ ·æœ¬ã€‚

æ­¤æ¨¡å‹ç»§æ‰¿è‡ª ModelMixinã€‚æŸ¥çœ‹è¶…ç±»æ–‡æ¡£ä»¥äº†è§£ä¸ºæ‰€æœ‰æ¨¡å‹å®ç°çš„é€šç”¨æ–¹æ³•ï¼ˆå¦‚ä¸‹è½½æˆ–ä¿å­˜ï¼‰ã€‚

#### `forward`

[< source >](https://github.com/huggingface/diffusers/blob/v0.26.3/src/diffusers/models/unets/unet_1d.py#L195)

```py
( sample: FloatTensor timestep: Union return_dict: bool = True ) â†’ export const metadata = 'undefined';~models.unet_1d.UNet1DOutput or tuple
```

å‚æ•°

+   `sample` (`torch.FloatTensor`) â€” å…·æœ‰ä»¥ä¸‹å½¢çŠ¶çš„å˜ˆæ‚è¾“å…¥å¼ é‡ `(batch_size, num_channels, sample_size)`ã€‚

+   `timestep` (`torch.FloatTensor` æˆ– `float` æˆ– `int`) â€” å¯¹è¾“å…¥è¿›è¡Œå»å™ªçš„æ—¶é—´æ­¥æ•°ã€‚

+   `return_dict` (`bool`ï¼Œ*å¯é€‰*ï¼Œé»˜è®¤ä¸º `True`) â€” æ˜¯å¦è¿”å›ä¸€ä¸ª `~models.unet_1d.UNet1DOutput` è€Œä¸æ˜¯ä¸€ä¸ªæ™®é€šçš„å…ƒç»„ã€‚

è¿”å›

`~models.unet_1d.UNet1DOutput` æˆ– `tuple`

å¦‚æœ `return_dict` ä¸º Trueï¼Œåˆ™è¿”å›ä¸€ä¸ª `~models.unet_1d.UNet1DOutput`ï¼Œå¦åˆ™è¿”å›ä¸€ä¸ªå…ƒç»„ï¼Œå…¶ä¸­ç¬¬ä¸€ä¸ªå…ƒç´ æ˜¯æ ·æœ¬å¼ é‡ã€‚

UNet1DModel çš„å‰å‘æ–¹æ³•ã€‚

## UNet1DOutput

### `class diffusers.models.unets.unet_1d.UNet1DOutput`

[< source >](https://github.com/huggingface/diffusers/blob/v0.26.3/src/diffusers/models/unets/unet_1d.py#L28)

```py
( sample: FloatTensor )
```

å‚æ•°

+   `sample` (`torch.FloatTensor`ï¼Œå½¢çŠ¶ä¸º `(batch_size, num_channels, sample_size)`) â€” æ¨¡å‹æœ€åä¸€å±‚çš„éšè—çŠ¶æ€è¾“å‡ºã€‚

UNet1DModel çš„è¾“å‡ºã€‚
