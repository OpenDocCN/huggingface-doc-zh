# å®‰è£…å’Œé…ç½®

> åŸæ–‡é“¾æ¥ï¼š[`huggingface.co/docs/accelerate/basic_tutorials/install`](https://huggingface.co/docs/accelerate/basic_tutorials/install)

åœ¨å¼€å§‹ä¹‹å‰ï¼Œæ‚¨éœ€è¦è®¾ç½®æ‚¨çš„ç¯å¢ƒï¼Œå®‰è£…é€‚å½“çš„è½¯ä»¶åŒ…ï¼Œå¹¶é…ç½®ğŸ¤— Accelerateã€‚ğŸ¤— Accelerate åœ¨ **Python 3.8+** ä¸Šè¿›è¡Œæµ‹è¯•ã€‚

## å®‰è£… ğŸ¤— Accelerate

ğŸ¤— Accelerate å¯ä»¥åœ¨ pypiã€conda å’Œ GitHub ä¸Šè·å¾—ã€‚ä»æ¯ä¸ªä½ç½®å®‰è£…çš„è¯¦ç»†ä¿¡æ¯å¦‚ä¸‹ï¼š

### pip

è¦ä» pypi å®‰è£… ğŸ¤— Accelerateï¼Œè¯·æ‰§è¡Œï¼š

```py
pip install accelerate
```

### conda

ğŸ¤— Accelerate ä¹Ÿå¯ä»¥ä½¿ç”¨ conda å®‰è£…ï¼š

```py
conda install -c conda-forge accelerate
```

### æ¥æº

æ¯å¤©éƒ½ä¼šæ·»åŠ æ–°åŠŸèƒ½ï¼Œè¿™äº›åŠŸèƒ½å°šæœªå‘å¸ƒã€‚è¦è‡ªå·±å°è¯•ï¼Œè¯·ä» GitHub å­˜å‚¨åº“å®‰è£…ï¼š

```py
pip install git+https://github.com/huggingface/accelerate
```

å¦‚æœæ‚¨æ­£åœ¨ä¸ºè¯¥åº“åšè´¡çŒ®æˆ–å¸Œæœ›ç©å¼„æºä»£ç å¹¶åœ¨è¿è¡Œä»£ç æ—¶çœ‹åˆ°å®æ—¶ç»“æœï¼Œå¯ä»¥ä»æœ¬åœ°å…‹éš†çš„å­˜å‚¨åº“ç‰ˆæœ¬å®‰è£…å¯ç¼–è¾‘ç‰ˆæœ¬ï¼š

```py
git clone https://github.com/huggingface/accelerate
cd accelerate
pip install -e .
```

## é…ç½® ğŸ¤— Accelerate

å®‰è£…å®Œæˆåï¼Œæ‚¨éœ€è¦æ ¹æ®å½“å‰ç³»ç»Ÿçš„è®­ç»ƒè®¾ç½®é…ç½® ğŸ¤— Accelerateã€‚ä¸ºæ­¤ï¼Œè¯·è¿è¡Œä»¥ä¸‹å‘½ä»¤å¹¶å›ç­”æç¤ºç»™æ‚¨çš„é—®é¢˜ï¼š

```py
accelerate config
```

è¦ç¼–å†™ä¸€ä¸ªä¸åŒ…æ‹¬ DeepSpeed é…ç½®æˆ–åœ¨ TPUs ä¸Šè¿è¡Œç­‰é€‰é¡¹çš„åŸºæœ¬é…ç½®ï¼Œæ‚¨å¯ä»¥å¿«é€Ÿè¿è¡Œï¼š

```py
python -c "from accelerate.utils import write_basic_config; write_basic_config(mixed_precision='fp16')"
```

ğŸ¤— Accelerate å°†è‡ªåŠ¨åˆ©ç”¨å¯ç”¨çš„æœ€å¤§æ•°é‡çš„ GPU å¹¶è®¾ç½®æ··åˆç²¾åº¦æ¨¡å¼ã€‚

ä¸ºäº†æ£€æŸ¥æ‚¨çš„é…ç½®æ˜¯å¦æ­£ç¡®ï¼Œè¯·è¿è¡Œï¼š

```py
accelerate env
```

ä¸‹é¢æ˜¾ç¤ºäº†ä¸€ä¸ªç¤ºä¾‹è¾“å‡ºï¼Œæè¿°äº†åœ¨å•å°æœºå™¨ä¸Šä½¿ç”¨ä¸¤ä¸ª GPUï¼Œä¸”æœªä½¿ç”¨æ··åˆç²¾åº¦ï¼š

```py
- `Accelerate` version: 0.11.0.dev0
- Platform: Linux-5.10.0-15-cloud-amd64-x86_64-with-debian-11.3
- Python version: 3.7.12
- Numpy version: 1.19.5
- PyTorch version (GPU?): 1.12.0+cu102 (True)
- `Accelerate` default config:
        - compute_environment: LOCAL_MACHINE
        - distributed_type: MULTI_GPU
        - mixed_precision: no
        - use_cpu: False
        - num_processes: 2
        - machine_rank: 0
        - num_machines: 1
        - main_process_ip: None
        - main_process_port: None
        - main_training_function: main
        - deepspeed_config: {}
        - fsdp_config: {}
```
