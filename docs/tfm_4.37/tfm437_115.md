# æ—¥å¿—è®°å½•

> åŸå§‹æ–‡æœ¬ï¼š[`huggingface.co/docs/transformers/v4.37.2/en/main_classes/logging`](https://huggingface.co/docs/transformers/v4.37.2/en/main_classes/logging)

ğŸ¤— Transformers å…·æœ‰é›†ä¸­çš„æ—¥å¿—è®°å½•ç³»ç»Ÿï¼Œå› æ­¤æ‚¨å¯ä»¥è½»æ¾è®¾ç½®åº“çš„è¯¦ç»†ç¨‹åº¦ã€‚

ç›®å‰åº“çš„é»˜è®¤è¯¦ç»†ç¨‹åº¦ä¸º`WARNING`ã€‚

è¦æ›´æ”¹è¯¦ç»†ç¨‹åº¦ï¼Œè¯·ä½¿ç”¨å…¶ä¸­ä¸€ä¸ªç›´æ¥è®¾ç½®å™¨ã€‚ä¾‹å¦‚ï¼Œä»¥ä¸‹æ˜¯å¦‚ä½•å°†è¯¦ç»†ç¨‹åº¦æ›´æ”¹ä¸º INFO çº§åˆ«ã€‚

```py
import transformers

transformers.logging.set_verbosity_info()
```

æ‚¨è¿˜å¯ä»¥ä½¿ç”¨ç¯å¢ƒå˜é‡`TRANSFORMERS_VERBOSITY`æ¥è¦†ç›–é»˜è®¤çš„è¯¦ç»†ç¨‹åº¦ã€‚æ‚¨å¯ä»¥å°†å…¶è®¾ç½®ä¸ºä»¥ä¸‹ä¹‹ä¸€ï¼š`debug`ï¼Œ`info`ï¼Œ`warning`ï¼Œ`error`ï¼Œ`critical`ã€‚ä¾‹å¦‚ï¼š

```py
TRANSFORMERS_VERBOSITY=error ./myprogram.py
```

æ­¤å¤–ï¼Œé€šè¿‡å°†ç¯å¢ƒå˜é‡`TRANSFORMERS_NO_ADVISORY_WARNINGS`è®¾ç½®ä¸ºçœŸå€¼ï¼ˆå¦‚*1*ï¼‰ï¼Œå¯ä»¥ç¦ç”¨ä¸€äº›`warnings`ã€‚è¿™å°†ç¦ç”¨ä½¿ç”¨`logger.warning_advice`è®°å½•çš„ä»»ä½•è­¦å‘Šã€‚ä¾‹å¦‚ï¼š

```py
TRANSFORMERS_NO_ADVISORY_WARNINGS=1 ./myprogram.py
```

ä»¥ä¸‹æ˜¯å¦‚ä½•åœ¨æ‚¨è‡ªå·±çš„æ¨¡å—æˆ–è„šæœ¬ä¸­ä½¿ç”¨ä¸åº“ç›¸åŒçš„è®°å½•å™¨çš„ç¤ºä¾‹ï¼š

```py
from transformers.utils import logging

logging.set_verbosity_info()
logger = logging.get_logger("transformers")
logger.info("INFO")
logger.warning("WARN")
```

æ­¤æ—¥å¿—è®°å½•æ¨¡å—çš„æ‰€æœ‰æ–¹æ³•éƒ½åœ¨ä¸‹é¢æœ‰æ–‡æ¡£è®°å½•ï¼Œä¸»è¦æ–¹æ³•æ˜¯ logging.get_verbosity()ç”¨äºè·å–è®°å½•å™¨ä¸­å½“å‰è¯¦ç»†ç¨‹åº¦çš„çº§åˆ«å’Œ logging.set_verbosity()ç”¨äºå°†è¯¦ç»†ç¨‹åº¦è®¾ç½®ä¸ºæ‚¨é€‰æ‹©çš„çº§åˆ«ã€‚æŒ‰é¡ºåºï¼ˆä»æœ€ä¸è¯¦ç»†åˆ°æœ€è¯¦ç»†ï¼‰ï¼Œè¿™äº›çº§åˆ«ï¼ˆåŠå…¶ç›¸åº”çš„æ•´æ•°å€¼ï¼‰ä¸ºï¼š

+   `transformers.logging.CRITICAL`æˆ–`transformers.logging.FATAL`ï¼ˆæ•´æ•°å€¼ï¼Œ50ï¼‰ï¼šä»…æŠ¥å‘Šæœ€å…³é”®çš„é”™è¯¯ã€‚

+   `transformers.logging.ERROR`ï¼ˆæ•´æ•°å€¼ï¼Œ40ï¼‰ï¼šä»…æŠ¥å‘Šé”™è¯¯ã€‚

+   `transformers.logging.WARNING`æˆ–`transformers.logging.WARN`ï¼ˆæ•´æ•°å€¼ï¼Œ30ï¼‰ï¼šä»…æŠ¥å‘Šé”™è¯¯å’Œè­¦å‘Šã€‚è¿™æ˜¯åº“ä½¿ç”¨çš„é»˜è®¤çº§åˆ«ã€‚

+   `transformers.logging.INFO`ï¼ˆæ•´æ•°å€¼ï¼Œ20ï¼‰ï¼šæŠ¥å‘Šé”™è¯¯ï¼Œè­¦å‘Šå’ŒåŸºæœ¬ä¿¡æ¯ã€‚

+   `transformers.logging.DEBUG`ï¼ˆæ•´æ•°å€¼ï¼Œ10ï¼‰ï¼šæŠ¥å‘Šæ‰€æœ‰ä¿¡æ¯ã€‚

é»˜è®¤æƒ…å†µä¸‹ï¼Œåœ¨æ¨¡å‹ä¸‹è½½æœŸé—´å°†æ˜¾ç¤º`tqdm`è¿›åº¦æ¡ã€‚logging.disable_progress_bar()å’Œ logging.enable_progress_bar()å¯ç”¨äºæŠ‘åˆ¶æˆ–å–æ¶ˆæŠ‘åˆ¶æ­¤è¡Œä¸ºã€‚

## æ—¥å¿—è®°å½•ä¸è­¦å‘Š

Python æœ‰ä¸¤ä¸ªç»å¸¸ä¸€èµ·ä½¿ç”¨çš„æ—¥å¿—è®°å½•ç³»ç»Ÿï¼š`logging`ï¼Œå¦‚ä¸Šæ‰€è¿°ï¼Œå’Œ`warnings`ï¼Œå…è®¸è¿›ä¸€æ­¥å¯¹è­¦å‘Šè¿›è¡Œåˆ†ç±»ï¼Œä¾‹å¦‚ï¼Œ`FutureWarning`ç”¨äºå·²ç»è¢«å¼ƒç”¨çš„åŠŸèƒ½æˆ–è·¯å¾„ï¼Œ`DeprecationWarning`ç”¨äºæŒ‡ç¤ºå³å°†è¢«å¼ƒç”¨çš„å†…å®¹ã€‚

æˆ‘ä»¬åœ¨`transformers`åº“ä¸­åŒæ—¶ä½¿ç”¨è¿™ä¸¤ç§ã€‚æˆ‘ä»¬åˆ©ç”¨å¹¶è°ƒæ•´`logging`çš„`captureWarning`æ–¹æ³•ï¼Œä»¥å…è®¸é€šè¿‡ä¸Šè¿°è¯¦ç»†ç¨‹åº¦è®¾ç½®å™¨ç®¡ç†è¿™äº›è­¦å‘Šæ¶ˆæ¯ã€‚

è¿™å¯¹åº“çš„å¼€å‘äººå‘˜æ„å‘³ç€ä»€ä¹ˆï¼Ÿæˆ‘ä»¬åº”è¯¥éµå®ˆä»¥ä¸‹å¯å‘å¼ï¼š

+   `warnings`åº”è¯¥ä¼˜å…ˆè€ƒè™‘åº“çš„å¼€å‘äººå‘˜å’Œä¾èµ–äº`transformers`çš„åº“ã€‚

+   `logging`åº”è¯¥ç”¨äºæ¯å¤©é¡¹ç›®ä¸­ä½¿ç”¨è¯¥åº“çš„æœ€ç»ˆç”¨æˆ·

è¯·å‚é˜…ä¸‹é¢çš„`captureWarnings`æ–¹æ³•çš„å‚è€ƒã€‚

#### `transformers.utils.logging.captureWarnings`

[<æ¥æº>](https://github.com/huggingface/transformers/blob/v4.37.2/src/transformers/utils/logging.py#L125)

```py
( capture )
```

è°ƒç”¨`logging`åº“ä¸­çš„`captureWarnings`æ–¹æ³•ï¼Œä»¥å¯ç”¨å¯¹`warnings`åº“å‘å‡ºçš„è­¦å‘Šçš„ç®¡ç†ã€‚

åœ¨æ­¤å¤„é˜…è¯»æœ‰å…³æ­¤æ–¹æ³•çš„æ›´å¤šä¿¡æ¯ï¼š[`docs.python.org/3/library/logging.html#integration-with-the-warnings-module`](https://docs.python.org/3/library/logging.html#integration-with-the-warnings-module)

æ‰€æœ‰è­¦å‘Šéƒ½å°†é€šè¿‡`py.warnings`è®°å½•å™¨è®°å½•ã€‚

æ³¨æ„ï¼šå¦‚æœæ­¤è®°å½•å™¨å°šæœªå…·æœ‰å¤„ç†ç¨‹åºï¼Œåˆ™æ­¤æ–¹æ³•è¿˜ä¼šå‘æ­¤è®°å½•å™¨æ·»åŠ å¤„ç†ç¨‹åºï¼Œå¹¶å°†è¯¥è®°å½•å™¨çš„è®°å½•çº§åˆ«æ›´æ–°ä¸ºåº“çš„æ ¹è®°å½•å™¨ã€‚

## åŸºæœ¬è®¾ç½®å™¨

#### `transformers.utils.logging.set_verbosity_error`

[<æ¥æº>](https://github.com/huggingface/transformers/blob/v4.37.2/src/transformers/utils/logging.py#L219)

```py
( )
```

å°†è¯¦ç»†ç¨‹åº¦è®¾ç½®ä¸º`ERROR`çº§åˆ«ã€‚

#### `transformers.utils.logging.set_verbosity_warning`

[<æ¥æº>](https://github.com/huggingface/transformers/blob/v4.37.2/src/transformers/utils/logging.py#L209)

```py
( )
```

å°†è¯¦ç»†ç¨‹åº¦è®¾ç½®ä¸º`WARNING`çº§åˆ«ã€‚

#### `transformers.utils.logging.set_verbosity_info`

[<æ¥æº>](https://github.com/huggingface/transformers/blob/v4.37.2/src/transformers/utils/logging.py#L204)

```py
( )
```

å°†è¯¦ç»†ç¨‹åº¦è®¾ç½®ä¸º`INFO`çº§åˆ«ã€‚

#### `transformers.utils.logging.set_verbosity_debug`

[<æ¥æº>](https://github.com/huggingface/transformers/blob/v4.37.2/src/transformers/utils/logging.py#L214)

```py
( )
```

å°†è¯¦ç»†ç¨‹åº¦è®¾ç½®ä¸º`DEBUG`çº§åˆ«ã€‚

## å…¶ä»–å‡½æ•°

#### `transformers.utils.logging.get_verbosity`

[<æ¥æº>](https://github.com/huggingface/transformers/blob/v4.37.2/src/transformers/utils/logging.py#L162)

```py
( ) â†’ export const metadata = 'undefined';int
```

è¿”å›

`int`

è®°å½•çº§åˆ«ã€‚

ä»¥ int å½¢å¼è¿”å›ğŸ¤— Transformers çš„æ ¹è®°å½•å™¨çš„å½“å‰çº§åˆ«ã€‚

ğŸ¤— Transformers æœ‰ä»¥ä¸‹è®°å½•çº§åˆ«ï¼š

+   50ï¼š`transformers.logging.CRITICAL`æˆ–`transformers.logging.FATAL`

+   40ï¼š`transformers.logging.ERROR`

+   30ï¼š`transformers.logging.WARNING`æˆ–`transformers.logging.WARN`

+   20ï¼š`transformers.logging.INFO`

+   10ï¼š`transformers.logging.DEBUG`

#### `transformers.utils.logging.set_verbosity`

[<æ¥æº>](https://github.com/huggingface/transformers/blob/v4.37.2/src/transformers/utils/logging.py#L185)

```py
( verbosity: int )
```

å‚æ•°

+   `verbosity`ï¼ˆ`int`ï¼‰â€” è®°å½•çº§åˆ«ï¼Œä¾‹å¦‚ï¼š

    +   `transformers.logging.CRITICAL`æˆ–`transformers.logging.FATAL`

    +   `transformers.logging.ERROR`

    +   `transformers.logging.WARNING`æˆ–`transformers.logging.WARN`

    +   `transformers.logging.INFO`

    +   `transformers.logging.DEBUG`

ä¸ºğŸ¤— Transformers çš„æ ¹è®°å½•å™¨è®¾ç½®è¯¦ç»†ç¨‹åº¦çº§åˆ«ã€‚

#### `transformers.utils.logging.get_logger`

[<æ¥æº>](https://github.com/huggingface/transformers/blob/v4.37.2/src/transformers/utils/logging.py#L148)

```py
( name: Optional = None )
```

è¿”å›å…·æœ‰æŒ‡å®šåç§°çš„è®°å½•å™¨ã€‚

è¿™ä¸ªåŠŸèƒ½ä¸åº”è¯¥ç›´æ¥è®¿é—®ï¼Œé™¤éä½ æ­£åœ¨ç¼–å†™ä¸€ä¸ªè‡ªå®šä¹‰çš„ transformers æ¨¡å—ã€‚

#### `transformers.utils.logging.enable_default_handler`

[<æ¥æº>](https://github.com/huggingface/transformers/blob/v4.37.2/src/transformers/utils/logging.py#L233)

```py
( )
```

å¯ç”¨ HuggingFace Transformers çš„æ ¹è®°å½•å™¨çš„é»˜è®¤å¤„ç†ç¨‹åºã€‚

#### `transformers.utils.logging.disable_default_handler`

[<æ¥æº>](https://github.com/huggingface/transformers/blob/v4.37.2/src/transformers/utils/logging.py#L224)

```py
( )
```

ç¦ç”¨ HuggingFace Transformers çš„æ ¹è®°å½•å™¨çš„é»˜è®¤å¤„ç†ç¨‹åºã€‚

#### `transformers.utils.logging.enable_explicit_format`

[<æ¥æº>](https://github.com/huggingface/transformers/blob/v4.37.2/src/transformers/utils/logging.py#L279)

```py
( )
```

ä¸ºæ¯ä¸ª HuggingFace Transformers çš„è®°å½•å™¨å¯ç”¨æ˜¾å¼æ ¼å¼ã€‚æ˜¾å¼æ ¼å¼å¦‚ä¸‹ï¼š

```py
    [LEVELNAME|FILENAME|LINE NUMBER] TIME >> MESSAGE
```

æ­¤æ–¹æ³•å½±å“å½“å‰ç»‘å®šåˆ°æ ¹è®°å½•å™¨çš„æ‰€æœ‰å¤„ç†ç¨‹åºã€‚#### `transformers.utils.logging.reset_format`

[<æ¥æº>](https://github.com/huggingface/transformers/blob/v4.37.2/src/transformers/utils/logging.py#L294)

```py
( )
```

é‡ç½® HuggingFace Transformers çš„è®°å½•æ ¼å¼ã€‚

æ­¤æ–¹æ³•å½±å“å½“å‰ç»‘å®šåˆ°æ ¹è®°å½•å™¨çš„æ‰€æœ‰å¤„ç†ç¨‹åºã€‚

#### `transformers.utils.logging.enable_progress_bar`

[<æ¥æº>](https://github.com/huggingface/transformers/blob/v4.37.2/src/transformers/utils/logging.py#L385)

```py
( )
```

å¯ç”¨ tqdm è¿›åº¦æ¡ã€‚

#### `transformers.utils.logging.disable_progress_bar`

[<æ¥æº>](https://github.com/huggingface/transformers/blob/v4.37.2/src/transformers/utils/logging.py#L392)

```py
( )
```

ç¦ç”¨ tqdm è¿›åº¦æ¡ã€‚
